(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))a(p);new MutationObserver(p=>{for(const b of p)if(b.type==="childList")for(const w of b.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&a(w)}).observe(document,{childList:!0,subtree:!0});function r(p){const b={};return p.integrity&&(b.integrity=p.integrity),p.referrerPolicy&&(b.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?b.credentials="include":p.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function a(p){if(p.ep)return;p.ep=!0;const b=r(p);fetch(p.href,b)}})();function gg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q_(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var p=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,p.get?p:{enumerable:!0,get:function(){return e[a]}})}),r}var Ih={exports:{}},ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function K_(){if(p0)return ho;p0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,p,b){var w=null;if(b!==void 0&&(w=""+b),p.key!==void 0&&(w=""+p.key),"key"in p){b={};for(var h in p)h!=="key"&&(b[h]=p[h])}else b=p;return p=b.ref,{$$typeof:e,type:a,key:w,ref:p!==void 0?p:null,props:b}}return ho.Fragment=t,ho.jsx=r,ho.jsxs=r,ho}var v0;function Z_(){return v0||(v0=1,Ih.exports=K_()),Ih.exports}var E=Z_(),Yh={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function Q_(){if(y0)return $e;y0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),o=Symbol.iterator;function c(A){return A===null||typeof A!="object"?null:(A=o&&A[o]||A["@@iterator"],typeof A=="function"?A:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(A,M,B){this.props=A,this.context=M,this.refs=y,this.updater=B||f}m.prototype.isReactComponent={},m.prototype.setState=function(A,M){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,M,"setState")},m.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function x(){}x.prototype=m.prototype;function S(A,M,B){this.props=A,this.context=M,this.refs=y,this.updater=B||f}var _=S.prototype=new x;_.constructor=S,g(_,m.prototype),_.isPureReactComponent=!0;var k=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function F(A,M,B,H,N,L){return B=L.ref,{$$typeof:e,type:A,key:M,ref:B!==void 0?B:null,props:L}}function z(A,M){return F(A.type,M,void 0,void 0,void 0,A.props)}function U(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function G(A){var M={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(B){return M[B]})}var ie=/\/+/g;function se(A,M){return typeof A=="object"&&A!==null&&A.key!=null?G(""+A.key):M.toString(36)}function ue(){}function le(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ue,ue):(A.status="pending",A.then(function(M){A.status==="pending"&&(A.status="fulfilled",A.value=M)},function(M){A.status==="pending"&&(A.status="rejected",A.reason=M)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ee(A,M,B,H,N){var L=typeof A;(L==="undefined"||L==="boolean")&&(A=null);var I=!1;if(A===null)I=!0;else switch(L){case"bigint":case"string":case"number":I=!0;break;case"object":switch(A.$$typeof){case e:case t:I=!0;break;case d:return I=A._init,ee(I(A._payload),M,B,H,N)}}if(I)return N=N(A),I=H===""?"."+se(A,0):H,k(N)?(B="",I!=null&&(B=I.replace(ie,"$&/")+"/"),ee(N,M,B,"",function(ne){return ne})):N!=null&&(U(N)&&(N=z(N,B+(N.key==null||A&&A.key===N.key?"":(""+N.key).replace(ie,"$&/")+"/")+I)),M.push(N)),1;I=0;var Z=H===""?".":H+":";if(k(A))for(var te=0;te<A.length;te++)H=A[te],L=Z+se(H,te),I+=ee(H,M,B,L,N);else if(te=c(A),typeof te=="function")for(A=te.call(A),te=0;!(H=A.next()).done;)H=H.value,L=Z+se(H,te++),I+=ee(H,M,B,L,N);else if(L==="object"){if(typeof A.then=="function")return ee(le(A),M,B,H,N);throw M=String(A),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return I}function X(A,M,B){if(A==null)return A;var H=[],N=0;return ee(A,H,"","",function(L){return M.call(B,L,N++)}),H}function W(A){if(A._status===-1){var M=A._result;M=M(),M.then(function(B){(A._status===0||A._status===-1)&&(A._status=1,A._result=B)},function(B){(A._status===0||A._status===-1)&&(A._status=2,A._result=B)}),A._status===-1&&(A._status=0,A._result=M)}if(A._status===1)return A._result.default;throw A._result}var Y=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function P(){}return $e.Children={map:X,forEach:function(A,M,B){X(A,function(){M.apply(this,arguments)},B)},count:function(A){var M=0;return X(A,function(){M++}),M},toArray:function(A){return X(A,function(M){return M})||[]},only:function(A){if(!U(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},$e.Component=m,$e.Fragment=r,$e.Profiler=p,$e.PureComponent=S,$e.StrictMode=a,$e.Suspense=s,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,$e.__COMPILER_RUNTIME={__proto__:null,c:function(A){return O.H.useMemoCache(A)}},$e.cache=function(A){return function(){return A.apply(null,arguments)}},$e.cloneElement=function(A,M,B){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var H=g({},A.props),N=A.key,L=void 0;if(M!=null)for(I in M.ref!==void 0&&(L=void 0),M.key!==void 0&&(N=""+M.key),M)!j.call(M,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&M.ref===void 0||(H[I]=M[I]);var I=arguments.length-2;if(I===1)H.children=B;else if(1<I){for(var Z=Array(I),te=0;te<I;te++)Z[te]=arguments[te+2];H.children=Z}return F(A.type,N,void 0,void 0,L,H)},$e.createContext=function(A){return A={$$typeof:w,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:b,_context:A},A},$e.createElement=function(A,M,B){var H,N={},L=null;if(M!=null)for(H in M.key!==void 0&&(L=""+M.key),M)j.call(M,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(N[H]=M[H]);var I=arguments.length-2;if(I===1)N.children=B;else if(1<I){for(var Z=Array(I),te=0;te<I;te++)Z[te]=arguments[te+2];N.children=Z}if(A&&A.defaultProps)for(H in I=A.defaultProps,I)N[H]===void 0&&(N[H]=I[H]);return F(A,L,void 0,void 0,null,N)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(A){return{$$typeof:h,render:A}},$e.isValidElement=U,$e.lazy=function(A){return{$$typeof:d,_payload:{_status:-1,_result:A},_init:W}},$e.memo=function(A,M){return{$$typeof:u,type:A,compare:M===void 0?null:M}},$e.startTransition=function(A){var M=O.T,B={};O.T=B;try{var H=A(),N=O.S;N!==null&&N(B,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(P,Y)}catch(L){Y(L)}finally{O.T=M}},$e.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},$e.use=function(A){return O.H.use(A)},$e.useActionState=function(A,M,B){return O.H.useActionState(A,M,B)},$e.useCallback=function(A,M){return O.H.useCallback(A,M)},$e.useContext=function(A){return O.H.useContext(A)},$e.useDebugValue=function(){},$e.useDeferredValue=function(A,M){return O.H.useDeferredValue(A,M)},$e.useEffect=function(A,M,B){var H=O.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(A,M)},$e.useId=function(){return O.H.useId()},$e.useImperativeHandle=function(A,M,B){return O.H.useImperativeHandle(A,M,B)},$e.useInsertionEffect=function(A,M){return O.H.useInsertionEffect(A,M)},$e.useLayoutEffect=function(A,M){return O.H.useLayoutEffect(A,M)},$e.useMemo=function(A,M){return O.H.useMemo(A,M)},$e.useOptimistic=function(A,M){return O.H.useOptimistic(A,M)},$e.useReducer=function(A,M,B){return O.H.useReducer(A,M,B)},$e.useRef=function(A){return O.H.useRef(A)},$e.useState=function(A){return O.H.useState(A)},$e.useSyncExternalStore=function(A,M,B){return O.H.useSyncExternalStore(A,M,B)},$e.useTransition=function(){return O.H.useTransition()},$e.version="19.1.0",$e}var b0;function mg(){return b0||(b0=1,Yh.exports=Q_()),Yh.exports}var D=mg();const Le=gg(D);var Xh={exports:{}},go={},$h={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function J_(){return x0||(x0=1,function(e){function t(X,W){var Y=X.length;X.push(W);e:for(;0<Y;){var P=Y-1>>>1,A=X[P];if(0<p(A,W))X[P]=W,X[Y]=A,Y=P;else break e}}function r(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var W=X[0],Y=X.pop();if(Y!==W){X[0]=Y;e:for(var P=0,A=X.length,M=A>>>1;P<M;){var B=2*(P+1)-1,H=X[B],N=B+1,L=X[N];if(0>p(H,Y))N<A&&0>p(L,H)?(X[P]=L,X[N]=Y,P=N):(X[P]=H,X[B]=Y,P=B);else if(N<A&&0>p(L,Y))X[P]=L,X[N]=Y,P=N;else break e}}return W}function p(X,W){var Y=X.sortIndex-W.sortIndex;return Y!==0?Y:X.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var b=performance;e.unstable_now=function(){return b.now()}}else{var w=Date,h=w.now();e.unstable_now=function(){return w.now()-h}}var s=[],u=[],d=1,o=null,c=3,f=!1,g=!1,y=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function k(X){for(var W=r(u);W!==null;){if(W.callback===null)a(u);else if(W.startTime<=X)a(u),W.sortIndex=W.expirationTime,t(s,W);else break;W=r(u)}}function O(X){if(y=!1,k(X),!g)if(r(s)!==null)g=!0,j||(j=!0,se());else{var W=r(u);W!==null&&ee(O,W.startTime-X)}}var j=!1,F=-1,z=5,U=-1;function G(){return m?!0:!(e.unstable_now()-U<z)}function ie(){if(m=!1,j){var X=e.unstable_now();U=X;var W=!0;try{e:{g=!1,y&&(y=!1,S(F),F=-1),f=!0;var Y=c;try{t:{for(k(X),o=r(s);o!==null&&!(o.expirationTime>X&&G());){var P=o.callback;if(typeof P=="function"){o.callback=null,c=o.priorityLevel;var A=P(o.expirationTime<=X);if(X=e.unstable_now(),typeof A=="function"){o.callback=A,k(X),W=!0;break t}o===r(s)&&a(s),k(X)}else a(s);o=r(s)}if(o!==null)W=!0;else{var M=r(u);M!==null&&ee(O,M.startTime-X),W=!1}}break e}finally{o=null,c=Y,f=!1}W=void 0}}finally{W?se():j=!1}}}var se;if(typeof _=="function")se=function(){_(ie)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,le=ue.port2;ue.port1.onmessage=ie,se=function(){le.postMessage(null)}}else se=function(){x(ie,0)};function ee(X,W){F=x(function(){X(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_next=function(X){switch(c){case 1:case 2:case 3:var W=3;break;default:W=c}var Y=c;c=W;try{return X()}finally{c=Y}},e.unstable_requestPaint=function(){m=!0},e.unstable_runWithPriority=function(X,W){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Y=c;c=X;try{return W()}finally{c=Y}},e.unstable_scheduleCallback=function(X,W,Y){var P=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?P+Y:P):Y=P,X){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=Y+A,X={id:d++,callback:W,priorityLevel:X,startTime:Y,expirationTime:A,sortIndex:-1},Y>P?(X.sortIndex=Y,t(u,X),r(s)===null&&X===r(u)&&(y?(S(F),F=-1):y=!0,ee(O,Y-P))):(X.sortIndex=A,t(s,X),g||f||(g=!0,j||(j=!0,se()))),X},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(X){var W=c;return function(){var Y=c;c=W;try{return X.apply(this,arguments)}finally{c=Y}}}}(Gh)),Gh}var w0;function eT(){return w0||(w0=1,$h.exports=J_()),$h.exports}var Wh={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function tT(){if(S0)return Zt;S0=1;var e=mg();function t(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},p=Symbol.for("react.portal");function b(s,u,d){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:o==null?null:""+o,children:s,containerInfo:u,implementation:d}}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(s,u){if(s==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zt.createPortal=function(s,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return b(s,u,null,d)},Zt.flushSync=function(s){var u=w.T,d=a.p;try{if(w.T=null,a.p=2,s)return s()}finally{w.T=u,a.p=d,a.d.f()}},Zt.preconnect=function(s,u){typeof s=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,a.d.C(s,u))},Zt.prefetchDNS=function(s){typeof s=="string"&&a.d.D(s)},Zt.preinit=function(s,u){if(typeof s=="string"&&u&&typeof u.as=="string"){var d=u.as,o=h(d,u.crossOrigin),c=typeof u.integrity=="string"?u.integrity:void 0,f=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?a.d.S(s,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:o,integrity:c,fetchPriority:f}):d==="script"&&a.d.X(s,{crossOrigin:o,integrity:c,fetchPriority:f,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Zt.preinitModule=function(s,u){if(typeof s=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=h(u.as,u.crossOrigin);a.d.M(s,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&a.d.M(s)},Zt.preload=function(s,u){if(typeof s=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,o=h(d,u.crossOrigin);a.d.L(s,d,{crossOrigin:o,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Zt.preloadModule=function(s,u){if(typeof s=="string")if(u){var d=h(u.as,u.crossOrigin);a.d.m(s,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else a.d.m(s)},Zt.requestFormReset=function(s){a.d.r(s)},Zt.unstable_batchedUpdates=function(s,u){return s(u)},Zt.useFormState=function(s,u,d){return w.H.useFormState(s,u,d)},Zt.useFormStatus=function(){return w.H.useHostTransitionStatus()},Zt.version="19.1.0",Zt}var C0;function nT(){if(C0)return Wh.exports;C0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wh.exports=tT(),Wh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function iT(){if(_0)return go;_0=1;var e=eT(),t=mg(),r=nT();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function b(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function w(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(b(n)!==n)throw Error(a(188))}function s(n){var i=n.alternate;if(!i){if(i=b(n),i===null)throw Error(a(188));return i!==n?null:n}for(var l=n,v=i;;){var C=l.return;if(C===null)break;var T=C.alternate;if(T===null){if(v=C.return,v!==null){l=v;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===l)return h(C),n;if(T===v)return h(C),i;T=T.sibling}throw Error(a(188))}if(l.return!==v.return)l=C,v=T;else{for(var R=!1,V=C.child;V;){if(V===l){R=!0,l=C,v=T;break}if(V===v){R=!0,v=C,l=T;break}V=V.sibling}if(!R){for(V=T.child;V;){if(V===l){R=!0,l=T,v=C;break}if(V===v){R=!0,v=T,l=C;break}V=V.sibling}if(!R)throw Error(a(189))}}if(l.alternate!==v)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?n:i}function u(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=u(n),i!==null)return i;n=n.sibling}return null}var d=Object.assign,o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),_=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Symbol.for("react.client.reference");function le(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ue?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case g:return"Fragment";case m:return"Profiler";case y:return"StrictMode";case O:return"Suspense";case j:return"SuspenseList";case U:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case f:return"Portal";case _:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case k:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return i=n.displayName||null,i!==null?i:le(n.type)||"Memo";case z:i=n._payload,n=n._init;try{return le(n(i))}catch{}}return null}var ee=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},P=[],A=-1;function M(n){return{current:n}}function B(n){0>A||(n.current=P[A],P[A]=null,A--)}function H(n,i){A++,P[A]=n.current,n.current=i}var N=M(null),L=M(null),I=M(null),Z=M(null);function te(n,i){switch(H(I,i),H(L,n),H(N,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Yy(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Yy(i),n=Xy(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}B(N),H(N,n)}function ne(){B(N),B(L),B(I)}function me(n){n.memoizedState!==null&&H(Z,n);var i=N.current,l=Xy(i,n.type);i!==l&&(H(L,n),H(N,l))}function xe(n){L.current===n&&(B(N),B(L)),Z.current===n&&(B(Z),oo._currentValue=Y)}var Ee=Object.prototype.hasOwnProperty,he=e.unstable_scheduleCallback,re=e.unstable_cancelCallback,ye=e.unstable_shouldYield,be=e.unstable_requestPaint,ge=e.unstable_now,Te=e.unstable_getCurrentPriorityLevel,Oe=e.unstable_ImmediatePriority,$=e.unstable_UserBlockingPriority,Q=e.unstable_NormalPriority,q=e.unstable_LowPriority,ve=e.unstable_IdlePriority,Se=e.log,Ce=e.unstable_setDisableYieldValue,Ae=null,Me=null;function ze(n){if(typeof Se=="function"&&Ce(n),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Ae,n)}catch{}}var Ye=Math.clz32?Math.clz32:fn,un=Math.log,Wt=Math.LN2;function fn(n){return n>>>=0,n===0?32:31-(un(n)/Wt|0)|0}var Jn=256,Yn=4194304;function Xn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mi(n,i,l){var v=n.pendingLanes;if(v===0)return 0;var C=0,T=n.suspendedLanes,R=n.pingedLanes;n=n.warmLanes;var V=v&134217727;return V!==0?(v=V&~T,v!==0?C=Xn(v):(R&=V,R!==0?C=Xn(R):l||(l=V&~n,l!==0&&(C=Xn(l))))):(V=v&~T,V!==0?C=Xn(V):R!==0?C=Xn(R):l||(l=v&~n,l!==0&&(C=Xn(l)))),C===0?0:i!==0&&i!==C&&(i&T)===0&&(T=C&-C,l=i&-i,T>=l||T===32&&(l&4194048)!==0)?i:C}function wr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ol(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Em(){var n=Jn;return Jn<<=1,(Jn&4194048)===0&&(Jn=256),n}function Om(){var n=Yn;return Yn<<=1,(Yn&62914560)===0&&(Yn=4194304),n}function Du(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function va(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function B2(n,i,l,v,C,T){var R=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var V=n.entanglements,K=n.expirationTimes,ce=n.hiddenUpdates;for(l=R&~l;0<l;){var we=31-Ye(l),ke=1<<we;V[we]=0,K[we]=-1;var fe=ce[we];if(fe!==null)for(ce[we]=null,we=0;we<fe.length;we++){var de=fe[we];de!==null&&(de.lane&=-536870913)}l&=~ke}v!==0&&Am(n,v,0),T!==0&&C===0&&n.tag!==0&&(n.suspendedLanes|=T&~(R&~i))}function Am(n,i,l){n.pendingLanes|=i,n.suspendedLanes&=~i;var v=31-Ye(i);n.entangledLanes|=i,n.entanglements[v]=n.entanglements[v]|1073741824|l&4194090}function Mm(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var v=31-Ye(l),C=1<<v;C&i|n[v]&i&&(n[v]|=i),l&=~C}}function ju(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ru(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dm(){var n=W.p;return n!==0?n:(n=window.event,n===void 0?32:u0(n.type))}function F2(n,i){var l=W.p;try{return W.p=n,i()}finally{W.p=l}}var Hi=Math.random().toString(36).slice(2),qt="__reactFiber$"+Hi,hn="__reactProps$"+Hi,es="__reactContainer$"+Hi,Pu="__reactEvents$"+Hi,z2="__reactListeners$"+Hi,V2="__reactHandles$"+Hi,jm="__reactResources$"+Hi,ya="__reactMarker$"+Hi;function Lu(n){delete n[qt],delete n[hn],delete n[Pu],delete n[z2],delete n[V2]}function ts(n){var i=n[qt];if(i)return i;for(var l=n.parentNode;l;){if(i=l[es]||l[qt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=qy(n);n!==null;){if(l=n[qt])return l;n=qy(n)}return i}n=l,l=n.parentNode}return null}function ns(n){if(n=n[qt]||n[es]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ba(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function is(n){var i=n[jm];return i||(i=n[jm]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Bt(n){n[ya]=!0}var Rm=new Set,Pm={};function Sr(n,i){rs(n,i),rs(n+"Capture",i)}function rs(n,i){for(Pm[n]=i,n=0;n<i.length;n++)Rm.add(i[n])}var U2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lm={},Nm={};function H2(n){return Ee.call(Nm,n)?!0:Ee.call(Lm,n)?!1:U2.test(n)?Nm[n]=!0:(Lm[n]=!0,!1)}function ll(n,i,l){if(H2(i))if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var v=i.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+l)}}function cl(n,i,l){if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+l)}}function pi(n,i,l,v){if(v===null)n.removeAttribute(l);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(i,l,""+v)}}var Nu,Bm;function ss(n){if(Nu===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Nu=i&&i[1]||"",Bm=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nu+n+Bm}var Bu=!1;function Fu(n,i){if(!n||Bu)return"";Bu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(i){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(de){var fe=de}Reflect.construct(n,[],ke)}else{try{ke.call()}catch(de){fe=de}n.call(ke.prototype)}}else{try{throw Error()}catch(de){fe=de}(ke=n())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(de){if(de&&fe&&typeof de.stack=="string")return[de.stack,fe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),R=T[0],V=T[1];if(R&&V){var K=R.split(`
`),ce=V.split(`
`);for(C=v=0;v<K.length&&!K[v].includes("DetermineComponentFrameRoot");)v++;for(;C<ce.length&&!ce[C].includes("DetermineComponentFrameRoot");)C++;if(v===K.length||C===ce.length)for(v=K.length-1,C=ce.length-1;1<=v&&0<=C&&K[v]!==ce[C];)C--;for(;1<=v&&0<=C;v--,C--)if(K[v]!==ce[C]){if(v!==1||C!==1)do if(v--,C--,0>C||K[v]!==ce[C]){var we=`
`+K[v].replace(" at new "," at ");return n.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",n.displayName)),we}while(1<=v&&0<=C);break}}}finally{Bu=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ss(l):""}function I2(n){switch(n.tag){case 26:case 27:case 5:return ss(n.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 15:return Fu(n.type,!1);case 11:return Fu(n.type.render,!1);case 1:return Fu(n.type,!0);case 31:return ss("Activity");default:return""}}function Fm(n){try{var i="";do i+=I2(n),n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zm(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Y2(n){var i=zm(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),v=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var C=l.get,T=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return C.call(this)},set:function(R){v=""+R,T.call(this,R)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return v},setValue:function(R){v=""+R},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ul(n){n._valueTracker||(n._valueTracker=Y2(n))}function Vm(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),v="";return n&&(v=zm(n)?n.checked?"true":"false":n.value),n=v,n!==l?(i.setValue(n),!0):!1}function fl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var X2=/[\n"\\]/g;function jn(n){return n.replace(X2,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zu(n,i,l,v,C,T,R,V){n.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.type=R:n.removeAttribute("type"),i!=null?R==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Dn(i)):n.value!==""+Dn(i)&&(n.value=""+Dn(i)):R!=="submit"&&R!=="reset"||n.removeAttribute("value"),i!=null?Vu(n,R,Dn(i)):l!=null?Vu(n,R,Dn(l)):v!=null&&n.removeAttribute("value"),C==null&&T!=null&&(n.defaultChecked=!!T),C!=null&&(n.checked=C&&typeof C!="function"&&typeof C!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?n.name=""+Dn(V):n.removeAttribute("name")}function Um(n,i,l,v,C,T,R,V){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.type=T),i!=null||l!=null){if(!(T!=="submit"&&T!=="reset"||i!=null))return;l=l!=null?""+Dn(l):"",i=i!=null?""+Dn(i):l,V||i===n.value||(n.value=i),n.defaultValue=i}v=v??C,v=typeof v!="function"&&typeof v!="symbol"&&!!v,n.checked=V?n.checked:!!v,n.defaultChecked=!!v,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(n.name=R)}function Vu(n,i,l){i==="number"&&fl(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function as(n,i,l,v){if(n=n.options,i){i={};for(var C=0;C<l.length;C++)i["$"+l[C]]=!0;for(l=0;l<n.length;l++)C=i.hasOwnProperty("$"+n[l].value),n[l].selected!==C&&(n[l].selected=C),C&&v&&(n[l].defaultSelected=!0)}else{for(l=""+Dn(l),i=null,C=0;C<n.length;C++){if(n[C].value===l){n[C].selected=!0,v&&(n[C].defaultSelected=!0);return}i!==null||n[C].disabled||(i=n[C])}i!==null&&(i.selected=!0)}}function Hm(n,i,l){if(i!=null&&(i=""+Dn(i),i!==n.value&&(n.value=i),l==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=l!=null?""+Dn(l):""}function Im(n,i,l,v){if(i==null){if(v!=null){if(l!=null)throw Error(a(92));if(ee(v)){if(1<v.length)throw Error(a(93));v=v[0]}l=v}l==null&&(l=""),i=l}l=Dn(i),n.defaultValue=l,v=n.textContent,v===l&&v!==""&&v!==null&&(n.value=v)}function os(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var $2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ym(n,i,l){var v=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?v?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":v?n.setProperty(i,l):typeof l!="number"||l===0||$2.has(i)?i==="float"?n.cssFloat=l:n[i]=(""+l).trim():n[i]=l+"px"}function Xm(n,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,l!=null){for(var v in l)!l.hasOwnProperty(v)||i!=null&&i.hasOwnProperty(v)||(v.indexOf("--")===0?n.setProperty(v,""):v==="float"?n.cssFloat="":n[v]="");for(var C in i)v=i[C],i.hasOwnProperty(C)&&l[C]!==v&&Ym(n,C,v)}else for(var T in i)i.hasOwnProperty(T)&&Ym(n,T,i[T])}function Uu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(n){return W2.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Hu=null;function Iu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ls=null,cs=null;function $m(n){var i=ns(n);if(i&&(n=i.stateNode)){var l=n[hn]||null;e:switch(n=i.stateNode,i.type){case"input":if(zu(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var v=l[i];if(v!==n&&v.form===n.form){var C=v[hn]||null;if(!C)throw Error(a(90));zu(v,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(i=0;i<l.length;i++)v=l[i],v.form===n.form&&Vm(v)}break e;case"textarea":Hm(n,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&as(n,!!l.multiple,i,!1)}}}var Yu=!1;function Gm(n,i,l){if(Yu)return n(i,l);Yu=!0;try{var v=n(i);return v}finally{if(Yu=!1,(ls!==null||cs!==null)&&(Zl(),ls&&(i=ls,n=cs,cs=ls=null,$m(i),n)))for(i=0;i<n.length;i++)$m(n[i])}}function xa(n,i){var l=n.stateNode;if(l===null)return null;var v=l[hn]||null;if(v===null)return null;l=v[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(n=n.type,v=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!v;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=!1;if(vi)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Xu=!1}var Ii=null,$u=null,dl=null;function Wm(){if(dl)return dl;var n,i=$u,l=i.length,v,C="value"in Ii?Ii.value:Ii.textContent,T=C.length;for(n=0;n<l&&i[n]===C[n];n++);var R=l-n;for(v=1;v<=R&&i[l-v]===C[T-v];v++);return dl=C.slice(n,1<v?1-v:void 0)}function gl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ml(){return!0}function qm(){return!1}function dn(n){function i(l,v,C,T,R){this._reactName=l,this._targetInst=C,this.type=v,this.nativeEvent=T,this.target=R,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(l=n[V],this[V]=l?l(T):T[V]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ml:qm,this.isPropagationStopped=qm,this}return d(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),i}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=dn(Cr),Sa=d({},Cr,{view:0,detail:0}),q2=dn(Sa),Gu,Wu,Ca,vl=d({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ca&&(Ca&&n.type==="mousemove"?(Gu=n.screenX-Ca.screenX,Wu=n.screenY-Ca.screenY):Wu=Gu=0,Ca=n),Gu)},movementY:function(n){return"movementY"in n?n.movementY:Wu}}),Km=dn(vl),K2=d({},vl,{dataTransfer:0}),Z2=dn(K2),Q2=d({},Sa,{relatedTarget:0}),qu=dn(Q2),J2=d({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),eC=dn(J2),tC=d({},Cr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nC=dn(tC),iC=d({},Cr,{data:0}),Zm=dn(iC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oC(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=aC[n])?!!i[n]:!1}function Ku(){return oC}var lC=d({},Sa,{key:function(n){if(n.key){var i=rC[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=gl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(n){return n.type==="keypress"?gl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cC=dn(lC),uC=d({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=dn(uC),fC=d({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),hC=dn(fC),dC=d({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gC=dn(dC),mC=d({},vl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pC=dn(mC),vC=d({},Cr,{newState:0,oldState:0}),yC=dn(vC),bC=[9,13,27,32],Zu=vi&&"CompositionEvent"in window,_a=null;vi&&"documentMode"in document&&(_a=document.documentMode);var xC=vi&&"TextEvent"in window&&!_a,Jm=vi&&(!Zu||_a&&8<_a&&11>=_a),ep=" ",tp=!1;function np(n,i){switch(n){case"keyup":return bC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var us=!1;function wC(n,i){switch(n){case"compositionend":return ip(i);case"keypress":return i.which!==32?null:(tp=!0,ep);case"textInput":return n=i.data,n===ep&&tp?null:n;default:return null}}function SC(n,i){if(us)return n==="compositionend"||!Zu&&np(n,i)?(n=Wm(),dl=$u=Ii=null,us=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jm&&i.locale!=="ko"?null:i.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!CC[n.type]:i==="textarea"}function sp(n,i,l,v){ls?cs?cs.push(v):cs=[v]:ls=v,i=ic(i,"onChange"),0<i.length&&(l=new pl("onChange","change",null,l,v),n.push({event:l,listeners:i}))}var Ta=null,ka=null;function _C(n){zy(n,0)}function yl(n){var i=ba(n);if(Vm(i))return n}function ap(n,i){if(n==="change")return i}var op=!1;if(vi){var Qu;if(vi){var Ju="oninput"in document;if(!Ju){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),Ju=typeof lp.oninput=="function"}Qu=Ju}else Qu=!1;op=Qu&&(!document.documentMode||9<document.documentMode)}function cp(){Ta&&(Ta.detachEvent("onpropertychange",up),ka=Ta=null)}function up(n){if(n.propertyName==="value"&&yl(ka)){var i=[];sp(i,ka,n,Iu(n)),Gm(_C,i)}}function TC(n,i,l){n==="focusin"?(cp(),Ta=i,ka=l,Ta.attachEvent("onpropertychange",up)):n==="focusout"&&cp()}function kC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yl(ka)}function EC(n,i){if(n==="click")return yl(i)}function OC(n,i){if(n==="input"||n==="change")return yl(i)}function AC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var xn=typeof Object.is=="function"?Object.is:AC;function Ea(n,i){if(xn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),v=Object.keys(i);if(l.length!==v.length)return!1;for(v=0;v<l.length;v++){var C=l[v];if(!Ee.call(i,C)||!xn(n[C],i[C]))return!1}return!0}function fp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hp(n,i){var l=fp(n);n=0;for(var v;l;){if(l.nodeType===3){if(v=n+l.textContent.length,n<=i&&v>=i)return{node:l,offset:i-n};n=v}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fp(l)}}function dp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?dp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function gp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=fl(n.document);i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=fl(n.document)}return i}function ef(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var MC=vi&&"documentMode"in document&&11>=document.documentMode,fs=null,tf=null,Oa=null,nf=!1;function mp(n,i,l){var v=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nf||fs==null||fs!==fl(v)||(v=fs,"selectionStart"in v&&ef(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Oa&&Ea(Oa,v)||(Oa=v,v=ic(tf,"onSelect"),0<v.length&&(i=new pl("onSelect","select",null,i,l),n.push({event:i,listeners:v}),i.target=fs)))}function _r(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var hs={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},rf={},pp={};vi&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Tr(n){if(rf[n])return rf[n];if(!hs[n])return n;var i=hs[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in pp)return rf[n]=i[l];return n}var vp=Tr("animationend"),yp=Tr("animationiteration"),bp=Tr("animationstart"),DC=Tr("transitionrun"),jC=Tr("transitionstart"),RC=Tr("transitioncancel"),xp=Tr("transitionend"),wp=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function $n(n,i){wp.set(n,i),Sr(i,[n])}var Sp=new WeakMap;function Rn(n,i){if(typeof n=="object"&&n!==null){var l=Sp.get(n);return l!==void 0?l:(i={value:n,source:i,stack:Fm(i)},Sp.set(n,i),i)}return{value:n,source:i,stack:Fm(i)}}var Pn=[],ds=0,af=0;function bl(){for(var n=ds,i=af=ds=0;i<n;){var l=Pn[i];Pn[i++]=null;var v=Pn[i];Pn[i++]=null;var C=Pn[i];Pn[i++]=null;var T=Pn[i];if(Pn[i++]=null,v!==null&&C!==null){var R=v.pending;R===null?C.next=C:(C.next=R.next,R.next=C),v.pending=C}T!==0&&Cp(l,C,T)}}function xl(n,i,l,v){Pn[ds++]=n,Pn[ds++]=i,Pn[ds++]=l,Pn[ds++]=v,af|=v,n.lanes|=v,n=n.alternate,n!==null&&(n.lanes|=v)}function of(n,i,l,v){return xl(n,i,l,v),wl(n)}function gs(n,i){return xl(n,null,null,i),wl(n)}function Cp(n,i,l){n.lanes|=l;var v=n.alternate;v!==null&&(v.lanes|=l);for(var C=!1,T=n.return;T!==null;)T.childLanes|=l,v=T.alternate,v!==null&&(v.childLanes|=l),T.tag===22&&(n=T.stateNode,n===null||n._visibility&1||(C=!0)),n=T,T=T.return;return n.tag===3?(T=n.stateNode,C&&i!==null&&(C=31-Ye(l),n=T.hiddenUpdates,v=n[C],v===null?n[C]=[i]:v.push(i),i.lane=l|536870912),T):null}function wl(n){if(50<Ja)throw Ja=0,dh=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ms={};function PC(n,i,l,v){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,i,l,v){return new PC(n,i,l,v)}function lf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yi(n,i){var l=n.alternate;return l===null?(l=wn(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function _p(n,i){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,i=l.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Sl(n,i,l,v,C,T){var R=0;if(v=n,typeof n=="function")lf(n)&&(R=1);else if(typeof n=="string")R=N_(n,l,N.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case U:return n=wn(31,l,i,C),n.elementType=U,n.lanes=T,n;case g:return kr(l.children,C,T,i);case y:R=8,C|=24;break;case m:return n=wn(12,l,i,C|2),n.elementType=m,n.lanes=T,n;case O:return n=wn(13,l,i,C),n.elementType=O,n.lanes=T,n;case j:return n=wn(19,l,i,C),n.elementType=j,n.lanes=T,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case _:R=10;break e;case S:R=9;break e;case k:R=11;break e;case F:R=14;break e;case z:R=16,v=null;break e}R=29,l=Error(a(130,n===null?"null":typeof n,"")),v=null}return i=wn(R,l,i,C),i.elementType=n,i.type=v,i.lanes=T,i}function kr(n,i,l,v){return n=wn(7,n,v,i),n.lanes=l,n}function cf(n,i,l){return n=wn(6,n,null,i),n.lanes=l,n}function uf(n,i,l){return i=wn(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ps=[],vs=0,Cl=null,_l=0,Ln=[],Nn=0,Er=null,bi=1,xi="";function Or(n,i){ps[vs++]=_l,ps[vs++]=Cl,Cl=n,_l=i}function Tp(n,i,l){Ln[Nn++]=bi,Ln[Nn++]=xi,Ln[Nn++]=Er,Er=n;var v=bi;n=xi;var C=32-Ye(v)-1;v&=~(1<<C),l+=1;var T=32-Ye(i)+C;if(30<T){var R=C-C%5;T=(v&(1<<R)-1).toString(32),v>>=R,C-=R,bi=1<<32-Ye(i)+C|l<<C|v,xi=T+n}else bi=1<<T|l<<C|v,xi=n}function ff(n){n.return!==null&&(Or(n,1),Tp(n,1,0))}function hf(n){for(;n===Cl;)Cl=ps[--vs],ps[vs]=null,_l=ps[--vs],ps[vs]=null;for(;n===Er;)Er=Ln[--Nn],Ln[Nn]=null,xi=Ln[--Nn],Ln[Nn]=null,bi=Ln[--Nn],Ln[Nn]=null}var rn=null,yt=null,tt=!1,Ar=null,ei=!1,df=Error(a(519));function Mr(n){var i=Error(a(418,""));throw Da(Rn(i,n)),df}function kp(n){var i=n.stateNode,l=n.type,v=n.memoizedProps;switch(i[qt]=n,i[hn]=v,l){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(l=0;l<to.length;l++)Ze(to[l],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),Um(i,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),ul(i);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),Im(i,v.value,v.defaultValue,v.children),ul(i)}l=v.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||v.suppressHydrationWarning===!0||Iy(i.textContent,l)?(v.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),v.onScroll!=null&&Ze("scroll",i),v.onScrollEnd!=null&&Ze("scrollend",i),v.onClick!=null&&(i.onclick=rc),i=!0):i=!1,i||Mr(n)}function Ep(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:rn=rn.return}}function Aa(n){if(n!==rn)return!1;if(!tt)return Ep(n),tt=!0,!1;var i=n.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Ah(n.type,n.memoizedProps)),l=!l),l&&yt&&Mr(n),Ep(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(i===0){yt=Wn(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;n=n.nextSibling}yt=null}}else i===27?(i=yt,sr(n.type)?(n=Rh,Rh=null,yt=n):yt=i):yt=rn?Wn(n.stateNode.nextSibling):null;return!0}function Ma(){yt=rn=null,tt=!1}function Op(){var n=Ar;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),Ar=null),n}function Da(n){Ar===null?Ar=[n]:Ar.push(n)}var gf=M(null),Dr=null,wi=null;function Yi(n,i,l){H(gf,i._currentValue),i._currentValue=l}function Si(n){n._currentValue=gf.current,B(gf)}function mf(n,i,l){for(;n!==null;){var v=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,v!==null&&(v.childLanes|=i)):v!==null&&(v.childLanes&i)!==i&&(v.childLanes|=i),n===l)break;n=n.return}}function pf(n,i,l,v){var C=n.child;for(C!==null&&(C.return=n);C!==null;){var T=C.dependencies;if(T!==null){var R=C.child;T=T.firstContext;e:for(;T!==null;){var V=T;T=C;for(var K=0;K<i.length;K++)if(V.context===i[K]){T.lanes|=l,V=T.alternate,V!==null&&(V.lanes|=l),mf(T.return,l,n),v||(R=null);break e}T=V.next}}else if(C.tag===18){if(R=C.return,R===null)throw Error(a(341));R.lanes|=l,T=R.alternate,T!==null&&(T.lanes|=l),mf(R,l,n),R=null}else R=C.child;if(R!==null)R.return=C;else for(R=C;R!==null;){if(R===n){R=null;break}if(C=R.sibling,C!==null){C.return=R.return,R=C;break}R=R.return}C=R}}function ja(n,i,l,v){n=null;for(var C=i,T=!1;C!==null;){if(!T){if((C.flags&524288)!==0)T=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var R=C.alternate;if(R===null)throw Error(a(387));if(R=R.memoizedProps,R!==null){var V=C.type;xn(C.pendingProps.value,R.value)||(n!==null?n.push(V):n=[V])}}else if(C===Z.current){if(R=C.alternate,R===null)throw Error(a(387));R.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(n!==null?n.push(oo):n=[oo])}C=C.return}n!==null&&pf(i,n,l,v),i.flags|=262144}function Tl(n){for(n=n.firstContext;n!==null;){if(!xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function jr(n){Dr=n,wi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Ap(Dr,n)}function kl(n,i){return Dr===null&&jr(n),Ap(n,i)}function Ap(n,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},wi===null){if(n===null)throw Error(a(308));wi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else wi=wi.next=i;return l}var LC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(l,v){n.push(v)}};this.abort=function(){i.aborted=!0,n.forEach(function(l){return l()})}},NC=e.unstable_scheduleCallback,BC=e.unstable_NormalPriority,jt={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new LC,data:new Map,refCount:0}}function Ra(n){n.refCount--,n.refCount===0&&NC(BC,function(){n.controller.abort()})}var Pa=null,yf=0,ys=0,bs=null;function FC(n,i){if(Pa===null){var l=Pa=[];yf=0,ys=xh(),bs={status:"pending",value:void 0,then:function(v){l.push(v)}}}return yf++,i.then(Mp,Mp),i}function Mp(){if(--yf===0&&Pa!==null){bs!==null&&(bs.status="fulfilled");var n=Pa;Pa=null,ys=0,bs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function zC(n,i){var l=[],v={status:"pending",value:null,reason:null,then:function(C){l.push(C)}};return n.then(function(){v.status="fulfilled",v.value=i;for(var C=0;C<l.length;C++)(0,l[C])(i)},function(C){for(v.status="rejected",v.reason=C,C=0;C<l.length;C++)(0,l[C])(void 0)}),v}var Dp=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FC(n,i),Dp!==null&&Dp(n,i)};var Rr=M(null);function bf(){var n=Rr.current;return n!==null?n:ut.pooledCache}function El(n,i){i===null?H(Rr,Rr.current):H(Rr,i.pool)}function jp(){var n=bf();return n===null?null:{parent:jt._currentValue,pool:n}}var La=Error(a(460)),Rp=Error(a(474)),Ol=Error(a(542)),xf={then:function(){}};function Pp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Al(){}function Lp(n,i,l){switch(l=n[l],l===void 0?n.push(i):l!==i&&(i.then(Al,Al),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Bp(n),n;default:if(typeof i.status=="string")i.then(Al,Al);else{if(n=ut,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(v){if(i.status==="pending"){var C=i;C.status="fulfilled",C.value=v}},function(v){if(i.status==="pending"){var C=i;C.status="rejected",C.reason=v}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Bp(n),n}throw Na=i,La}}var Na=null;function Np(){if(Na===null)throw Error(a(459));var n=Na;return Na=null,n}function Bp(n){if(n===La||n===Ol)throw Error(a(483))}var Xi=!1;function wf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $i(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gi(n,i,l){var v=n.updateQueue;if(v===null)return null;if(v=v.shared,(it&2)!==0){var C=v.pending;return C===null?i.next=i:(i.next=C.next,C.next=i),v.pending=i,i=wl(n),Cp(n,null,l),i}return xl(n,v,i,l),wl(n)}function Ba(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var v=i.lanes;v&=n.pendingLanes,l|=v,i.lanes=l,Mm(n,l)}}function Cf(n,i){var l=n.updateQueue,v=n.alternate;if(v!==null&&(v=v.updateQueue,l===v)){var C=null,T=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};T===null?C=T=R:T=T.next=R,l=l.next}while(l!==null);T===null?C=T=i:T=T.next=i}else C=T=i;l={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}var _f=!1;function Fa(){if(_f){var n=bs;if(n!==null)throw n}}function za(n,i,l,v){_f=!1;var C=n.updateQueue;Xi=!1;var T=C.firstBaseUpdate,R=C.lastBaseUpdate,V=C.shared.pending;if(V!==null){C.shared.pending=null;var K=V,ce=K.next;K.next=null,R===null?T=ce:R.next=ce,R=K;var we=n.alternate;we!==null&&(we=we.updateQueue,V=we.lastBaseUpdate,V!==R&&(V===null?we.firstBaseUpdate=ce:V.next=ce,we.lastBaseUpdate=K))}if(T!==null){var ke=C.baseState;R=0,we=ce=K=null,V=T;do{var fe=V.lane&-536870913,de=fe!==V.lane;if(de?(Qe&fe)===fe:(v&fe)===fe){fe!==0&&fe===ys&&(_f=!0),we!==null&&(we=we.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var He=n,Ve=V;fe=i;var lt=l;switch(Ve.tag){case 1:if(He=Ve.payload,typeof He=="function"){ke=He.call(lt,ke,fe);break e}ke=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ve.payload,fe=typeof He=="function"?He.call(lt,ke,fe):He,fe==null)break e;ke=d({},ke,fe);break e;case 2:Xi=!0}}fe=V.callback,fe!==null&&(n.flags|=64,de&&(n.flags|=8192),de=C.callbacks,de===null?C.callbacks=[fe]:de.push(fe))}else de={lane:fe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},we===null?(ce=we=de,K=ke):we=we.next=de,R|=fe;if(V=V.next,V===null){if(V=C.shared.pending,V===null)break;de=V,V=de.next,de.next=null,C.lastBaseUpdate=de,C.shared.pending=null}}while(!0);we===null&&(K=ke),C.baseState=K,C.firstBaseUpdate=ce,C.lastBaseUpdate=we,T===null&&(C.shared.lanes=0),tr|=R,n.lanes=R,n.memoizedState=ke}}function Fp(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function zp(n,i){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Fp(l[n],i)}var xs=M(null),Ml=M(0);function Vp(n,i){n=Ai,H(Ml,n),H(xs,i),Ai=n|i.baseLanes}function Tf(){H(Ml,Ai),H(xs,xs.current)}function kf(){Ai=Ml.current,B(xs),B(Ml)}var Wi=0,Ge=null,at=null,Ot=null,Dl=!1,ws=!1,Pr=!1,jl=0,Va=0,Ss=null,VC=0;function wt(){throw Error(a(321))}function Ef(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!xn(n[l],i[l]))return!1;return!0}function Of(n,i,l,v,C,T){return Wi=T,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?Cv:_v,Pr=!1,T=l(v,C),Pr=!1,ws&&(T=Hp(i,l,v,C)),Up(n),T}function Up(n){X.H=Fl;var i=at!==null&&at.next!==null;if(Wi=0,Ot=at=Ge=null,Dl=!1,Va=0,Ss=null,i)throw Error(a(300));n===null||Ft||(n=n.dependencies,n!==null&&Tl(n)&&(Ft=!0))}function Hp(n,i,l,v){Ge=n;var C=0;do{if(ws&&(Ss=null),Va=0,ws=!1,25<=C)throw Error(a(301));if(C+=1,Ot=at=null,n.updateQueue!=null){var T=n.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}X.H=GC,T=i(l,v)}while(ws);return T}function UC(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Ua(i):i,n=n.useState()[0],(at!==null?at.memoizedState:null)!==n&&(Ge.flags|=1024),i}function Af(){var n=jl!==0;return jl=0,n}function Mf(n,i,l){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~l}function Df(n){if(Dl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Dl=!1}Wi=0,Ot=at=Ge=null,ws=!1,Va=jl=0,Ss=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ge.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function At(){if(at===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var i=Ot===null?Ge.memoizedState:Ot.next;if(i!==null)Ot=i,at=n;else{if(n===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ot===null?Ge.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ua(n){var i=Va;return Va+=1,Ss===null&&(Ss=[]),n=Lp(Ss,n,i),i=Ge,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Cv:_v),n}function Rl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ua(n);if(n.$$typeof===_)return Kt(n)}throw Error(a(438,String(n)))}function Rf(n){var i=null,l=Ge.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var v=Ge.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(i={data:v.data.map(function(C){return C.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=jf(),Ge.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(n),v=0;v<n;v++)l[v]=G;return i.index++,l}function Ci(n,i){return typeof i=="function"?i(n):i}function Pl(n){var i=At();return Pf(i,at,n)}function Pf(n,i,l){var v=n.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=l;var C=n.baseQueue,T=v.pending;if(T!==null){if(C!==null){var R=C.next;C.next=T.next,T.next=R}i.baseQueue=C=T,v.pending=null}if(T=n.baseState,C===null)n.memoizedState=T;else{i=C.next;var V=R=null,K=null,ce=i,we=!1;do{var ke=ce.lane&-536870913;if(ke!==ce.lane?(Qe&ke)===ke:(Wi&ke)===ke){var fe=ce.revertLane;if(fe===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),ke===ys&&(we=!0);else if((Wi&fe)===fe){ce=ce.next,fe===ys&&(we=!0);continue}else ke={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(V=K=ke,R=T):K=K.next=ke,Ge.lanes|=fe,tr|=fe;ke=ce.action,Pr&&l(T,ke),T=ce.hasEagerState?ce.eagerState:l(T,ke)}else fe={lane:ke,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(V=K=fe,R=T):K=K.next=fe,Ge.lanes|=ke,tr|=ke;ce=ce.next}while(ce!==null&&ce!==i);if(K===null?R=T:K.next=V,!xn(T,n.memoizedState)&&(Ft=!0,we&&(l=bs,l!==null)))throw l;n.memoizedState=T,n.baseState=R,n.baseQueue=K,v.lastRenderedState=T}return C===null&&(v.lanes=0),[n.memoizedState,v.dispatch]}function Lf(n){var i=At(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=n;var v=l.dispatch,C=l.pending,T=i.memoizedState;if(C!==null){l.pending=null;var R=C=C.next;do T=n(T,R.action),R=R.next;while(R!==C);xn(T,i.memoizedState)||(Ft=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),l.lastRenderedState=T}return[T,v]}function Ip(n,i,l){var v=Ge,C=At(),T=tt;if(T){if(l===void 0)throw Error(a(407));l=l()}else l=i();var R=!xn((at||C).memoizedState,l);R&&(C.memoizedState=l,Ft=!0),C=C.queue;var V=$p.bind(null,v,C,n);if(Ha(2048,8,V,[n]),C.getSnapshot!==i||R||Ot!==null&&Ot.memoizedState.tag&1){if(v.flags|=2048,Cs(9,Ll(),Xp.bind(null,v,C,l,i),null),ut===null)throw Error(a(349));T||(Wi&124)!==0||Yp(v,i,l)}return l}function Yp(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Ge.updateQueue,i===null?(i=jf(),Ge.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function Xp(n,i,l,v){i.value=l,i.getSnapshot=v,Gp(i)&&Wp(n)}function $p(n,i,l){return l(function(){Gp(i)&&Wp(n)})}function Gp(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!xn(n,l)}catch{return!0}}function Wp(n){var i=gs(n,2);i!==null&&kn(i,n,2)}function Nf(n){var i=gn();if(typeof n=="function"){var l=n;if(n=l(),Pr){ze(!0);try{l()}finally{ze(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:n},i}function qp(n,i,l,v){return n.baseState=l,Pf(n,at,typeof v=="function"?v:Ci)}function HC(n,i,l,v,C){if(Bl(n))throw Error(a(485));if(n=i.action,n!==null){var T={payload:C,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){T.listeners.push(R)}};X.T!==null?l(!0):T.isTransition=!1,v(T),l=i.pending,l===null?(T.next=i.pending=T,Kp(i,T)):(T.next=l.next,i.pending=l.next=T)}}function Kp(n,i){var l=i.action,v=i.payload,C=n.state;if(i.isTransition){var T=X.T,R={};X.T=R;try{var V=l(C,v),K=X.S;K!==null&&K(R,V),Zp(n,i,V)}catch(ce){Bf(n,i,ce)}finally{X.T=T}}else try{T=l(C,v),Zp(n,i,T)}catch(ce){Bf(n,i,ce)}}function Zp(n,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(v){Qp(n,i,v)},function(v){return Bf(n,i,v)}):Qp(n,i,l)}function Qp(n,i,l){i.status="fulfilled",i.value=l,Jp(i),n.state=l,i=n.pending,i!==null&&(l=i.next,l===i?n.pending=null:(l=l.next,i.next=l,Kp(n,l)))}function Bf(n,i,l){var v=n.pending;if(n.pending=null,v!==null){v=v.next;do i.status="rejected",i.reason=l,Jp(i),i=i.next;while(i!==v)}n.action=null}function Jp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ev(n,i){return i}function tv(n,i){if(tt){var l=ut.formState;if(l!==null){e:{var v=Ge;if(tt){if(yt){t:{for(var C=yt,T=ei;C.nodeType!==8;){if(!T){C=null;break t}if(C=Wn(C.nextSibling),C===null){C=null;break t}}T=C.data,C=T==="F!"||T==="F"?C:null}if(C){yt=Wn(C.nextSibling),v=C.data==="F!";break e}}Mr(v)}v=!1}v&&(i=l[0])}}return l=gn(),l.memoizedState=l.baseState=i,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:i},l.queue=v,l=xv.bind(null,Ge,v),v.dispatch=l,v=Nf(!1),T=Hf.bind(null,Ge,!1,v.queue),v=gn(),C={state:i,dispatch:null,action:n,pending:null},v.queue=C,l=HC.bind(null,Ge,C,T,l),C.dispatch=l,v.memoizedState=n,[i,l,!1]}function nv(n){var i=At();return iv(i,at,n)}function iv(n,i,l){if(i=Pf(n,i,ev)[0],n=Pl(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var v=Ua(i)}catch(R){throw R===La?Ol:R}else v=i;i=At();var C=i.queue,T=C.dispatch;return l!==i.memoizedState&&(Ge.flags|=2048,Cs(9,Ll(),IC.bind(null,C,l),null)),[v,T,n]}function IC(n,i){n.action=i}function rv(n){var i=At(),l=at;if(l!==null)return iv(i,l,n);At(),i=i.memoizedState,l=At();var v=l.queue.dispatch;return l.memoizedState=n,[i,v,!1]}function Cs(n,i,l,v){return n={tag:n,create:l,deps:v,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=jf(),Ge.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=n.next=n:(v=l.next,l.next=n,n.next=v,i.lastEffect=n),n}function Ll(){return{destroy:void 0,resource:void 0}}function sv(){return At().memoizedState}function Nl(n,i,l,v){var C=gn();v=v===void 0?null:v,Ge.flags|=n,C.memoizedState=Cs(1|i,Ll(),l,v)}function Ha(n,i,l,v){var C=At();v=v===void 0?null:v;var T=C.memoizedState.inst;at!==null&&v!==null&&Ef(v,at.memoizedState.deps)?C.memoizedState=Cs(i,T,l,v):(Ge.flags|=n,C.memoizedState=Cs(1|i,T,l,v))}function av(n,i){Nl(8390656,8,n,i)}function ov(n,i){Ha(2048,8,n,i)}function lv(n,i){return Ha(4,2,n,i)}function cv(n,i){return Ha(4,4,n,i)}function uv(n,i){if(typeof i=="function"){n=n();var l=i(n);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function fv(n,i,l){l=l!=null?l.concat([n]):null,Ha(4,4,uv.bind(null,i,n),l)}function Ff(){}function hv(n,i){var l=At();i=i===void 0?null:i;var v=l.memoizedState;return i!==null&&Ef(i,v[1])?v[0]:(l.memoizedState=[n,i],n)}function dv(n,i){var l=At();i=i===void 0?null:i;var v=l.memoizedState;if(i!==null&&Ef(i,v[1]))return v[0];if(v=n(),Pr){ze(!0);try{n()}finally{ze(!1)}}return l.memoizedState=[v,i],v}function zf(n,i,l){return l===void 0||(Wi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=l,n=py(),Ge.lanes|=n,tr|=n,l)}function gv(n,i,l,v){return xn(l,i)?l:xs.current!==null?(n=zf(n,l,v),xn(n,i)||(Ft=!0),n):(Wi&42)===0?(Ft=!0,n.memoizedState=l):(n=py(),Ge.lanes|=n,tr|=n,i)}function mv(n,i,l,v,C){var T=W.p;W.p=T!==0&&8>T?T:8;var R=X.T,V={};X.T=V,Hf(n,!1,i,l);try{var K=C(),ce=X.S;if(ce!==null&&ce(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var we=zC(K,v);Ia(n,i,we,Tn(n))}else Ia(n,i,v,Tn(n))}catch(ke){Ia(n,i,{then:function(){},status:"rejected",reason:ke},Tn())}finally{W.p=T,X.T=R}}function YC(){}function Vf(n,i,l,v){if(n.tag!==5)throw Error(a(476));var C=pv(n).queue;mv(n,C,i,Y,l===null?YC:function(){return vv(n),l(v)})}function pv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Y},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:l},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function vv(n){var i=pv(n).next.queue;Ia(n,i,{},Tn())}function Uf(){return Kt(oo)}function yv(){return At().memoizedState}function bv(){return At().memoizedState}function XC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var l=Tn();n=$i(l);var v=Gi(i,n,l);v!==null&&(kn(v,i,l),Ba(v,i,l)),i={cache:vf()},n.payload=i;return}i=i.return}}function $C(n,i,l){var v=Tn();l={lane:v,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bl(n)?wv(i,l):(l=of(n,i,l,v),l!==null&&(kn(l,n,v),Sv(l,i,v)))}function xv(n,i,l){var v=Tn();Ia(n,i,l,v)}function Ia(n,i,l,v){var C={lane:v,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bl(n))wv(i,C);else{var T=n.alternate;if(n.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var R=i.lastRenderedState,V=T(R,l);if(C.hasEagerState=!0,C.eagerState=V,xn(V,R))return xl(n,i,C,0),ut===null&&bl(),!1}catch{}finally{}if(l=of(n,i,C,v),l!==null)return kn(l,n,v),Sv(l,i,v),!0}return!1}function Hf(n,i,l,v){if(v={lane:2,revertLane:xh(),action:v,hasEagerState:!1,eagerState:null,next:null},Bl(n)){if(i)throw Error(a(479))}else i=of(n,l,v,2),i!==null&&kn(i,n,2)}function Bl(n){var i=n.alternate;return n===Ge||i!==null&&i===Ge}function wv(n,i){ws=Dl=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function Sv(n,i,l){if((l&4194048)!==0){var v=i.lanes;v&=n.pendingLanes,l|=v,i.lanes=l,Mm(n,l)}}var Fl={readContext:Kt,use:Rl,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},Cv={readContext:Kt,use:Rl,useCallback:function(n,i){return gn().memoizedState=[n,i===void 0?null:i],n},useContext:Kt,useEffect:av,useImperativeHandle:function(n,i,l){l=l!=null?l.concat([n]):null,Nl(4194308,4,uv.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Nl(4194308,4,n,i)},useInsertionEffect:function(n,i){Nl(4,2,n,i)},useMemo:function(n,i){var l=gn();i=i===void 0?null:i;var v=n();if(Pr){ze(!0);try{n()}finally{ze(!1)}}return l.memoizedState=[v,i],v},useReducer:function(n,i,l){var v=gn();if(l!==void 0){var C=l(i);if(Pr){ze(!0);try{l(i)}finally{ze(!1)}}}else C=i;return v.memoizedState=v.baseState=C,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:C},v.queue=n,n=n.dispatch=$C.bind(null,Ge,n),[v.memoizedState,n]},useRef:function(n){var i=gn();return n={current:n},i.memoizedState=n},useState:function(n){n=Nf(n);var i=n.queue,l=xv.bind(null,Ge,i);return i.dispatch=l,[n.memoizedState,l]},useDebugValue:Ff,useDeferredValue:function(n,i){var l=gn();return zf(l,n,i)},useTransition:function(){var n=Nf(!1);return n=mv.bind(null,Ge,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,l){var v=Ge,C=gn();if(tt){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),ut===null)throw Error(a(349));(Qe&124)!==0||Yp(v,i,l)}C.memoizedState=l;var T={value:l,getSnapshot:i};return C.queue=T,av($p.bind(null,v,T,n),[n]),v.flags|=2048,Cs(9,Ll(),Xp.bind(null,v,T,l,i),null),l},useId:function(){var n=gn(),i=ut.identifierPrefix;if(tt){var l=xi,v=bi;l=(v&~(1<<32-Ye(v)-1)).toString(32)+l,i="«"+i+"R"+l,l=jl++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=VC++,i="«"+i+"r"+l.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Uf,useFormState:tv,useActionState:tv,useOptimistic:function(n){var i=gn();i.memoizedState=i.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Hf.bind(null,Ge,!0,l),l.dispatch=i,[n,i]},useMemoCache:Rf,useCacheRefresh:function(){return gn().memoizedState=XC.bind(null,Ge)}},_v={readContext:Kt,use:Rl,useCallback:hv,useContext:Kt,useEffect:ov,useImperativeHandle:fv,useInsertionEffect:lv,useLayoutEffect:cv,useMemo:dv,useReducer:Pl,useRef:sv,useState:function(){return Pl(Ci)},useDebugValue:Ff,useDeferredValue:function(n,i){var l=At();return gv(l,at.memoizedState,n,i)},useTransition:function(){var n=Pl(Ci)[0],i=At().memoizedState;return[typeof n=="boolean"?n:Ua(n),i]},useSyncExternalStore:Ip,useId:yv,useHostTransitionStatus:Uf,useFormState:nv,useActionState:nv,useOptimistic:function(n,i){var l=At();return qp(l,at,n,i)},useMemoCache:Rf,useCacheRefresh:bv},GC={readContext:Kt,use:Rl,useCallback:hv,useContext:Kt,useEffect:ov,useImperativeHandle:fv,useInsertionEffect:lv,useLayoutEffect:cv,useMemo:dv,useReducer:Lf,useRef:sv,useState:function(){return Lf(Ci)},useDebugValue:Ff,useDeferredValue:function(n,i){var l=At();return at===null?zf(l,n,i):gv(l,at.memoizedState,n,i)},useTransition:function(){var n=Lf(Ci)[0],i=At().memoizedState;return[typeof n=="boolean"?n:Ua(n),i]},useSyncExternalStore:Ip,useId:yv,useHostTransitionStatus:Uf,useFormState:rv,useActionState:rv,useOptimistic:function(n,i){var l=At();return at!==null?qp(l,at,n,i):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:bv},_s=null,Ya=0;function zl(n){var i=Ya;return Ya+=1,_s===null&&(_s=[]),Lp(_s,n,i)}function Xa(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Vl(n,i){throw i.$$typeof===o?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Tv(n){var i=n._init;return i(n._payload)}function kv(n){function i(ae,J){if(n){var oe=ae.deletions;oe===null?(ae.deletions=[J],ae.flags|=16):oe.push(J)}}function l(ae,J){if(!n)return null;for(;J!==null;)i(ae,J),J=J.sibling;return null}function v(ae){for(var J=new Map;ae!==null;)ae.key!==null?J.set(ae.key,ae):J.set(ae.index,ae),ae=ae.sibling;return J}function C(ae,J){return ae=yi(ae,J),ae.index=0,ae.sibling=null,ae}function T(ae,J,oe){return ae.index=oe,n?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<J?(ae.flags|=67108866,J):oe):(ae.flags|=67108866,J)):(ae.flags|=1048576,J)}function R(ae){return n&&ae.alternate===null&&(ae.flags|=67108866),ae}function V(ae,J,oe,_e){return J===null||J.tag!==6?(J=cf(oe,ae.mode,_e),J.return=ae,J):(J=C(J,oe),J.return=ae,J)}function K(ae,J,oe,_e){var je=oe.type;return je===g?we(ae,J,oe.props.children,_e,oe.key):J!==null&&(J.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===z&&Tv(je)===J.type)?(J=C(J,oe.props),Xa(J,oe),J.return=ae,J):(J=Sl(oe.type,oe.key,oe.props,null,ae.mode,_e),Xa(J,oe),J.return=ae,J)}function ce(ae,J,oe,_e){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=uf(oe,ae.mode,_e),J.return=ae,J):(J=C(J,oe.children||[]),J.return=ae,J)}function we(ae,J,oe,_e,je){return J===null||J.tag!==7?(J=kr(oe,ae.mode,_e,je),J.return=ae,J):(J=C(J,oe),J.return=ae,J)}function ke(ae,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=cf(""+J,ae.mode,oe),J.return=ae,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return oe=Sl(J.type,J.key,J.props,null,ae.mode,oe),Xa(oe,J),oe.return=ae,oe;case f:return J=uf(J,ae.mode,oe),J.return=ae,J;case z:var _e=J._init;return J=_e(J._payload),ke(ae,J,oe)}if(ee(J)||se(J))return J=kr(J,ae.mode,oe,null),J.return=ae,J;if(typeof J.then=="function")return ke(ae,zl(J),oe);if(J.$$typeof===_)return ke(ae,kl(ae,J),oe);Vl(ae,J)}return null}function fe(ae,J,oe,_e){var je=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return je!==null?null:V(ae,J,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case c:return oe.key===je?K(ae,J,oe,_e):null;case f:return oe.key===je?ce(ae,J,oe,_e):null;case z:return je=oe._init,oe=je(oe._payload),fe(ae,J,oe,_e)}if(ee(oe)||se(oe))return je!==null?null:we(ae,J,oe,_e,null);if(typeof oe.then=="function")return fe(ae,J,zl(oe),_e);if(oe.$$typeof===_)return fe(ae,J,kl(ae,oe),_e);Vl(ae,oe)}return null}function de(ae,J,oe,_e,je){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ae=ae.get(oe)||null,V(J,ae,""+_e,je);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case c:return ae=ae.get(_e.key===null?oe:_e.key)||null,K(J,ae,_e,je);case f:return ae=ae.get(_e.key===null?oe:_e.key)||null,ce(J,ae,_e,je);case z:var qe=_e._init;return _e=qe(_e._payload),de(ae,J,oe,_e,je)}if(ee(_e)||se(_e))return ae=ae.get(oe)||null,we(J,ae,_e,je,null);if(typeof _e.then=="function")return de(ae,J,oe,zl(_e),je);if(_e.$$typeof===_)return de(ae,J,oe,kl(J,_e),je);Vl(J,_e)}return null}function He(ae,J,oe,_e){for(var je=null,qe=null,Ne=J,Ue=J=0,Vt=null;Ne!==null&&Ue<oe.length;Ue++){Ne.index>Ue?(Vt=Ne,Ne=null):Vt=Ne.sibling;var Je=fe(ae,Ne,oe[Ue],_e);if(Je===null){Ne===null&&(Ne=Vt);break}n&&Ne&&Je.alternate===null&&i(ae,Ne),J=T(Je,J,Ue),qe===null?je=Je:qe.sibling=Je,qe=Je,Ne=Vt}if(Ue===oe.length)return l(ae,Ne),tt&&Or(ae,Ue),je;if(Ne===null){for(;Ue<oe.length;Ue++)Ne=ke(ae,oe[Ue],_e),Ne!==null&&(J=T(Ne,J,Ue),qe===null?je=Ne:qe.sibling=Ne,qe=Ne);return tt&&Or(ae,Ue),je}for(Ne=v(Ne);Ue<oe.length;Ue++)Vt=de(Ne,ae,Ue,oe[Ue],_e),Vt!==null&&(n&&Vt.alternate!==null&&Ne.delete(Vt.key===null?Ue:Vt.key),J=T(Vt,J,Ue),qe===null?je=Vt:qe.sibling=Vt,qe=Vt);return n&&Ne.forEach(function(ur){return i(ae,ur)}),tt&&Or(ae,Ue),je}function Ve(ae,J,oe,_e){if(oe==null)throw Error(a(151));for(var je=null,qe=null,Ne=J,Ue=J=0,Vt=null,Je=oe.next();Ne!==null&&!Je.done;Ue++,Je=oe.next()){Ne.index>Ue?(Vt=Ne,Ne=null):Vt=Ne.sibling;var ur=fe(ae,Ne,Je.value,_e);if(ur===null){Ne===null&&(Ne=Vt);break}n&&Ne&&ur.alternate===null&&i(ae,Ne),J=T(ur,J,Ue),qe===null?je=ur:qe.sibling=ur,qe=ur,Ne=Vt}if(Je.done)return l(ae,Ne),tt&&Or(ae,Ue),je;if(Ne===null){for(;!Je.done;Ue++,Je=oe.next())Je=ke(ae,Je.value,_e),Je!==null&&(J=T(Je,J,Ue),qe===null?je=Je:qe.sibling=Je,qe=Je);return tt&&Or(ae,Ue),je}for(Ne=v(Ne);!Je.done;Ue++,Je=oe.next())Je=de(Ne,ae,Ue,Je.value,_e),Je!==null&&(n&&Je.alternate!==null&&Ne.delete(Je.key===null?Ue:Je.key),J=T(Je,J,Ue),qe===null?je=Je:qe.sibling=Je,qe=Je);return n&&Ne.forEach(function(W_){return i(ae,W_)}),tt&&Or(ae,Ue),je}function lt(ae,J,oe,_e){if(typeof oe=="object"&&oe!==null&&oe.type===g&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case c:e:{for(var je=oe.key;J!==null;){if(J.key===je){if(je=oe.type,je===g){if(J.tag===7){l(ae,J.sibling),_e=C(J,oe.props.children),_e.return=ae,ae=_e;break e}}else if(J.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===z&&Tv(je)===J.type){l(ae,J.sibling),_e=C(J,oe.props),Xa(_e,oe),_e.return=ae,ae=_e;break e}l(ae,J);break}else i(ae,J);J=J.sibling}oe.type===g?(_e=kr(oe.props.children,ae.mode,_e,oe.key),_e.return=ae,ae=_e):(_e=Sl(oe.type,oe.key,oe.props,null,ae.mode,_e),Xa(_e,oe),_e.return=ae,ae=_e)}return R(ae);case f:e:{for(je=oe.key;J!==null;){if(J.key===je)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){l(ae,J.sibling),_e=C(J,oe.children||[]),_e.return=ae,ae=_e;break e}else{l(ae,J);break}else i(ae,J);J=J.sibling}_e=uf(oe,ae.mode,_e),_e.return=ae,ae=_e}return R(ae);case z:return je=oe._init,oe=je(oe._payload),lt(ae,J,oe,_e)}if(ee(oe))return He(ae,J,oe,_e);if(se(oe)){if(je=se(oe),typeof je!="function")throw Error(a(150));return oe=je.call(oe),Ve(ae,J,oe,_e)}if(typeof oe.then=="function")return lt(ae,J,zl(oe),_e);if(oe.$$typeof===_)return lt(ae,J,kl(ae,oe),_e);Vl(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,J!==null&&J.tag===6?(l(ae,J.sibling),_e=C(J,oe),_e.return=ae,ae=_e):(l(ae,J),_e=cf(oe,ae.mode,_e),_e.return=ae,ae=_e),R(ae)):l(ae,J)}return function(ae,J,oe,_e){try{Ya=0;var je=lt(ae,J,oe,_e);return _s=null,je}catch(Ne){if(Ne===La||Ne===Ol)throw Ne;var qe=wn(29,Ne,null,ae.mode);return qe.lanes=_e,qe.return=ae,qe}finally{}}}var Ts=kv(!0),Ev=kv(!1),Bn=M(null),ti=null;function qi(n){var i=n.alternate;H(Rt,Rt.current&1),H(Bn,n),ti===null&&(i===null||xs.current!==null||i.memoizedState!==null)&&(ti=n)}function Ov(n){if(n.tag===22){if(H(Rt,Rt.current),H(Bn,n),ti===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(ti=n)}}else Ki()}function Ki(){H(Rt,Rt.current),H(Bn,Bn.current)}function _i(n){B(Bn),ti===n&&(ti=null),B(Rt)}var Rt=M(0);function Ul(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||jh(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function If(n,i,l,v){i=n.memoizedState,l=l(v,i),l=l==null?i:d({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Yf={enqueueSetState:function(n,i,l){n=n._reactInternals;var v=Tn(),C=$i(v);C.payload=i,l!=null&&(C.callback=l),i=Gi(n,C,v),i!==null&&(kn(i,n,v),Ba(i,n,v))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var v=Tn(),C=$i(v);C.tag=1,C.payload=i,l!=null&&(C.callback=l),i=Gi(n,C,v),i!==null&&(kn(i,n,v),Ba(i,n,v))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Tn(),v=$i(l);v.tag=2,i!=null&&(v.callback=i),i=Gi(n,v,l),i!==null&&(kn(i,n,l),Ba(i,n,l))}};function Av(n,i,l,v,C,T,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(v,T,R):i.prototype&&i.prototype.isPureReactComponent?!Ea(l,v)||!Ea(C,T):!0}function Mv(n,i,l,v){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,v),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,v),i.state!==n&&Yf.enqueueReplaceState(i,i.state,null)}function Lr(n,i){var l=i;if("ref"in i){l={};for(var v in i)v!=="ref"&&(l[v]=i[v])}if(n=n.defaultProps){l===i&&(l=d({},l));for(var C in n)l[C]===void 0&&(l[C]=n[C])}return l}var Hl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Dv(n){Hl(n)}function jv(n){console.error(n)}function Rv(n){Hl(n)}function Il(n,i){try{var l=n.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(v){setTimeout(function(){throw v})}}function Pv(n,i,l){try{var v=n.onCaughtError;v(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Xf(n,i,l){return l=$i(l),l.tag=3,l.payload={element:null},l.callback=function(){Il(n,i)},l}function Lv(n){return n=$i(n),n.tag=3,n}function Nv(n,i,l,v){var C=l.type.getDerivedStateFromError;if(typeof C=="function"){var T=v.value;n.payload=function(){return C(T)},n.callback=function(){Pv(i,l,v)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(n.callback=function(){Pv(i,l,v),typeof C!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var V=v.stack;this.componentDidCatch(v.value,{componentStack:V!==null?V:""})})}function WC(n,i,l,v,C){if(l.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(i=l.alternate,i!==null&&ja(i,l,C,!0),l=Bn.current,l!==null){switch(l.tag){case 13:return ti===null?mh():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=C,v===xf?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([v]):i.add(v),vh(n,v,C)),!1;case 22:return l.flags|=65536,v===xf?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([v])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([v]):l.add(v)),vh(n,v,C)),!1}throw Error(a(435,l.tag))}return vh(n,v,C),mh(),!1}if(tt)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=C,v!==df&&(n=Error(a(422),{cause:v}),Da(Rn(n,l)))):(v!==df&&(i=Error(a(423),{cause:v}),Da(Rn(i,l))),n=n.current.alternate,n.flags|=65536,C&=-C,n.lanes|=C,v=Rn(v,l),C=Xf(n.stateNode,v,C),Cf(n,C),bt!==4&&(bt=2)),!1;var T=Error(a(520),{cause:v});if(T=Rn(T,l),Qa===null?Qa=[T]:Qa.push(T),bt!==4&&(bt=2),i===null)return!0;v=Rn(v,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,n=C&-C,l.lanes|=n,n=Xf(l.stateNode,v,n),Cf(l,n),!1;case 1:if(i=l.type,T=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(nr===null||!nr.has(T))))return l.flags|=65536,C&=-C,l.lanes|=C,C=Lv(C),Nv(C,n,l,v),Cf(l,C),!1}l=l.return}while(l!==null);return!1}var Bv=Error(a(461)),Ft=!1;function It(n,i,l,v){i.child=n===null?Ev(i,null,l,v):Ts(i,n.child,l,v)}function Fv(n,i,l,v,C){l=l.render;var T=i.ref;if("ref"in v){var R={};for(var V in v)V!=="ref"&&(R[V]=v[V])}else R=v;return jr(i),v=Of(n,i,l,R,T,C),V=Af(),n!==null&&!Ft?(Mf(n,i,C),Ti(n,i,C)):(tt&&V&&ff(i),i.flags|=1,It(n,i,v,C),i.child)}function zv(n,i,l,v,C){if(n===null){var T=l.type;return typeof T=="function"&&!lf(T)&&T.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=T,Vv(n,i,T,v,C)):(n=Sl(l.type,null,v,i,i.mode,C),n.ref=i.ref,n.return=i,i.child=n)}if(T=n.child,!Jf(n,C)){var R=T.memoizedProps;if(l=l.compare,l=l!==null?l:Ea,l(R,v)&&n.ref===i.ref)return Ti(n,i,C)}return i.flags|=1,n=yi(T,v),n.ref=i.ref,n.return=i,i.child=n}function Vv(n,i,l,v,C){if(n!==null){var T=n.memoizedProps;if(Ea(T,v)&&n.ref===i.ref)if(Ft=!1,i.pendingProps=v=T,Jf(n,C))(n.flags&131072)!==0&&(Ft=!0);else return i.lanes=n.lanes,Ti(n,i,C)}return $f(n,i,l,v,C)}function Uv(n,i,l){var v=i.pendingProps,C=v.children,T=n!==null?n.memoizedState:null;if(v.mode==="hidden"){if((i.flags&128)!==0){if(v=T!==null?T.baseLanes|l:l,n!==null){for(C=i.child=n.child,T=0;C!==null;)T=T|C.lanes|C.childLanes,C=C.sibling;i.childLanes=T&~v}else i.childLanes=0,i.child=null;return Hv(n,i,v,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&El(i,T!==null?T.cachePool:null),T!==null?Vp(i,T):Tf(),Ov(i);else return i.lanes=i.childLanes=536870912,Hv(n,i,T!==null?T.baseLanes|l:l,l)}else T!==null?(El(i,T.cachePool),Vp(i,T),Ki(),i.memoizedState=null):(n!==null&&El(i,null),Tf(),Ki());return It(n,i,C,l),i.child}function Hv(n,i,l,v){var C=bf();return C=C===null?null:{parent:jt._currentValue,pool:C},i.memoizedState={baseLanes:l,cachePool:C},n!==null&&El(i,null),Tf(),Ov(i),n!==null&&ja(n,i,v,!0),null}function Yl(n,i){var l=i.ref;if(l===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(n===null||n.ref!==l)&&(i.flags|=4194816)}}function $f(n,i,l,v,C){return jr(i),l=Of(n,i,l,v,void 0,C),v=Af(),n!==null&&!Ft?(Mf(n,i,C),Ti(n,i,C)):(tt&&v&&ff(i),i.flags|=1,It(n,i,l,C),i.child)}function Iv(n,i,l,v,C,T){return jr(i),i.updateQueue=null,l=Hp(i,v,l,C),Up(n),v=Af(),n!==null&&!Ft?(Mf(n,i,T),Ti(n,i,T)):(tt&&v&&ff(i),i.flags|=1,It(n,i,l,T),i.child)}function Yv(n,i,l,v,C){if(jr(i),i.stateNode===null){var T=ms,R=l.contextType;typeof R=="object"&&R!==null&&(T=Kt(R)),T=new l(v,T),i.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Yf,i.stateNode=T,T._reactInternals=i,T=i.stateNode,T.props=v,T.state=i.memoizedState,T.refs={},wf(i),R=l.contextType,T.context=typeof R=="object"&&R!==null?Kt(R):ms,T.state=i.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(If(i,l,R,v),T.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(R=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),R!==T.state&&Yf.enqueueReplaceState(T,T.state,null),za(i,v,T,C),Fa(),T.state=i.memoizedState),typeof T.componentDidMount=="function"&&(i.flags|=4194308),v=!0}else if(n===null){T=i.stateNode;var V=i.memoizedProps,K=Lr(l,V);T.props=K;var ce=T.context,we=l.contextType;R=ms,typeof we=="object"&&we!==null&&(R=Kt(we));var ke=l.getDerivedStateFromProps;we=typeof ke=="function"||typeof T.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,we||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V||ce!==R)&&Mv(i,T,v,R),Xi=!1;var fe=i.memoizedState;T.state=fe,za(i,v,T,C),Fa(),ce=i.memoizedState,V||fe!==ce||Xi?(typeof ke=="function"&&(If(i,l,ke,v),ce=i.memoizedState),(K=Xi||Av(i,l,K,v,fe,ce,R))?(we||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=v,i.memoizedState=ce),T.props=v,T.state=ce,T.context=R,v=K):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),v=!1)}else{T=i.stateNode,Sf(n,i),R=i.memoizedProps,we=Lr(l,R),T.props=we,ke=i.pendingProps,fe=T.context,ce=l.contextType,K=ms,typeof ce=="object"&&ce!==null&&(K=Kt(ce)),V=l.getDerivedStateFromProps,(ce=typeof V=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==ke||fe!==K)&&Mv(i,T,v,K),Xi=!1,fe=i.memoizedState,T.state=fe,za(i,v,T,C),Fa();var de=i.memoizedState;R!==ke||fe!==de||Xi||n!==null&&n.dependencies!==null&&Tl(n.dependencies)?(typeof V=="function"&&(If(i,l,V,v),de=i.memoizedState),(we=Xi||Av(i,l,we,v,fe,de,K)||n!==null&&n.dependencies!==null&&Tl(n.dependencies))?(ce||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,de,K),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,de,K)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===n.memoizedProps&&fe===n.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&fe===n.memoizedState||(i.flags|=1024),i.memoizedProps=v,i.memoizedState=de),T.props=v,T.state=de,T.context=K,v=we):(typeof T.componentDidUpdate!="function"||R===n.memoizedProps&&fe===n.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&fe===n.memoizedState||(i.flags|=1024),v=!1)}return T=v,Yl(n,i),v=(i.flags&128)!==0,T||v?(T=i.stateNode,l=v&&typeof l.getDerivedStateFromError!="function"?null:T.render(),i.flags|=1,n!==null&&v?(i.child=Ts(i,n.child,null,C),i.child=Ts(i,null,l,C)):It(n,i,l,C),i.memoizedState=T.state,n=i.child):n=Ti(n,i,C),n}function Xv(n,i,l,v){return Ma(),i.flags|=256,It(n,i,l,v),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(n){return{baseLanes:n,cachePool:jp()}}function qf(n,i,l){return n=n!==null?n.childLanes&~l:0,i&&(n|=Fn),n}function $v(n,i,l){var v=i.pendingProps,C=!1,T=(i.flags&128)!==0,R;if((R=T)||(R=n!==null&&n.memoizedState===null?!1:(Rt.current&2)!==0),R&&(C=!0,i.flags&=-129),R=(i.flags&32)!==0,i.flags&=-33,n===null){if(tt){if(C?qi(i):Ki(),tt){var V=yt,K;if(K=V){e:{for(K=V,V=ei;K.nodeType!==8;){if(!V){V=null;break e}if(K=Wn(K.nextSibling),K===null){V=null;break e}}V=K}V!==null?(i.memoizedState={dehydrated:V,treeContext:Er!==null?{id:bi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},K=wn(18,null,null,0),K.stateNode=V,K.return=i,i.child=K,rn=i,yt=null,K=!0):K=!1}K||Mr(i)}if(V=i.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return jh(V)?i.lanes=32:i.lanes=536870912,null;_i(i)}return V=v.children,v=v.fallback,C?(Ki(),C=i.mode,V=Xl({mode:"hidden",children:V},C),v=kr(v,C,l,null),V.return=i,v.return=i,V.sibling=v,i.child=V,C=i.child,C.memoizedState=Wf(l),C.childLanes=qf(n,R,l),i.memoizedState=Gf,v):(qi(i),Kf(i,V))}if(K=n.memoizedState,K!==null&&(V=K.dehydrated,V!==null)){if(T)i.flags&256?(qi(i),i.flags&=-257,i=Zf(n,i,l)):i.memoizedState!==null?(Ki(),i.child=n.child,i.flags|=128,i=null):(Ki(),C=v.fallback,V=i.mode,v=Xl({mode:"visible",children:v.children},V),C=kr(C,V,l,null),C.flags|=2,v.return=i,C.return=i,v.sibling=C,i.child=v,Ts(i,n.child,null,l),v=i.child,v.memoizedState=Wf(l),v.childLanes=qf(n,R,l),i.memoizedState=Gf,i=C);else if(qi(i),jh(V)){if(R=V.nextSibling&&V.nextSibling.dataset,R)var ce=R.dgst;R=ce,v=Error(a(419)),v.stack="",v.digest=R,Da({value:v,source:null,stack:null}),i=Zf(n,i,l)}else if(Ft||ja(n,i,l,!1),R=(l&n.childLanes)!==0,Ft||R){if(R=ut,R!==null&&(v=l&-l,v=(v&42)!==0?1:ju(v),v=(v&(R.suspendedLanes|l))!==0?0:v,v!==0&&v!==K.retryLane))throw K.retryLane=v,gs(n,v),kn(R,n,v),Bv;V.data==="$?"||mh(),i=Zf(n,i,l)}else V.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=K.treeContext,yt=Wn(V.nextSibling),rn=i,tt=!0,Ar=null,ei=!1,n!==null&&(Ln[Nn++]=bi,Ln[Nn++]=xi,Ln[Nn++]=Er,bi=n.id,xi=n.overflow,Er=i),i=Kf(i,v.children),i.flags|=4096);return i}return C?(Ki(),C=v.fallback,V=i.mode,K=n.child,ce=K.sibling,v=yi(K,{mode:"hidden",children:v.children}),v.subtreeFlags=K.subtreeFlags&65011712,ce!==null?C=yi(ce,C):(C=kr(C,V,l,null),C.flags|=2),C.return=i,v.return=i,v.sibling=C,i.child=v,v=C,C=i.child,V=n.child.memoizedState,V===null?V=Wf(l):(K=V.cachePool,K!==null?(ce=jt._currentValue,K=K.parent!==ce?{parent:ce,pool:ce}:K):K=jp(),V={baseLanes:V.baseLanes|l,cachePool:K}),C.memoizedState=V,C.childLanes=qf(n,R,l),i.memoizedState=Gf,v):(qi(i),l=n.child,n=l.sibling,l=yi(l,{mode:"visible",children:v.children}),l.return=i,l.sibling=null,n!==null&&(R=i.deletions,R===null?(i.deletions=[n],i.flags|=16):R.push(n)),i.child=l,i.memoizedState=null,l)}function Kf(n,i){return i=Xl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Xl(n,i){return n=wn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Zf(n,i,l){return Ts(i,n.child,null,l),n=Kf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Gv(n,i,l){n.lanes|=i;var v=n.alternate;v!==null&&(v.lanes|=i),mf(n.return,i,l)}function Qf(n,i,l,v,C){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:v,tail:l,tailMode:C}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=l,T.tailMode=C)}function Wv(n,i,l){var v=i.pendingProps,C=v.revealOrder,T=v.tail;if(It(n,i,v.children,l),v=Rt.current,(v&2)!==0)v=v&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gv(n,l,i);else if(n.tag===19)Gv(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}v&=1}switch(H(Rt,v),C){case"forwards":for(l=i.child,C=null;l!==null;)n=l.alternate,n!==null&&Ul(n)===null&&(C=l),l=l.sibling;l=C,l===null?(C=i.child,i.child=null):(C=l.sibling,l.sibling=null),Qf(i,!1,C,l,T);break;case"backwards":for(l=null,C=i.child,i.child=null;C!==null;){if(n=C.alternate,n!==null&&Ul(n)===null){i.child=C;break}n=C.sibling,C.sibling=l,l=C,C=n}Qf(i,!0,l,null,T);break;case"together":Qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ti(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),tr|=i.lanes,(l&i.childLanes)===0)if(n!==null){if(ja(n,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,l=yi(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=yi(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function Jf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Tl(n)))}function qC(n,i,l){switch(i.tag){case 3:te(i,i.stateNode.containerInfo),Yi(i,jt,n.memoizedState.cache),Ma();break;case 27:case 5:me(i);break;case 4:te(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 13:var v=i.memoizedState;if(v!==null)return v.dehydrated!==null?(qi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?$v(n,i,l):(qi(i),n=Ti(n,i,l),n!==null?n.sibling:null);qi(i);break;case 19:var C=(n.flags&128)!==0;if(v=(l&i.childLanes)!==0,v||(ja(n,i,l,!1),v=(l&i.childLanes)!==0),C){if(v)return Wv(n,i,l);i.flags|=128}if(C=i.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),H(Rt,Rt.current),v)break;return null;case 22:case 23:return i.lanes=0,Uv(n,i,l);case 24:Yi(i,jt,n.memoizedState.cache)}return Ti(n,i,l)}function qv(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ft=!0;else{if(!Jf(n,l)&&(i.flags&128)===0)return Ft=!1,qC(n,i,l);Ft=(n.flags&131072)!==0}else Ft=!1,tt&&(i.flags&1048576)!==0&&Tp(i,_l,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var v=i.elementType,C=v._init;if(v=C(v._payload),i.type=v,typeof v=="function")lf(v)?(n=Lr(v,n),i.tag=1,i=Yv(null,i,v,n,l)):(i.tag=0,i=$f(null,i,v,n,l));else{if(v!=null){if(C=v.$$typeof,C===k){i.tag=11,i=Fv(null,i,v,n,l);break e}else if(C===F){i.tag=14,i=zv(null,i,v,n,l);break e}}throw i=le(v)||v,Error(a(306,i,""))}}return i;case 0:return $f(n,i,i.type,i.pendingProps,l);case 1:return v=i.type,C=Lr(v,i.pendingProps),Yv(n,i,v,C,l);case 3:e:{if(te(i,i.stateNode.containerInfo),n===null)throw Error(a(387));v=i.pendingProps;var T=i.memoizedState;C=T.element,Sf(n,i),za(i,v,null,l);var R=i.memoizedState;if(v=R.cache,Yi(i,jt,v),v!==T.cache&&pf(i,[jt],l,!0),Fa(),v=R.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:R.cache},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){i=Xv(n,i,v,l);break e}else if(v!==C){C=Rn(Error(a(424)),i),Da(C),i=Xv(n,i,v,l);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(yt=Wn(n.firstChild),rn=i,tt=!0,Ar=null,ei=!0,l=Ev(i,null,v,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ma(),v===C){i=Ti(n,i,l);break e}It(n,i,v,l)}i=i.child}return i;case 26:return Yl(n,i),n===null?(l=Jy(i.type,null,i.pendingProps,null))?i.memoizedState=l:tt||(l=i.type,n=i.pendingProps,v=sc(I.current).createElement(l),v[qt]=i,v[hn]=n,Xt(v,l,n),Bt(v),i.stateNode=v):i.memoizedState=Jy(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return me(i),n===null&&tt&&(v=i.stateNode=Ky(i.type,i.pendingProps,I.current),rn=i,ei=!0,C=yt,sr(i.type)?(Rh=C,yt=Wn(v.firstChild)):yt=C),It(n,i,i.pendingProps.children,l),Yl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&tt&&((C=v=yt)&&(v=C_(v,i.type,i.pendingProps,ei),v!==null?(i.stateNode=v,rn=i,yt=Wn(v.firstChild),ei=!1,C=!0):C=!1),C||Mr(i)),me(i),C=i.type,T=i.pendingProps,R=n!==null?n.memoizedProps:null,v=T.children,Ah(C,T)?v=null:R!==null&&Ah(C,R)&&(i.flags|=32),i.memoizedState!==null&&(C=Of(n,i,UC,null,null,l),oo._currentValue=C),Yl(n,i),It(n,i,v,l),i.child;case 6:return n===null&&tt&&((n=l=yt)&&(l=__(l,i.pendingProps,ei),l!==null?(i.stateNode=l,rn=i,yt=null,n=!0):n=!1),n||Mr(i)),null;case 13:return $v(n,i,l);case 4:return te(i,i.stateNode.containerInfo),v=i.pendingProps,n===null?i.child=Ts(i,null,v,l):It(n,i,v,l),i.child;case 11:return Fv(n,i,i.type,i.pendingProps,l);case 7:return It(n,i,i.pendingProps,l),i.child;case 8:return It(n,i,i.pendingProps.children,l),i.child;case 12:return It(n,i,i.pendingProps.children,l),i.child;case 10:return v=i.pendingProps,Yi(i,i.type,v.value),It(n,i,v.children,l),i.child;case 9:return C=i.type._context,v=i.pendingProps.children,jr(i),C=Kt(C),v=v(C),i.flags|=1,It(n,i,v,l),i.child;case 14:return zv(n,i,i.type,i.pendingProps,l);case 15:return Vv(n,i,i.type,i.pendingProps,l);case 19:return Wv(n,i,l);case 31:return v=i.pendingProps,l=i.mode,v={mode:v.mode,children:v.children},n===null?(l=Xl(v,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=yi(n.child,v),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return Uv(n,i,l);case 24:return jr(i),v=Kt(jt),n===null?(C=bf(),C===null&&(C=ut,T=vf(),C.pooledCache=T,T.refCount++,T!==null&&(C.pooledCacheLanes|=l),C=T),i.memoizedState={parent:v,cache:C},wf(i),Yi(i,jt,C)):((n.lanes&l)!==0&&(Sf(n,i),za(i,null,null,l),Fa()),C=n.memoizedState,T=i.memoizedState,C.parent!==v?(C={parent:v,cache:v},i.memoizedState=C,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=C),Yi(i,jt,v)):(v=T.cache,Yi(i,jt,v),v!==C.cache&&pf(i,[jt],l,!0))),It(n,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ki(n){n.flags|=4}function Kv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!r0(i)){if(i=Bn.current,i!==null&&((Qe&4194048)===Qe?ti!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||i!==ti))throw Na=xf,Rp;n.flags|=8192}}function $l(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Om():536870912,n.lanes|=i,As|=i)}function $a(n,i){if(!tt)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var v=null;l!==null;)l.alternate!==null&&(v=l),l=l.sibling;v===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:v.sibling=null}}function pt(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,v=0;if(i)for(var C=n.child;C!==null;)l|=C.lanes|C.childLanes,v|=C.subtreeFlags&65011712,v|=C.flags&65011712,C.return=n,C=C.sibling;else for(C=n.child;C!==null;)l|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=n,C=C.sibling;return n.subtreeFlags|=v,n.childLanes=l,i}function KC(n,i,l){var v=i.pendingProps;switch(hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return l=i.stateNode,v=null,n!==null&&(v=n.memoizedState.cache),i.memoizedState.cache!==v&&(i.flags|=2048),Si(jt),ne(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Aa(i)?ki(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Op())),pt(i),null;case 26:return l=i.memoizedState,n===null?(ki(i),l!==null?(pt(i),Kv(i,l)):(pt(i),i.flags&=-16777217)):l?l!==n.memoizedState?(ki(i),pt(i),Kv(i,l)):(pt(i),i.flags&=-16777217):(n.memoizedProps!==v&&ki(i),pt(i),i.flags&=-16777217),null;case 27:xe(i),l=I.current;var C=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==v&&ki(i);else{if(!v){if(i.stateNode===null)throw Error(a(166));return pt(i),null}n=N.current,Aa(i)?kp(i):(n=Ky(C,v,l),i.stateNode=n,ki(i))}return pt(i),null;case 5:if(xe(i),l=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==v&&ki(i);else{if(!v){if(i.stateNode===null)throw Error(a(166));return pt(i),null}if(n=N.current,Aa(i))kp(i);else{switch(C=sc(I.current),n){case 1:n=C.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=C.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=C.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=C.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=C.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof v.is=="string"?C.createElement("select",{is:v.is}):C.createElement("select"),v.multiple?n.multiple=!0:v.size&&(n.size=v.size);break;default:n=typeof v.is=="string"?C.createElement(l,{is:v.is}):C.createElement(l)}}n[qt]=i,n[hn]=v;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)n.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=n;e:switch(Xt(n,l,v),l){case"button":case"input":case"select":case"textarea":n=!!v.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ki(i)}}return pt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==v&&ki(i);else{if(typeof v!="string"&&i.stateNode===null)throw Error(a(166));if(n=I.current,Aa(i)){if(n=i.stateNode,l=i.memoizedProps,v=null,C=rn,C!==null)switch(C.tag){case 27:case 5:v=C.memoizedProps}n[qt]=i,n=!!(n.nodeValue===l||v!==null&&v.suppressHydrationWarning===!0||Iy(n.nodeValue,l)),n||Mr(i)}else n=sc(n).createTextNode(v),n[qt]=i,i.stateNode=n}return pt(i),null;case 13:if(v=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(C=Aa(i),v!==null&&v.dehydrated!==null){if(n===null){if(!C)throw Error(a(318));if(C=i.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(a(317));C[qt]=i}else Ma(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),C=!1}else C=Op(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=C),C=!0;if(!C)return i.flags&256?(_i(i),i):(_i(i),null)}if(_i(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=v!==null,n=n!==null&&n.memoizedState!==null,l){v=i.child,C=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(C=v.alternate.memoizedState.cachePool.pool);var T=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==C&&(v.flags|=2048)}return l!==n&&l&&(i.child.flags|=8192),$l(i,i.updateQueue),pt(i),null;case 4:return ne(),n===null&&_h(i.stateNode.containerInfo),pt(i),null;case 10:return Si(i.type),pt(i),null;case 19:if(B(Rt),C=i.memoizedState,C===null)return pt(i),null;if(v=(i.flags&128)!==0,T=C.rendering,T===null)if(v)$a(C,!1);else{if(bt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(T=Ul(n),T!==null){for(i.flags|=128,$a(C,!1),n=T.updateQueue,i.updateQueue=n,$l(i,n),i.subtreeFlags=0,n=l,l=i.child;l!==null;)_p(l,n),l=l.sibling;return H(Rt,Rt.current&1|2),i.child}n=n.sibling}C.tail!==null&&ge()>ql&&(i.flags|=128,v=!0,$a(C,!1),i.lanes=4194304)}else{if(!v)if(n=Ul(T),n!==null){if(i.flags|=128,v=!0,n=n.updateQueue,i.updateQueue=n,$l(i,n),$a(C,!0),C.tail===null&&C.tailMode==="hidden"&&!T.alternate&&!tt)return pt(i),null}else 2*ge()-C.renderingStartTime>ql&&l!==536870912&&(i.flags|=128,v=!0,$a(C,!1),i.lanes=4194304);C.isBackwards?(T.sibling=i.child,i.child=T):(n=C.last,n!==null?n.sibling=T:i.child=T,C.last=T)}return C.tail!==null?(i=C.tail,C.rendering=i,C.tail=i.sibling,C.renderingStartTime=ge(),i.sibling=null,n=Rt.current,H(Rt,v?n&1|2:n&1),i):(pt(i),null);case 22:case 23:return _i(i),kf(),v=i.memoizedState!==null,n!==null?n.memoizedState!==null!==v&&(i.flags|=8192):v&&(i.flags|=8192),v?(l&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),l=i.updateQueue,l!==null&&$l(i,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),v=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(v=i.memoizedState.cachePool.pool),v!==l&&(i.flags|=2048),n!==null&&B(Rr),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Si(jt),pt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ZC(n,i){switch(hf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Si(jt),ne(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return xe(i),null;case 13:if(_i(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ma()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return B(Rt),null;case 4:return ne(),null;case 10:return Si(i.type),null;case 22:case 23:return _i(i),kf(),n!==null&&B(Rr),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Si(jt),null;case 25:return null;default:return null}}function Zv(n,i){switch(hf(i),i.tag){case 3:Si(jt),ne();break;case 26:case 27:case 5:xe(i);break;case 4:ne();break;case 13:_i(i);break;case 19:B(Rt);break;case 10:Si(i.type);break;case 22:case 23:_i(i),kf(),n!==null&&B(Rr);break;case 24:Si(jt)}}function Ga(n,i){try{var l=i.updateQueue,v=l!==null?l.lastEffect:null;if(v!==null){var C=v.next;l=C;do{if((l.tag&n)===n){v=void 0;var T=l.create,R=l.inst;v=T(),R.destroy=v}l=l.next}while(l!==C)}}catch(V){ct(i,i.return,V)}}function Zi(n,i,l){try{var v=i.updateQueue,C=v!==null?v.lastEffect:null;if(C!==null){var T=C.next;v=T;do{if((v.tag&n)===n){var R=v.inst,V=R.destroy;if(V!==void 0){R.destroy=void 0,C=i;var K=l,ce=V;try{ce()}catch(we){ct(C,K,we)}}}v=v.next}while(v!==T)}}catch(we){ct(i,i.return,we)}}function Qv(n){var i=n.updateQueue;if(i!==null){var l=n.stateNode;try{zp(i,l)}catch(v){ct(n,n.return,v)}}}function Jv(n,i,l){l.props=Lr(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(v){ct(n,i,v)}}function Wa(n,i){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var v=n.stateNode;break;case 30:v=n.stateNode;break;default:v=n.stateNode}typeof l=="function"?n.refCleanup=l(v):l.current=v}}catch(C){ct(n,i,C)}}function ni(n,i){var l=n.ref,v=n.refCleanup;if(l!==null)if(typeof v=="function")try{v()}catch(C){ct(n,i,C)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(C){ct(n,i,C)}else l.current=null}function ey(n){var i=n.type,l=n.memoizedProps,v=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&v.focus();break e;case"img":l.src?v.src=l.src:l.srcSet&&(v.srcset=l.srcSet)}}catch(C){ct(n,n.return,C)}}function eh(n,i,l){try{var v=n.stateNode;y_(v,n.type,l,i),v[hn]=i}catch(C){ct(n,n.return,C)}}function ty(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&sr(n.type)||n.tag===4}function th(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ty(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&sr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nh(n,i,l){var v=n.tag;if(v===5||v===6)n=n.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(n),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=rc));else if(v!==4&&(v===27&&sr(n.type)&&(l=n.stateNode,i=null),n=n.child,n!==null))for(nh(n,i,l),n=n.sibling;n!==null;)nh(n,i,l),n=n.sibling}function Gl(n,i,l){var v=n.tag;if(v===5||v===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(v!==4&&(v===27&&sr(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Gl(n,i,l),n=n.sibling;n!==null;)Gl(n,i,l),n=n.sibling}function ny(n){var i=n.stateNode,l=n.memoizedProps;try{for(var v=n.type,C=i.attributes;C.length;)i.removeAttributeNode(C[0]);Xt(i,v,l),i[qt]=n,i[hn]=l}catch(T){ct(n,n.return,T)}}var Ei=!1,St=!1,ih=!1,iy=typeof WeakSet=="function"?WeakSet:Set,zt=null;function QC(n,i){if(n=n.containerInfo,Eh=fc,n=gp(n),ef(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var v=l.getSelection&&l.getSelection();if(v&&v.rangeCount!==0){l=v.anchorNode;var C=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{l.nodeType,T.nodeType}catch{l=null;break e}var R=0,V=-1,K=-1,ce=0,we=0,ke=n,fe=null;t:for(;;){for(var de;ke!==l||C!==0&&ke.nodeType!==3||(V=R+C),ke!==T||v!==0&&ke.nodeType!==3||(K=R+v),ke.nodeType===3&&(R+=ke.nodeValue.length),(de=ke.firstChild)!==null;)fe=ke,ke=de;for(;;){if(ke===n)break t;if(fe===l&&++ce===C&&(V=R),fe===T&&++we===v&&(K=R),(de=ke.nextSibling)!==null)break;ke=fe,fe=ke.parentNode}ke=de}l=V===-1||K===-1?null:{start:V,end:K}}else l=null}l=l||{start:0,end:0}}else l=null;for(Oh={focusedElem:n,selectionRange:l},fc=!1,zt=i;zt!==null;)if(i=zt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,zt=n;else for(;zt!==null;){switch(i=zt,T=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&T!==null){n=void 0,l=i,C=T.memoizedProps,T=T.memoizedState,v=l.stateNode;try{var He=Lr(l.type,C,l.elementType===l.type);n=v.getSnapshotBeforeUpdate(He,T),v.__reactInternalSnapshotBeforeUpdate=n}catch(Ve){ct(l,l.return,Ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,l=n.nodeType,l===9)Dh(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,zt=n;break}zt=i.return}}function ry(n,i,l){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(n,l),v&4&&Ga(5,l);break;case 1:if(Qi(n,l),v&4)if(n=l.stateNode,i===null)try{n.componentDidMount()}catch(R){ct(l,l.return,R)}else{var C=Lr(l.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(C,i,n.__reactInternalSnapshotBeforeUpdate)}catch(R){ct(l,l.return,R)}}v&64&&Qv(l),v&512&&Wa(l,l.return);break;case 3:if(Qi(n,l),v&64&&(n=l.updateQueue,n!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{zp(n,i)}catch(R){ct(l,l.return,R)}}break;case 27:i===null&&v&4&&ny(l);case 26:case 5:Qi(n,l),i===null&&v&4&&ey(l),v&512&&Wa(l,l.return);break;case 12:Qi(n,l);break;case 13:Qi(n,l),v&4&&oy(n,l),v&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=o_.bind(null,l),T_(n,l))));break;case 22:if(v=l.memoizedState!==null||Ei,!v){i=i!==null&&i.memoizedState!==null||St,C=Ei;var T=St;Ei=v,(St=i)&&!T?Ji(n,l,(l.subtreeFlags&8772)!==0):Qi(n,l),Ei=C,St=T}break;case 30:break;default:Qi(n,l)}}function sy(n){var i=n.alternate;i!==null&&(n.alternate=null,sy(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Lu(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gt=null,mn=!1;function Oi(n,i,l){for(l=l.child;l!==null;)ay(n,i,l),l=l.sibling}function ay(n,i,l){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Ae,l)}catch{}switch(l.tag){case 26:St||ni(l,i),Oi(n,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:St||ni(l,i);var v=gt,C=mn;sr(l.type)&&(gt=l.stateNode,mn=!1),Oi(n,i,l),io(l.stateNode),gt=v,mn=C;break;case 5:St||ni(l,i);case 6:if(v=gt,C=mn,gt=null,Oi(n,i,l),gt=v,mn=C,gt!==null)if(mn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(l.stateNode)}catch(T){ct(l,i,T)}else try{gt.removeChild(l.stateNode)}catch(T){ct(l,i,T)}break;case 18:gt!==null&&(mn?(n=gt,Wy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),fo(n)):Wy(gt,l.stateNode));break;case 4:v=gt,C=mn,gt=l.stateNode.containerInfo,mn=!0,Oi(n,i,l),gt=v,mn=C;break;case 0:case 11:case 14:case 15:St||Zi(2,l,i),St||Zi(4,l,i),Oi(n,i,l);break;case 1:St||(ni(l,i),v=l.stateNode,typeof v.componentWillUnmount=="function"&&Jv(l,i,v)),Oi(n,i,l);break;case 21:Oi(n,i,l);break;case 22:St=(v=St)||l.memoizedState!==null,Oi(n,i,l),St=v;break;default:Oi(n,i,l)}}function oy(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{fo(n)}catch(l){ct(i,i.return,l)}}function JC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new iy),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new iy),i;default:throw Error(a(435,n.tag))}}function rh(n,i){var l=JC(n);i.forEach(function(v){var C=l_.bind(null,n,v);l.has(v)||(l.add(v),v.then(C,C))})}function Sn(n,i){var l=i.deletions;if(l!==null)for(var v=0;v<l.length;v++){var C=l[v],T=n,R=i,V=R;e:for(;V!==null;){switch(V.tag){case 27:if(sr(V.type)){gt=V.stateNode,mn=!1;break e}break;case 5:gt=V.stateNode,mn=!1;break e;case 3:case 4:gt=V.stateNode.containerInfo,mn=!0;break e}V=V.return}if(gt===null)throw Error(a(160));ay(T,R,C),gt=null,mn=!1,T=C.alternate,T!==null&&(T.return=null),C.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ly(i,n),i=i.sibling}var Gn=null;function ly(n,i){var l=n.alternate,v=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(i,n),Cn(n),v&4&&(Zi(3,n,n.return),Ga(3,n),Zi(5,n,n.return));break;case 1:Sn(i,n),Cn(n),v&512&&(St||l===null||ni(l,l.return)),v&64&&Ei&&(n=n.updateQueue,n!==null&&(v=n.callbacks,v!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?v:l.concat(v))));break;case 26:var C=Gn;if(Sn(i,n),Cn(n),v&512&&(St||l===null||ni(l,l.return)),v&4){var T=l!==null?l.memoizedState:null;if(v=n.memoizedState,l===null)if(v===null)if(n.stateNode===null){e:{v=n.type,l=n.memoizedProps,C=C.ownerDocument||C;t:switch(v){case"title":T=C.getElementsByTagName("title")[0],(!T||T[ya]||T[qt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=C.createElement(v),C.head.insertBefore(T,C.querySelector("head > title"))),Xt(T,v,l),T[qt]=n,Bt(T),v=T;break e;case"link":var R=n0("link","href",C).get(v+(l.href||""));if(R){for(var V=0;V<R.length;V++)if(T=R[V],T.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&T.getAttribute("rel")===(l.rel==null?null:l.rel)&&T.getAttribute("title")===(l.title==null?null:l.title)&&T.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(V,1);break t}}T=C.createElement(v),Xt(T,v,l),C.head.appendChild(T);break;case"meta":if(R=n0("meta","content",C).get(v+(l.content||""))){for(V=0;V<R.length;V++)if(T=R[V],T.getAttribute("content")===(l.content==null?null:""+l.content)&&T.getAttribute("name")===(l.name==null?null:l.name)&&T.getAttribute("property")===(l.property==null?null:l.property)&&T.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&T.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(V,1);break t}}T=C.createElement(v),Xt(T,v,l),C.head.appendChild(T);break;default:throw Error(a(468,v))}T[qt]=n,Bt(T),v=T}n.stateNode=v}else i0(C,n.type,n.stateNode);else n.stateNode=t0(C,v,n.memoizedProps);else T!==v?(T===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):T.count--,v===null?i0(C,n.type,n.stateNode):t0(C,v,n.memoizedProps)):v===null&&n.stateNode!==null&&eh(n,n.memoizedProps,l.memoizedProps)}break;case 27:Sn(i,n),Cn(n),v&512&&(St||l===null||ni(l,l.return)),l!==null&&v&4&&eh(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Sn(i,n),Cn(n),v&512&&(St||l===null||ni(l,l.return)),n.flags&32){C=n.stateNode;try{os(C,"")}catch(de){ct(n,n.return,de)}}v&4&&n.stateNode!=null&&(C=n.memoizedProps,eh(n,C,l!==null?l.memoizedProps:C)),v&1024&&(ih=!0);break;case 6:if(Sn(i,n),Cn(n),v&4){if(n.stateNode===null)throw Error(a(162));v=n.memoizedProps,l=n.stateNode;try{l.nodeValue=v}catch(de){ct(n,n.return,de)}}break;case 3:if(lc=null,C=Gn,Gn=ac(i.containerInfo),Sn(i,n),Gn=C,Cn(n),v&4&&l!==null&&l.memoizedState.isDehydrated)try{fo(i.containerInfo)}catch(de){ct(n,n.return,de)}ih&&(ih=!1,cy(n));break;case 4:v=Gn,Gn=ac(n.stateNode.containerInfo),Sn(i,n),Cn(n),Gn=v;break;case 12:Sn(i,n),Cn(n);break;case 13:Sn(i,n),Cn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(uh=ge()),v&4&&(v=n.updateQueue,v!==null&&(n.updateQueue=null,rh(n,v)));break;case 22:C=n.memoizedState!==null;var K=l!==null&&l.memoizedState!==null,ce=Ei,we=St;if(Ei=ce||C,St=we||K,Sn(i,n),St=we,Ei=ce,Cn(n),v&8192)e:for(i=n.stateNode,i._visibility=C?i._visibility&-2:i._visibility|1,C&&(l===null||K||Ei||St||Nr(n)),l=null,i=n;;){if(i.tag===5||i.tag===26){if(l===null){K=l=i;try{if(T=K.stateNode,C)R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{V=K.stateNode;var ke=K.memoizedProps.style,fe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;V.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(de){ct(K,K.return,de)}}}else if(i.tag===6){if(l===null){K=i;try{K.stateNode.nodeValue=C?"":K.memoizedProps}catch(de){ct(K,K.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}v&4&&(v=n.updateQueue,v!==null&&(l=v.retryQueue,l!==null&&(v.retryQueue=null,rh(n,l))));break;case 19:Sn(i,n),Cn(n),v&4&&(v=n.updateQueue,v!==null&&(n.updateQueue=null,rh(n,v)));break;case 30:break;case 21:break;default:Sn(i,n),Cn(n)}}function Cn(n){var i=n.flags;if(i&2){try{for(var l,v=n.return;v!==null;){if(ty(v)){l=v;break}v=v.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var C=l.stateNode,T=th(n);Gl(n,T,C);break;case 5:var R=l.stateNode;l.flags&32&&(os(R,""),l.flags&=-33);var V=th(n);Gl(n,V,R);break;case 3:case 4:var K=l.stateNode.containerInfo,ce=th(n);nh(n,ce,K);break;default:throw Error(a(161))}}catch(we){ct(n,n.return,we)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function cy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;cy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Qi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ry(n,i.alternate,i),i=i.sibling}function Nr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Zi(4,i,i.return),Nr(i);break;case 1:ni(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Jv(i,i.return,l),Nr(i);break;case 27:io(i.stateNode);case 26:case 5:ni(i,i.return),Nr(i);break;case 22:i.memoizedState===null&&Nr(i);break;case 30:Nr(i);break;default:Nr(i)}n=n.sibling}}function Ji(n,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var v=i.alternate,C=n,T=i,R=T.flags;switch(T.tag){case 0:case 11:case 15:Ji(C,T,l),Ga(4,T);break;case 1:if(Ji(C,T,l),v=T,C=v.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ce){ct(v,v.return,ce)}if(v=T,C=v.updateQueue,C!==null){var V=v.stateNode;try{var K=C.shared.hiddenCallbacks;if(K!==null)for(C.shared.hiddenCallbacks=null,C=0;C<K.length;C++)Fp(K[C],V)}catch(ce){ct(v,v.return,ce)}}l&&R&64&&Qv(T),Wa(T,T.return);break;case 27:ny(T);case 26:case 5:Ji(C,T,l),l&&v===null&&R&4&&ey(T),Wa(T,T.return);break;case 12:Ji(C,T,l);break;case 13:Ji(C,T,l),l&&R&4&&oy(C,T);break;case 22:T.memoizedState===null&&Ji(C,T,l),Wa(T,T.return);break;case 30:break;default:Ji(C,T,l)}i=i.sibling}}function sh(n,i){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Ra(l))}function ah(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ra(n))}function ii(n,i,l,v){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uy(n,i,l,v),i=i.sibling}function uy(n,i,l,v){var C=i.flags;switch(i.tag){case 0:case 11:case 15:ii(n,i,l,v),C&2048&&Ga(9,i);break;case 1:ii(n,i,l,v);break;case 3:ii(n,i,l,v),C&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ra(n)));break;case 12:if(C&2048){ii(n,i,l,v),n=i.stateNode;try{var T=i.memoizedProps,R=T.id,V=T.onPostCommit;typeof V=="function"&&V(R,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(K){ct(i,i.return,K)}}else ii(n,i,l,v);break;case 13:ii(n,i,l,v);break;case 23:break;case 22:T=i.stateNode,R=i.alternate,i.memoizedState!==null?T._visibility&2?ii(n,i,l,v):qa(n,i):T._visibility&2?ii(n,i,l,v):(T._visibility|=2,ks(n,i,l,v,(i.subtreeFlags&10256)!==0)),C&2048&&sh(R,i);break;case 24:ii(n,i,l,v),C&2048&&ah(i.alternate,i);break;default:ii(n,i,l,v)}}function ks(n,i,l,v,C){for(C=C&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var T=n,R=i,V=l,K=v,ce=R.flags;switch(R.tag){case 0:case 11:case 15:ks(T,R,V,K,C),Ga(8,R);break;case 23:break;case 22:var we=R.stateNode;R.memoizedState!==null?we._visibility&2?ks(T,R,V,K,C):qa(T,R):(we._visibility|=2,ks(T,R,V,K,C)),C&&ce&2048&&sh(R.alternate,R);break;case 24:ks(T,R,V,K,C),C&&ce&2048&&ah(R.alternate,R);break;default:ks(T,R,V,K,C)}i=i.sibling}}function qa(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=n,v=i,C=v.flags;switch(v.tag){case 22:qa(l,v),C&2048&&sh(v.alternate,v);break;case 24:qa(l,v),C&2048&&ah(v.alternate,v);break;default:qa(l,v)}i=i.sibling}}var Ka=8192;function Es(n){if(n.subtreeFlags&Ka)for(n=n.child;n!==null;)fy(n),n=n.sibling}function fy(n){switch(n.tag){case 26:Es(n),n.flags&Ka&&n.memoizedState!==null&&F_(Gn,n.memoizedState,n.memoizedProps);break;case 5:Es(n);break;case 3:case 4:var i=Gn;Gn=ac(n.stateNode.containerInfo),Es(n),Gn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ka,Ka=16777216,Es(n),Ka=i):Es(n));break;default:Es(n)}}function hy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Za(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var v=i[l];zt=v,gy(v,n)}hy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(n),n=n.sibling}function dy(n){switch(n.tag){case 0:case 11:case 15:Za(n),n.flags&2048&&Zi(9,n,n.return);break;case 3:Za(n);break;case 12:Za(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Wl(n)):Za(n);break;default:Za(n)}}function Wl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var v=i[l];zt=v,gy(v,n)}hy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Zi(8,i,i.return),Wl(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Wl(i));break;default:Wl(i)}n=n.sibling}}function gy(n,i){for(;zt!==null;){var l=zt;switch(l.tag){case 0:case 11:case 15:Zi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var v=l.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Ra(l.memoizedState.cache)}if(v=l.child,v!==null)v.return=l,zt=v;else e:for(l=n;zt!==null;){v=zt;var C=v.sibling,T=v.return;if(sy(v),v===l){zt=null;break e}if(C!==null){C.return=T,zt=C;break e}zt=T}}}var e_={getCacheForType:function(n){var i=Kt(jt),l=i.data.get(n);return l===void 0&&(l=n(),i.data.set(n,l)),l}},t_=typeof WeakMap=="function"?WeakMap:Map,it=0,ut=null,Ke=null,Qe=0,rt=0,_n=null,er=!1,Os=!1,oh=!1,Ai=0,bt=0,tr=0,Br=0,lh=0,Fn=0,As=0,Qa=null,pn=null,ch=!1,uh=0,ql=1/0,Kl=null,nr=null,Yt=0,ir=null,Ms=null,Ds=0,fh=0,hh=null,my=null,Ja=0,dh=null;function Tn(){if((it&2)!==0&&Qe!==0)return Qe&-Qe;if(X.T!==null){var n=ys;return n!==0?n:xh()}return Dm()}function py(){Fn===0&&(Fn=(Qe&536870912)===0||tt?Em():536870912);var n=Bn.current;return n!==null&&(n.flags|=32),Fn}function kn(n,i,l){(n===ut&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(js(n,0),rr(n,Qe,Fn,!1)),va(n,l),((it&2)===0||n!==ut)&&(n===ut&&((it&2)===0&&(Br|=l),bt===4&&rr(n,Qe,Fn,!1)),ri(n))}function vy(n,i,l){if((it&6)!==0)throw Error(a(327));var v=!l&&(i&124)===0&&(i&n.expiredLanes)===0||wr(n,i),C=v?r_(n,i):ph(n,i,!0),T=v;do{if(C===0){Os&&!v&&rr(n,i,0,!1);break}else{if(l=n.current.alternate,T&&!n_(l)){C=ph(n,i,!1),T=!1;continue}if(C===2){if(T=i,n.errorRecoveryDisabledLanes&T)var R=0;else R=n.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){i=R;e:{var V=n;C=Qa;var K=V.current.memoizedState.isDehydrated;if(K&&(js(V,R).flags|=256),R=ph(V,R,!1),R!==2){if(oh&&!K){V.errorRecoveryDisabledLanes|=T,Br|=T,C=4;break e}T=pn,pn=C,T!==null&&(pn===null?pn=T:pn.push.apply(pn,T))}C=R}if(T=!1,C!==2)continue}}if(C===1){js(n,0),rr(n,i,0,!0);break}e:{switch(v=n,T=C,T){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:rr(v,i,Fn,!er);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(C=uh+300-ge(),10<C)){if(rr(v,i,Fn,!er),mi(v,0,!0)!==0)break e;v.timeoutHandle=$y(yy.bind(null,v,l,pn,Kl,ch,i,Fn,Br,As,er,T,2,-0,0),C);break e}yy(v,l,pn,Kl,ch,i,Fn,Br,As,er,T,0,-0,0)}}break}while(!0);ri(n)}function yy(n,i,l,v,C,T,R,V,K,ce,we,ke,fe,de){if(n.timeoutHandle=-1,ke=i.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:B_},fy(i),ke=z_(),ke!==null)){n.cancelPendingCommit=ke(Ty.bind(null,n,i,T,l,v,C,R,V,K,we,1,fe,de)),rr(n,T,R,!ce);return}Ty(n,i,T,l,v,C,R,V,K)}function n_(n){for(var i=n;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var v=0;v<l.length;v++){var C=l[v],T=C.getSnapshot;C=C.value;try{if(!xn(T(),C))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rr(n,i,l,v){i&=~lh,i&=~Br,n.suspendedLanes|=i,n.pingedLanes&=~i,v&&(n.warmLanes|=i),v=n.expirationTimes;for(var C=i;0<C;){var T=31-Ye(C),R=1<<T;v[T]=-1,C&=~R}l!==0&&Am(n,l,i)}function Zl(){return(it&6)===0?(eo(0),!1):!0}function gh(){if(Ke!==null){if(rt===0)var n=Ke.return;else n=Ke,wi=Dr=null,Df(n),_s=null,Ya=0,n=Ke;for(;n!==null;)Zv(n.alternate,n),n=n.return;Ke=null}}function js(n,i){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,x_(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),gh(),ut=n,Ke=l=yi(n.current,null),Qe=i,rt=0,_n=null,er=!1,Os=wr(n,i),oh=!1,As=Fn=lh=Br=tr=bt=0,pn=Qa=null,ch=!1,(i&8)!==0&&(i|=i&32);var v=n.entangledLanes;if(v!==0)for(n=n.entanglements,v&=i;0<v;){var C=31-Ye(v),T=1<<C;i|=n[C],v&=~T}return Ai=i,bl(),l}function by(n,i){Ge=null,X.H=Fl,i===La||i===Ol?(i=Np(),rt=3):i===Rp?(i=Np(),rt=4):rt=i===Bv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Ke===null&&(bt=1,Il(n,Rn(i,n.current)))}function xy(){var n=X.H;return X.H=Fl,n===null?Fl:n}function wy(){var n=X.A;return X.A=e_,n}function mh(){bt=4,er||(Qe&4194048)!==Qe&&Bn.current!==null||(Os=!0),(tr&134217727)===0&&(Br&134217727)===0||ut===null||rr(ut,Qe,Fn,!1)}function ph(n,i,l){var v=it;it|=2;var C=xy(),T=wy();(ut!==n||Qe!==i)&&(Kl=null,js(n,i)),i=!1;var R=bt;e:do try{if(rt!==0&&Ke!==null){var V=Ke,K=_n;switch(rt){case 8:gh(),R=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var ce=rt;if(rt=0,_n=null,Rs(n,V,K,ce),l&&Os){R=0;break e}break;default:ce=rt,rt=0,_n=null,Rs(n,V,K,ce)}}i_(),R=bt;break}catch(we){by(n,we)}while(!0);return i&&n.shellSuspendCounter++,wi=Dr=null,it=v,X.H=C,X.A=T,Ke===null&&(ut=null,Qe=0,bl()),R}function i_(){for(;Ke!==null;)Sy(Ke)}function r_(n,i){var l=it;it|=2;var v=xy(),C=wy();ut!==n||Qe!==i?(Kl=null,ql=ge()+500,js(n,i)):Os=wr(n,i);e:do try{if(rt!==0&&Ke!==null){i=Ke;var T=_n;t:switch(rt){case 1:rt=0,_n=null,Rs(n,i,T,1);break;case 2:case 9:if(Pp(T)){rt=0,_n=null,Cy(i);break}i=function(){rt!==2&&rt!==9||ut!==n||(rt=7),ri(n)},T.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Pp(T)?(rt=0,_n=null,Cy(i)):(rt=0,_n=null,Rs(n,i,T,7));break;case 5:var R=null;switch(Ke.tag){case 26:R=Ke.memoizedState;case 5:case 27:var V=Ke;if(!R||r0(R)){rt=0,_n=null;var K=V.sibling;if(K!==null)Ke=K;else{var ce=V.return;ce!==null?(Ke=ce,Ql(ce)):Ke=null}break t}}rt=0,_n=null,Rs(n,i,T,5);break;case 6:rt=0,_n=null,Rs(n,i,T,6);break;case 8:gh(),bt=6;break e;default:throw Error(a(462))}}s_();break}catch(we){by(n,we)}while(!0);return wi=Dr=null,X.H=v,X.A=C,it=l,Ke!==null?0:(ut=null,Qe=0,bl(),bt)}function s_(){for(;Ke!==null&&!ye();)Sy(Ke)}function Sy(n){var i=qv(n.alternate,n,Ai);n.memoizedProps=n.pendingProps,i===null?Ql(n):Ke=i}function Cy(n){var i=n,l=i.alternate;switch(i.tag){case 15:case 0:i=Iv(l,i,i.pendingProps,i.type,void 0,Qe);break;case 11:i=Iv(l,i,i.pendingProps,i.type.render,i.ref,Qe);break;case 5:Df(i);default:Zv(l,i),i=Ke=_p(i,Ai),i=qv(l,i,Ai)}n.memoizedProps=n.pendingProps,i===null?Ql(n):Ke=i}function Rs(n,i,l,v){wi=Dr=null,Df(i),_s=null,Ya=0;var C=i.return;try{if(WC(n,C,i,l,Qe)){bt=1,Il(n,Rn(l,n.current)),Ke=null;return}}catch(T){if(C!==null)throw Ke=C,T;bt=1,Il(n,Rn(l,n.current)),Ke=null;return}i.flags&32768?(tt||v===1?n=!0:Os||(Qe&536870912)!==0?n=!1:(er=n=!0,(v===2||v===9||v===3||v===6)&&(v=Bn.current,v!==null&&v.tag===13&&(v.flags|=16384))),_y(i,n)):Ql(i)}function Ql(n){var i=n;do{if((i.flags&32768)!==0){_y(i,er);return}n=i.return;var l=KC(i.alternate,i,Ai);if(l!==null){Ke=l;return}if(i=i.sibling,i!==null){Ke=i;return}Ke=i=n}while(i!==null);bt===0&&(bt=5)}function _y(n,i){do{var l=ZC(n.alternate,n);if(l!==null){l.flags&=32767,Ke=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(n=n.sibling,n!==null)){Ke=n;return}Ke=n=l}while(n!==null);bt=6,Ke=null}function Ty(n,i,l,v,C,T,R,V,K){n.cancelPendingCommit=null;do Jl();while(Yt!==0);if((it&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(T=i.lanes|i.childLanes,T|=af,B2(n,l,T,R,V,K),n===ut&&(Ke=ut=null,Qe=0),Ms=i,ir=n,Ds=l,fh=T,hh=C,my=v,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,c_(Q,function(){return My(),null})):(n.callbackNode=null,n.callbackPriority=0),v=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||v){v=X.T,X.T=null,C=W.p,W.p=2,R=it,it|=4;try{QC(n,i,l)}finally{it=R,W.p=C,X.T=v}}Yt=1,ky(),Ey(),Oy()}}function ky(){if(Yt===1){Yt=0;var n=ir,i=Ms,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var v=W.p;W.p=2;var C=it;it|=4;try{ly(i,n);var T=Oh,R=gp(n.containerInfo),V=T.focusedElem,K=T.selectionRange;if(R!==V&&V&&V.ownerDocument&&dp(V.ownerDocument.documentElement,V)){if(K!==null&&ef(V)){var ce=K.start,we=K.end;if(we===void 0&&(we=ce),"selectionStart"in V)V.selectionStart=ce,V.selectionEnd=Math.min(we,V.value.length);else{var ke=V.ownerDocument||document,fe=ke&&ke.defaultView||window;if(fe.getSelection){var de=fe.getSelection(),He=V.textContent.length,Ve=Math.min(K.start,He),lt=K.end===void 0?Ve:Math.min(K.end,He);!de.extend&&Ve>lt&&(R=lt,lt=Ve,Ve=R);var ae=hp(V,Ve),J=hp(V,lt);if(ae&&J&&(de.rangeCount!==1||de.anchorNode!==ae.node||de.anchorOffset!==ae.offset||de.focusNode!==J.node||de.focusOffset!==J.offset)){var oe=ke.createRange();oe.setStart(ae.node,ae.offset),de.removeAllRanges(),Ve>lt?(de.addRange(oe),de.extend(J.node,J.offset)):(oe.setEnd(J.node,J.offset),de.addRange(oe))}}}}for(ke=[],de=V;de=de.parentNode;)de.nodeType===1&&ke.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ke.length;V++){var _e=ke[V];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}fc=!!Eh,Oh=Eh=null}finally{it=C,W.p=v,X.T=l}}n.current=i,Yt=2}}function Ey(){if(Yt===2){Yt=0;var n=ir,i=Ms,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var v=W.p;W.p=2;var C=it;it|=4;try{ry(n,i.alternate,i)}finally{it=C,W.p=v,X.T=l}}Yt=3}}function Oy(){if(Yt===4||Yt===3){Yt=0,be();var n=ir,i=Ms,l=Ds,v=my;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,Ms=ir=null,Ay(n,n.pendingLanes));var C=n.pendingLanes;if(C===0&&(nr=null),Ru(l),i=i.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Ae,i,void 0,(i.current.flags&128)===128)}catch{}if(v!==null){i=X.T,C=W.p,W.p=2,X.T=null;try{for(var T=n.onRecoverableError,R=0;R<v.length;R++){var V=v[R];T(V.value,{componentStack:V.stack})}}finally{X.T=i,W.p=C}}(Ds&3)!==0&&Jl(),ri(n),C=n.pendingLanes,(l&4194090)!==0&&(C&42)!==0?n===dh?Ja++:(Ja=0,dh=n):Ja=0,eo(0)}}function Ay(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ra(i)))}function Jl(n){return ky(),Ey(),Oy(),My()}function My(){if(Yt!==5)return!1;var n=ir,i=fh;fh=0;var l=Ru(Ds),v=X.T,C=W.p;try{W.p=32>l?32:l,X.T=null,l=hh,hh=null;var T=ir,R=Ds;if(Yt=0,Ms=ir=null,Ds=0,(it&6)!==0)throw Error(a(331));var V=it;if(it|=4,dy(T.current),uy(T,T.current,R,l),it=V,eo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Ae,T)}catch{}return!0}finally{W.p=C,X.T=v,Ay(n,i)}}function Dy(n,i,l){i=Rn(l,i),i=Xf(n.stateNode,i,2),n=Gi(n,i,2),n!==null&&(va(n,2),ri(n))}function ct(n,i,l){if(n.tag===3)Dy(n,n,l);else for(;i!==null;){if(i.tag===3){Dy(i,n,l);break}else if(i.tag===1){var v=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(nr===null||!nr.has(v))){n=Rn(l,n),l=Lv(2),v=Gi(i,l,2),v!==null&&(Nv(l,v,i,n),va(v,2),ri(v));break}}i=i.return}}function vh(n,i,l){var v=n.pingCache;if(v===null){v=n.pingCache=new t_;var C=new Set;v.set(i,C)}else C=v.get(i),C===void 0&&(C=new Set,v.set(i,C));C.has(l)||(oh=!0,C.add(l),n=a_.bind(null,n,i,l),i.then(n,n))}function a_(n,i,l){var v=n.pingCache;v!==null&&v.delete(i),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,ut===n&&(Qe&l)===l&&(bt===4||bt===3&&(Qe&62914560)===Qe&&300>ge()-uh?(it&2)===0&&js(n,0):lh|=l,As===Qe&&(As=0)),ri(n)}function jy(n,i){i===0&&(i=Om()),n=gs(n,i),n!==null&&(va(n,i),ri(n))}function o_(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),jy(n,l)}function l_(n,i){var l=0;switch(n.tag){case 13:var v=n.stateNode,C=n.memoizedState;C!==null&&(l=C.retryLane);break;case 19:v=n.stateNode;break;case 22:v=n.stateNode._retryCache;break;default:throw Error(a(314))}v!==null&&v.delete(i),jy(n,l)}function c_(n,i){return he(n,i)}var ec=null,Ps=null,yh=!1,tc=!1,bh=!1,Fr=0;function ri(n){n!==Ps&&n.next===null&&(Ps===null?ec=Ps=n:Ps=Ps.next=n),tc=!0,yh||(yh=!0,f_())}function eo(n,i){if(!bh&&tc){bh=!0;do for(var l=!1,v=ec;v!==null;){if(n!==0){var C=v.pendingLanes;if(C===0)var T=0;else{var R=v.suspendedLanes,V=v.pingedLanes;T=(1<<31-Ye(42|n)+1)-1,T&=C&~(R&~V),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(l=!0,Ny(v,T))}else T=Qe,T=mi(v,v===ut?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(T&3)===0||wr(v,T)||(l=!0,Ny(v,T));v=v.next}while(l);bh=!1}}function u_(){Ry()}function Ry(){tc=yh=!1;var n=0;Fr!==0&&(b_()&&(n=Fr),Fr=0);for(var i=ge(),l=null,v=ec;v!==null;){var C=v.next,T=Py(v,i);T===0?(v.next=null,l===null?ec=C:l.next=C,C===null&&(Ps=l)):(l=v,(n!==0||(T&3)!==0)&&(tc=!0)),v=C}eo(n)}function Py(n,i){for(var l=n.suspendedLanes,v=n.pingedLanes,C=n.expirationTimes,T=n.pendingLanes&-62914561;0<T;){var R=31-Ye(T),V=1<<R,K=C[R];K===-1?((V&l)===0||(V&v)!==0)&&(C[R]=ol(V,i)):K<=i&&(n.expiredLanes|=V),T&=~V}if(i=ut,l=Qe,l=mi(n,n===i?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),v=n.callbackNode,l===0||n===i&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return v!==null&&v!==null&&re(v),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||wr(n,l)){if(i=l&-l,i===n.callbackPriority)return i;switch(v!==null&&re(v),Ru(l)){case 2:case 8:l=$;break;case 32:l=Q;break;case 268435456:l=ve;break;default:l=Q}return v=Ly.bind(null,n),l=he(l,v),n.callbackPriority=i,n.callbackNode=l,i}return v!==null&&v!==null&&re(v),n.callbackPriority=2,n.callbackNode=null,2}function Ly(n,i){if(Yt!==0&&Yt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Jl()&&n.callbackNode!==l)return null;var v=Qe;return v=mi(n,n===ut?v:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),v===0?null:(vy(n,v,i),Py(n,ge()),n.callbackNode!=null&&n.callbackNode===l?Ly.bind(null,n):null)}function Ny(n,i){if(Jl())return null;vy(n,i,!0)}function f_(){w_(function(){(it&6)!==0?he(Oe,u_):Ry()})}function xh(){return Fr===0&&(Fr=Em()),Fr}function By(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hl(""+n)}function Fy(n,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,n.id&&l.setAttribute("form",n.id),i.parentNode.insertBefore(l,i),n=new FormData(n),l.parentNode.removeChild(l),n}function h_(n,i,l,v,C){if(i==="submit"&&l&&l.stateNode===C){var T=By((C[hn]||null).action),R=v.submitter;R&&(i=(i=R[hn]||null)?By(i.formAction):R.getAttribute("formAction"),i!==null&&(T=i,R=null));var V=new pl("action","action",null,v,C);n.push({event:V,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Fr!==0){var K=R?Fy(C,R):new FormData(C);Vf(l,{pending:!0,data:K,method:C.method,action:T},null,K)}}else typeof T=="function"&&(V.preventDefault(),K=R?Fy(C,R):new FormData(C),Vf(l,{pending:!0,data:K,method:C.method,action:T},T,K))},currentTarget:C}]})}}for(var wh=0;wh<sf.length;wh++){var Sh=sf[wh],d_=Sh.toLowerCase(),g_=Sh[0].toUpperCase()+Sh.slice(1);$n(d_,"on"+g_)}$n(vp,"onAnimationEnd"),$n(yp,"onAnimationIteration"),$n(bp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(DC,"onTransitionRun"),$n(jC,"onTransitionStart"),$n(RC,"onTransitionCancel"),$n(xp,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function zy(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var v=n[l],C=v.event;v=v.listeners;e:{var T=void 0;if(i)for(var R=v.length-1;0<=R;R--){var V=v[R],K=V.instance,ce=V.currentTarget;if(V=V.listener,K!==T&&C.isPropagationStopped())break e;T=V,C.currentTarget=ce;try{T(C)}catch(we){Hl(we)}C.currentTarget=null,T=K}else for(R=0;R<v.length;R++){if(V=v[R],K=V.instance,ce=V.currentTarget,V=V.listener,K!==T&&C.isPropagationStopped())break e;T=V,C.currentTarget=ce;try{T(C)}catch(we){Hl(we)}C.currentTarget=null,T=K}}}}function Ze(n,i){var l=i[Pu];l===void 0&&(l=i[Pu]=new Set);var v=n+"__bubble";l.has(v)||(Vy(i,n,2,!1),l.add(v))}function Ch(n,i,l){var v=0;i&&(v|=4),Vy(l,n,v,i)}var nc="_reactListening"+Math.random().toString(36).slice(2);function _h(n){if(!n[nc]){n[nc]=!0,Rm.forEach(function(l){l!=="selectionchange"&&(m_.has(l)||Ch(l,!1,n),Ch(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[nc]||(i[nc]=!0,Ch("selectionchange",!1,i))}}function Vy(n,i,l,v){switch(u0(i)){case 2:var C=H_;break;case 8:C=I_;break;default:C=Fh}l=C.bind(null,i,l,n),C=void 0,!Xu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(C=!0),v?C!==void 0?n.addEventListener(i,l,{capture:!0,passive:C}):n.addEventListener(i,l,!0):C!==void 0?n.addEventListener(i,l,{passive:C}):n.addEventListener(i,l,!1)}function Th(n,i,l,v,C){var T=v;if((i&1)===0&&(i&2)===0&&v!==null)e:for(;;){if(v===null)return;var R=v.tag;if(R===3||R===4){var V=v.stateNode.containerInfo;if(V===C)break;if(R===4)for(R=v.return;R!==null;){var K=R.tag;if((K===3||K===4)&&R.stateNode.containerInfo===C)return;R=R.return}for(;V!==null;){if(R=ts(V),R===null)return;if(K=R.tag,K===5||K===6||K===26||K===27){v=T=R;continue e}V=V.parentNode}}v=v.return}Gm(function(){var ce=T,we=Iu(l),ke=[];e:{var fe=wp.get(n);if(fe!==void 0){var de=pl,He=n;switch(n){case"keypress":if(gl(l)===0)break e;case"keydown":case"keyup":de=cC;break;case"focusin":He="focus",de=qu;break;case"focusout":He="blur",de=qu;break;case"beforeblur":case"afterblur":de=qu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Z2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=hC;break;case vp:case yp:case bp:de=eC;break;case xp:de=gC;break;case"scroll":case"scrollend":de=q2;break;case"wheel":de=pC;break;case"copy":case"cut":case"paste":de=nC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Qm;break;case"toggle":case"beforetoggle":de=yC}var Ve=(i&4)!==0,lt=!Ve&&(n==="scroll"||n==="scrollend"),ae=Ve?fe!==null?fe+"Capture":null:fe;Ve=[];for(var J=ce,oe;J!==null;){var _e=J;if(oe=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||oe===null||ae===null||(_e=xa(J,ae),_e!=null&&Ve.push(no(J,_e,oe))),lt)break;J=J.return}0<Ve.length&&(fe=new de(fe,He,null,l,we),ke.push({event:fe,listeners:Ve}))}}if((i&7)===0){e:{if(fe=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",fe&&l!==Hu&&(He=l.relatedTarget||l.fromElement)&&(ts(He)||He[es]))break e;if((de||fe)&&(fe=we.window===we?we:(fe=we.ownerDocument)?fe.defaultView||fe.parentWindow:window,de?(He=l.relatedTarget||l.toElement,de=ce,He=He?ts(He):null,He!==null&&(lt=b(He),Ve=He.tag,He!==lt||Ve!==5&&Ve!==27&&Ve!==6)&&(He=null)):(de=null,He=ce),de!==He)){if(Ve=Km,_e="onMouseLeave",ae="onMouseEnter",J="mouse",(n==="pointerout"||n==="pointerover")&&(Ve=Qm,_e="onPointerLeave",ae="onPointerEnter",J="pointer"),lt=de==null?fe:ba(de),oe=He==null?fe:ba(He),fe=new Ve(_e,J+"leave",de,l,we),fe.target=lt,fe.relatedTarget=oe,_e=null,ts(we)===ce&&(Ve=new Ve(ae,J+"enter",He,l,we),Ve.target=oe,Ve.relatedTarget=lt,_e=Ve),lt=_e,de&&He)t:{for(Ve=de,ae=He,J=0,oe=Ve;oe;oe=Ls(oe))J++;for(oe=0,_e=ae;_e;_e=Ls(_e))oe++;for(;0<J-oe;)Ve=Ls(Ve),J--;for(;0<oe-J;)ae=Ls(ae),oe--;for(;J--;){if(Ve===ae||ae!==null&&Ve===ae.alternate)break t;Ve=Ls(Ve),ae=Ls(ae)}Ve=null}else Ve=null;de!==null&&Uy(ke,fe,de,Ve,!1),He!==null&&lt!==null&&Uy(ke,lt,He,Ve,!0)}}e:{if(fe=ce?ba(ce):window,de=fe.nodeName&&fe.nodeName.toLowerCase(),de==="select"||de==="input"&&fe.type==="file")var je=ap;else if(rp(fe))if(op)je=OC;else{je=kC;var qe=TC}else de=fe.nodeName,!de||de.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ce&&Uu(ce.elementType)&&(je=ap):je=EC;if(je&&(je=je(n,ce))){sp(ke,je,l,we);break e}qe&&qe(n,fe,ce),n==="focusout"&&ce&&fe.type==="number"&&ce.memoizedProps.value!=null&&Vu(fe,"number",fe.value)}switch(qe=ce?ba(ce):window,n){case"focusin":(rp(qe)||qe.contentEditable==="true")&&(fs=qe,tf=ce,Oa=null);break;case"focusout":Oa=tf=fs=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,mp(ke,l,we);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":mp(ke,l,we)}var Ne;if(Zu)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else us?np(n,l)&&(Ue="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(Jm&&l.locale!=="ko"&&(us||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&us&&(Ne=Wm()):(Ii=we,$u="value"in Ii?Ii.value:Ii.textContent,us=!0)),qe=ic(ce,Ue),0<qe.length&&(Ue=new Zm(Ue,n,null,l,we),ke.push({event:Ue,listeners:qe}),Ne?Ue.data=Ne:(Ne=ip(l),Ne!==null&&(Ue.data=Ne)))),(Ne=xC?wC(n,l):SC(n,l))&&(Ue=ic(ce,"onBeforeInput"),0<Ue.length&&(qe=new Zm("onBeforeInput","beforeinput",null,l,we),ke.push({event:qe,listeners:Ue}),qe.data=Ne)),h_(ke,n,ce,l,we)}zy(ke,i)})}function no(n,i,l){return{instance:n,listener:i,currentTarget:l}}function ic(n,i){for(var l=i+"Capture",v=[];n!==null;){var C=n,T=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||T===null||(C=xa(n,l),C!=null&&v.unshift(no(n,C,T)),C=xa(n,i),C!=null&&v.push(no(n,C,T))),n.tag===3)return v;n=n.return}return[]}function Ls(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Uy(n,i,l,v,C){for(var T=i._reactName,R=[];l!==null&&l!==v;){var V=l,K=V.alternate,ce=V.stateNode;if(V=V.tag,K!==null&&K===v)break;V!==5&&V!==26&&V!==27||ce===null||(K=ce,C?(ce=xa(l,T),ce!=null&&R.unshift(no(l,ce,K))):C||(ce=xa(l,T),ce!=null&&R.push(no(l,ce,K)))),l=l.return}R.length!==0&&n.push({event:i,listeners:R})}var p_=/\r\n?/g,v_=/\u0000|\uFFFD/g;function Hy(n){return(typeof n=="string"?n:""+n).replace(p_,`
`).replace(v_,"")}function Iy(n,i){return i=Hy(i),Hy(n)===i}function rc(){}function ot(n,i,l,v,C,T){switch(l){case"children":typeof v=="string"?i==="body"||i==="textarea"&&v===""||os(n,v):(typeof v=="number"||typeof v=="bigint")&&i!=="body"&&os(n,""+v);break;case"className":cl(n,"class",v);break;case"tabIndex":cl(n,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":cl(n,l,v);break;case"style":Xm(n,v,T);break;case"data":if(i!=="object"){cl(n,"data",v);break}case"src":case"href":if(v===""&&(i!=="a"||l!=="href")){n.removeAttribute(l);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){n.removeAttribute(l);break}v=hl(""+v),n.setAttribute(l,v);break;case"action":case"formAction":if(typeof v=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(l==="formAction"?(i!=="input"&&ot(n,i,"name",C.name,C,null),ot(n,i,"formEncType",C.formEncType,C,null),ot(n,i,"formMethod",C.formMethod,C,null),ot(n,i,"formTarget",C.formTarget,C,null)):(ot(n,i,"encType",C.encType,C,null),ot(n,i,"method",C.method,C,null),ot(n,i,"target",C.target,C,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){n.removeAttribute(l);break}v=hl(""+v),n.setAttribute(l,v);break;case"onClick":v!=null&&(n.onclick=rc);break;case"onScroll":v!=null&&Ze("scroll",n);break;case"onScrollEnd":v!=null&&Ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(a(61));if(l=v.__html,l!=null){if(C.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"multiple":n.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":n.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){n.removeAttribute("xlink:href");break}l=hl(""+v),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?n.setAttribute(l,""+v):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":v===!0?n.setAttribute(l,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?n.setAttribute(l,v):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?n.setAttribute(l,v):n.removeAttribute(l);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?n.removeAttribute(l):n.setAttribute(l,v);break;case"popover":Ze("beforetoggle",n),Ze("toggle",n),ll(n,"popover",v);break;case"xlinkActuate":pi(n,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":pi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":pi(n,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":pi(n,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":pi(n,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":pi(n,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":pi(n,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":pi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":pi(n,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ll(n,"is",v);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=G2.get(l)||l,ll(n,l,v))}}function kh(n,i,l,v,C,T){switch(l){case"style":Xm(n,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(a(61));if(l=v.__html,l!=null){if(C.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"children":typeof v=="string"?os(n,v):(typeof v=="number"||typeof v=="bigint")&&os(n,""+v);break;case"onScroll":v!=null&&Ze("scroll",n);break;case"onScrollEnd":v!=null&&Ze("scrollend",n);break;case"onClick":v!=null&&(n.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pm.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(C=l.endsWith("Capture"),i=l.slice(2,C?l.length-7:void 0),T=n[hn]||null,T=T!=null?T[l]:null,typeof T=="function"&&n.removeEventListener(i,T,C),typeof v=="function")){typeof T!="function"&&T!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(i,v,C);break e}l in n?n[l]=v:v===!0?n.setAttribute(l,""):ll(n,l,v)}}}function Xt(n,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",n),Ze("load",n);var v=!1,C=!1,T;for(T in l)if(l.hasOwnProperty(T)){var R=l[T];if(R!=null)switch(T){case"src":v=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ot(n,i,T,R,l,null)}}C&&ot(n,i,"srcSet",l.srcSet,l,null),v&&ot(n,i,"src",l.src,l,null);return;case"input":Ze("invalid",n);var V=T=R=C=null,K=null,ce=null;for(v in l)if(l.hasOwnProperty(v)){var we=l[v];if(we!=null)switch(v){case"name":C=we;break;case"type":R=we;break;case"checked":K=we;break;case"defaultChecked":ce=we;break;case"value":T=we;break;case"defaultValue":V=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,i));break;default:ot(n,i,v,we,l,null)}}Um(n,T,V,K,ce,R,C,!1),ul(n);return;case"select":Ze("invalid",n),v=R=T=null;for(C in l)if(l.hasOwnProperty(C)&&(V=l[C],V!=null))switch(C){case"value":T=V;break;case"defaultValue":R=V;break;case"multiple":v=V;default:ot(n,i,C,V,l,null)}i=T,l=R,n.multiple=!!v,i!=null?as(n,!!v,i,!1):l!=null&&as(n,!!v,l,!0);return;case"textarea":Ze("invalid",n),T=C=v=null;for(R in l)if(l.hasOwnProperty(R)&&(V=l[R],V!=null))switch(R){case"value":v=V;break;case"defaultValue":C=V;break;case"children":T=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(91));break;default:ot(n,i,R,V,l,null)}Im(n,v,C,T),ul(n);return;case"option":for(K in l)if(l.hasOwnProperty(K)&&(v=l[K],v!=null))switch(K){case"selected":n.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ot(n,i,K,v,l,null)}return;case"dialog":Ze("beforetoggle",n),Ze("toggle",n),Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":Ze("load",n);break;case"video":case"audio":for(v=0;v<to.length;v++)Ze(to[v],n);break;case"image":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"embed":case"source":case"link":Ze("error",n),Ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in l)if(l.hasOwnProperty(ce)&&(v=l[ce],v!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ot(n,i,ce,v,l,null)}return;default:if(Uu(i)){for(we in l)l.hasOwnProperty(we)&&(v=l[we],v!==void 0&&kh(n,i,we,v,l,void 0));return}}for(V in l)l.hasOwnProperty(V)&&(v=l[V],v!=null&&ot(n,i,V,v,l,null))}function y_(n,i,l,v){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,T=null,R=null,V=null,K=null,ce=null,we=null;for(de in l){var ke=l[de];if(l.hasOwnProperty(de)&&ke!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":K=ke;default:v.hasOwnProperty(de)||ot(n,i,de,null,v,ke)}}for(var fe in v){var de=v[fe];if(ke=l[fe],v.hasOwnProperty(fe)&&(de!=null||ke!=null))switch(fe){case"type":T=de;break;case"name":C=de;break;case"checked":ce=de;break;case"defaultChecked":we=de;break;case"value":R=de;break;case"defaultValue":V=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,i));break;default:de!==ke&&ot(n,i,fe,de,v,ke)}}zu(n,R,V,K,ce,we,T,C);return;case"select":de=R=V=fe=null;for(T in l)if(K=l[T],l.hasOwnProperty(T)&&K!=null)switch(T){case"value":break;case"multiple":de=K;default:v.hasOwnProperty(T)||ot(n,i,T,null,v,K)}for(C in v)if(T=v[C],K=l[C],v.hasOwnProperty(C)&&(T!=null||K!=null))switch(C){case"value":fe=T;break;case"defaultValue":V=T;break;case"multiple":R=T;default:T!==K&&ot(n,i,C,T,v,K)}i=V,l=R,v=de,fe!=null?as(n,!!l,fe,!1):!!v!=!!l&&(i!=null?as(n,!!l,i,!0):as(n,!!l,l?[]:"",!1));return;case"textarea":de=fe=null;for(V in l)if(C=l[V],l.hasOwnProperty(V)&&C!=null&&!v.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:ot(n,i,V,null,v,C)}for(R in v)if(C=v[R],T=l[R],v.hasOwnProperty(R)&&(C!=null||T!=null))switch(R){case"value":fe=C;break;case"defaultValue":de=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:C!==T&&ot(n,i,R,C,v,T)}Hm(n,fe,de);return;case"option":for(var He in l)if(fe=l[He],l.hasOwnProperty(He)&&fe!=null&&!v.hasOwnProperty(He))switch(He){case"selected":n.selected=!1;break;default:ot(n,i,He,null,v,fe)}for(K in v)if(fe=v[K],de=l[K],v.hasOwnProperty(K)&&fe!==de&&(fe!=null||de!=null))switch(K){case"selected":n.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:ot(n,i,K,fe,v,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)fe=l[Ve],l.hasOwnProperty(Ve)&&fe!=null&&!v.hasOwnProperty(Ve)&&ot(n,i,Ve,null,v,fe);for(ce in v)if(fe=v[ce],de=l[ce],v.hasOwnProperty(ce)&&fe!==de&&(fe!=null||de!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,i));break;default:ot(n,i,ce,fe,v,de)}return;default:if(Uu(i)){for(var lt in l)fe=l[lt],l.hasOwnProperty(lt)&&fe!==void 0&&!v.hasOwnProperty(lt)&&kh(n,i,lt,void 0,v,fe);for(we in v)fe=v[we],de=l[we],!v.hasOwnProperty(we)||fe===de||fe===void 0&&de===void 0||kh(n,i,we,fe,v,de);return}}for(var ae in l)fe=l[ae],l.hasOwnProperty(ae)&&fe!=null&&!v.hasOwnProperty(ae)&&ot(n,i,ae,null,v,fe);for(ke in v)fe=v[ke],de=l[ke],!v.hasOwnProperty(ke)||fe===de||fe==null&&de==null||ot(n,i,ke,fe,v,de)}var Eh=null,Oh=null;function sc(n){return n.nodeType===9?n:n.ownerDocument}function Yy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Ah(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mh=null;function b_(){var n=window.event;return n&&n.type==="popstate"?n===Mh?!1:(Mh=n,!0):(Mh=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,x_=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,w_=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(n){return Gy.resolve(null).then(n).catch(S_)}:$y;function S_(n){setTimeout(function(){throw n})}function sr(n){return n==="head"}function Wy(n,i){var l=i,v=0,C=0;do{var T=l.nextSibling;if(n.removeChild(l),T&&T.nodeType===8)if(l=T.data,l==="/$"){if(0<v&&8>v){l=v;var R=n.ownerDocument;if(l&1&&io(R.documentElement),l&2&&io(R.body),l&4)for(l=R.head,io(l),R=l.firstChild;R;){var V=R.nextSibling,K=R.nodeName;R[ya]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=V}}if(C===0){n.removeChild(T),fo(i);return}C--}else l==="$"||l==="$?"||l==="$!"?C++:v=l.charCodeAt(0)-48;else v=0;l=T}while(l);fo(i)}function Dh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dh(l),Lu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function C_(n,i,l,v){for(;n.nodeType===1;){var C=l;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!v&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(v){if(!n[ya])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(T=n.getAttribute("rel"),T==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(T!==C.rel||n.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||n.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||n.getAttribute("title")!==(C.title==null?null:C.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(T=n.getAttribute("src"),(T!==(C.src==null?null:C.src)||n.getAttribute("type")!==(C.type==null?null:C.type)||n.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&T&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var T=C.name==null?null:""+C.name;if(C.type==="hidden"&&n.getAttribute("name")===T)return n}else return n;if(n=Wn(n.nextSibling),n===null)break}return null}function __(n,i,l){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Wn(n.nextSibling),n===null))return null;return n}function jh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function T_(n,i){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")i();else{var v=function(){i(),l.removeEventListener("DOMContentLoaded",v)};l.addEventListener("DOMContentLoaded",v),n._reactRetry=v}}function Wn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Rh=null;function qy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}function Ky(n,i,l){switch(i=sc(l),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function io(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Lu(n)}var zn=new Map,Zy=new Set;function ac(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mi=W.d;W.d={f:k_,r:E_,D:O_,C:A_,L:M_,m:D_,X:R_,S:j_,M:P_};function k_(){var n=Mi.f(),i=Zl();return n||i}function E_(n){var i=ns(n);i!==null&&i.tag===5&&i.type==="form"?vv(i):Mi.r(n)}var Ns=typeof document>"u"?null:document;function Qy(n,i,l){var v=Ns;if(v&&typeof i=="string"&&i){var C=jn(i);C='link[rel="'+n+'"][href="'+C+'"]',typeof l=="string"&&(C+='[crossorigin="'+l+'"]'),Zy.has(C)||(Zy.add(C),n={rel:n,crossOrigin:l,href:i},v.querySelector(C)===null&&(i=v.createElement("link"),Xt(i,"link",n),Bt(i),v.head.appendChild(i)))}}function O_(n){Mi.D(n),Qy("dns-prefetch",n,null)}function A_(n,i){Mi.C(n,i),Qy("preconnect",n,i)}function M_(n,i,l){Mi.L(n,i,l);var v=Ns;if(v&&n&&i){var C='link[rel="preload"][as="'+jn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(C+='[imagesrcset="'+jn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(C+='[imagesizes="'+jn(l.imageSizes)+'"]')):C+='[href="'+jn(n)+'"]';var T=C;switch(i){case"style":T=Bs(n);break;case"script":T=Fs(n)}zn.has(T)||(n=d({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:n,as:i},l),zn.set(T,n),v.querySelector(C)!==null||i==="style"&&v.querySelector(ro(T))||i==="script"&&v.querySelector(so(T))||(i=v.createElement("link"),Xt(i,"link",n),Bt(i),v.head.appendChild(i)))}}function D_(n,i){Mi.m(n,i);var l=Ns;if(l&&n){var v=i&&typeof i.as=="string"?i.as:"script",C='link[rel="modulepreload"][as="'+jn(v)+'"][href="'+jn(n)+'"]',T=C;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Fs(n)}if(!zn.has(T)&&(n=d({rel:"modulepreload",href:n},i),zn.set(T,n),l.querySelector(C)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(so(T)))return}v=l.createElement("link"),Xt(v,"link",n),Bt(v),l.head.appendChild(v)}}}function j_(n,i,l){Mi.S(n,i,l);var v=Ns;if(v&&n){var C=is(v).hoistableStyles,T=Bs(n);i=i||"default";var R=C.get(T);if(!R){var V={loading:0,preload:null};if(R=v.querySelector(ro(T)))V.loading=5;else{n=d({rel:"stylesheet",href:n,"data-precedence":i},l),(l=zn.get(T))&&Ph(n,l);var K=R=v.createElement("link");Bt(K),Xt(K,"link",n),K._p=new Promise(function(ce,we){K.onload=ce,K.onerror=we}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,oc(R,i,v)}R={type:"stylesheet",instance:R,count:1,state:V},C.set(T,R)}}}function R_(n,i){Mi.X(n,i);var l=Ns;if(l&&n){var v=is(l).hoistableScripts,C=Fs(n),T=v.get(C);T||(T=l.querySelector(so(C)),T||(n=d({src:n,async:!0},i),(i=zn.get(C))&&Lh(n,i),T=l.createElement("script"),Bt(T),Xt(T,"link",n),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(C,T))}}function P_(n,i){Mi.M(n,i);var l=Ns;if(l&&n){var v=is(l).hoistableScripts,C=Fs(n),T=v.get(C);T||(T=l.querySelector(so(C)),T||(n=d({src:n,async:!0,type:"module"},i),(i=zn.get(C))&&Lh(n,i),T=l.createElement("script"),Bt(T),Xt(T,"link",n),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(C,T))}}function Jy(n,i,l,v){var C=(C=I.current)?ac(C):null;if(!C)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Bs(l.href),l=is(C).hoistableStyles,v=l.get(i),v||(v={type:"style",instance:null,count:0,state:null},l.set(i,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Bs(l.href);var T=is(C).hoistableStyles,R=T.get(n);if(R||(C=C.ownerDocument||C,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(n,R),(T=C.querySelector(ro(n)))&&!T._p&&(R.instance=T,R.state.loading=5),zn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},zn.set(n,l),T||L_(C,n,l,R.state))),i&&v===null)throw Error(a(528,""));return R}if(i&&v!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fs(l),l=is(C).hoistableScripts,v=l.get(i),v||(v={type:"script",instance:null,count:0,state:null},l.set(i,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Bs(n){return'href="'+jn(n)+'"'}function ro(n){return'link[rel="stylesheet"]['+n+"]"}function e0(n){return d({},n,{"data-precedence":n.precedence,precedence:null})}function L_(n,i,l,v){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?v.loading=1:(i=n.createElement("link"),v.preload=i,i.addEventListener("load",function(){return v.loading|=1}),i.addEventListener("error",function(){return v.loading|=2}),Xt(i,"link",l),Bt(i),n.head.appendChild(i))}function Fs(n){return'[src="'+jn(n)+'"]'}function so(n){return"script[async]"+n}function t0(n,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var v=n.querySelector('style[data-href~="'+jn(l.href)+'"]');if(v)return i.instance=v,Bt(v),v;var C=d({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return v=(n.ownerDocument||n).createElement("style"),Bt(v),Xt(v,"style",C),oc(v,l.precedence,n),i.instance=v;case"stylesheet":C=Bs(l.href);var T=n.querySelector(ro(C));if(T)return i.state.loading|=4,i.instance=T,Bt(T),T;v=e0(l),(C=zn.get(C))&&Ph(v,C),T=(n.ownerDocument||n).createElement("link"),Bt(T);var R=T;return R._p=new Promise(function(V,K){R.onload=V,R.onerror=K}),Xt(T,"link",v),i.state.loading|=4,oc(T,l.precedence,n),i.instance=T;case"script":return T=Fs(l.src),(C=n.querySelector(so(T)))?(i.instance=C,Bt(C),C):(v=l,(C=zn.get(T))&&(v=d({},l),Lh(v,C)),n=n.ownerDocument||n,C=n.createElement("script"),Bt(C),Xt(C,"link",v),n.head.appendChild(C),i.instance=C);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(v=i.instance,i.state.loading|=4,oc(v,l.precedence,n));return i.instance}function oc(n,i,l){for(var v=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=v.length?v[v.length-1]:null,T=C,R=0;R<v.length;R++){var V=v[R];if(V.dataset.precedence===i)T=V;else if(T!==C)break}T?T.parentNode.insertBefore(n,T.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(n,i.firstChild))}function Ph(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Lh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var lc=null;function n0(n,i,l){if(lc===null){var v=new Map,C=lc=new Map;C.set(l,v)}else C=lc,v=C.get(l),v||(v=new Map,C.set(l,v));if(v.has(n))return v;for(v.set(n,null),l=l.getElementsByTagName(n),C=0;C<l.length;C++){var T=l[C];if(!(T[ya]||T[qt]||n==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var R=T.getAttribute(i)||"";R=n+R;var V=v.get(R);V?V.push(T):v.set(R,[T])}}return v}function i0(n,i,l){n=n.ownerDocument||n,n.head.insertBefore(l,i==="title"?n.querySelector("head > title"):null)}function N_(n,i,l){if(l===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ao=null;function B_(){}function F_(n,i,l){if(ao===null)throw Error(a(475));var v=ao;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var C=Bs(l.href),T=n.querySelector(ro(C));if(T){n=T._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(v.count++,v=cc.bind(v),n.then(v,v)),i.state.loading|=4,i.instance=T,Bt(T);return}T=n.ownerDocument||n,l=e0(l),(C=zn.get(C))&&Ph(l,C),T=T.createElement("link"),Bt(T);var R=T;R._p=new Promise(function(V,K){R.onload=V,R.onerror=K}),Xt(T,"link",l),i.instance=T}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(v.count++,i=cc.bind(v),n.addEventListener("load",i),n.addEventListener("error",i))}}function z_(){if(ao===null)throw Error(a(475));var n=ao;return n.stylesheets&&n.count===0&&Nh(n,n.stylesheets),0<n.count?function(i){var l=setTimeout(function(){if(n.stylesheets&&Nh(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(l)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uc=null;function Nh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uc=new Map,i.forEach(V_,n),uc=null,cc.call(n))}function V_(n,i){if(!(i.state.loading&4)){var l=uc.get(n);if(l)var v=l.get(null);else{l=new Map,uc.set(n,l);for(var C=n.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<C.length;T++){var R=C[T];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),v=R)}v&&l.set(null,v)}C=i.instance,R=C.getAttribute("data-precedence"),T=l.get(R)||v,T===v&&l.set(null,C),l.set(R,C),this.count++,v=cc.bind(this),C.addEventListener("load",v),C.addEventListener("error",v),T?T.parentNode.insertBefore(C,T.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(C,n.firstChild)),i.state.loading|=4}}var oo={$$typeof:_,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function U_(n,i,l,v,C,T,R,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Du(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Du(0),this.hiddenUpdates=Du(null),this.identifierPrefix=v,this.onUncaughtError=C,this.onCaughtError=T,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function s0(n,i,l,v,C,T,R,V,K,ce,we,ke){return n=new U_(n,i,l,R,V,K,ce,ke),i=1,T===!0&&(i|=24),T=wn(3,null,null,i),n.current=T,T.stateNode=n,i=vf(),i.refCount++,n.pooledCache=i,i.refCount++,T.memoizedState={element:v,isDehydrated:l,cache:i},wf(T),n}function a0(n){return n?(n=ms,n):ms}function o0(n,i,l,v,C,T){C=a0(C),v.context===null?v.context=C:v.pendingContext=C,v=$i(i),v.payload={element:l},T=T===void 0?null:T,T!==null&&(v.callback=T),l=Gi(n,v,i),l!==null&&(kn(l,n,i),Ba(l,n,i))}function l0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function Bh(n,i){l0(n,i),(n=n.alternate)&&l0(n,i)}function c0(n){if(n.tag===13){var i=gs(n,67108864);i!==null&&kn(i,n,67108864),Bh(n,67108864)}}var fc=!0;function H_(n,i,l,v){var C=X.T;X.T=null;var T=W.p;try{W.p=2,Fh(n,i,l,v)}finally{W.p=T,X.T=C}}function I_(n,i,l,v){var C=X.T;X.T=null;var T=W.p;try{W.p=8,Fh(n,i,l,v)}finally{W.p=T,X.T=C}}function Fh(n,i,l,v){if(fc){var C=zh(v);if(C===null)Th(n,i,v,hc,l),f0(n,v);else if(X_(C,n,i,l,v))v.stopPropagation();else if(f0(n,v),i&4&&-1<Y_.indexOf(n)){for(;C!==null;){var T=ns(C);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var R=Xn(T.pendingLanes);if(R!==0){var V=T;for(V.pendingLanes|=2,V.entangledLanes|=2;R;){var K=1<<31-Ye(R);V.entanglements[1]|=K,R&=~K}ri(T),(it&6)===0&&(ql=ge()+500,eo(0))}}break;case 13:V=gs(T,2),V!==null&&kn(V,T,2),Zl(),Bh(T,2)}if(T=zh(v),T===null&&Th(n,i,v,hc,l),T===C)break;C=T}C!==null&&v.stopPropagation()}else Th(n,i,v,null,l)}}function zh(n){return n=Iu(n),Vh(n)}var hc=null;function Vh(n){if(hc=null,n=ts(n),n!==null){var i=b(n);if(i===null)n=null;else{var l=i.tag;if(l===13){if(n=w(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return hc=n,null}function u0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case Oe:return 2;case $:return 8;case Q:case q:return 32;case ve:return 268435456;default:return 32}default:return 32}}var Uh=!1,ar=null,or=null,lr=null,lo=new Map,co=new Map,cr=[],Y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(n,i){switch(n){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":lo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(i.pointerId)}}function uo(n,i,l,v,C,T){return n===null||n.nativeEvent!==T?(n={blockedOn:i,domEventName:l,eventSystemFlags:v,nativeEvent:T,targetContainers:[C]},i!==null&&(i=ns(i),i!==null&&c0(i)),n):(n.eventSystemFlags|=v,i=n.targetContainers,C!==null&&i.indexOf(C)===-1&&i.push(C),n)}function X_(n,i,l,v,C){switch(i){case"focusin":return ar=uo(ar,n,i,l,v,C),!0;case"dragenter":return or=uo(or,n,i,l,v,C),!0;case"mouseover":return lr=uo(lr,n,i,l,v,C),!0;case"pointerover":var T=C.pointerId;return lo.set(T,uo(lo.get(T)||null,n,i,l,v,C)),!0;case"gotpointercapture":return T=C.pointerId,co.set(T,uo(co.get(T)||null,n,i,l,v,C)),!0}return!1}function h0(n){var i=ts(n.target);if(i!==null){var l=b(i);if(l!==null){if(i=l.tag,i===13){if(i=w(l),i!==null){n.blockedOn=i,F2(n.priority,function(){if(l.tag===13){var v=Tn();v=ju(v);var C=gs(l,v);C!==null&&kn(C,l,v),Bh(l,v)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=zh(n.nativeEvent);if(l===null){l=n.nativeEvent;var v=new l.constructor(l.type,l);Hu=v,l.target.dispatchEvent(v),Hu=null}else return i=ns(l),i!==null&&c0(i),n.blockedOn=l,!1;i.shift()}return!0}function d0(n,i,l){dc(n)&&l.delete(i)}function $_(){Uh=!1,ar!==null&&dc(ar)&&(ar=null),or!==null&&dc(or)&&(or=null),lr!==null&&dc(lr)&&(lr=null),lo.forEach(d0),co.forEach(d0)}function gc(n,i){n.blockedOn===i&&(n.blockedOn=null,Uh||(Uh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$_)))}var mc=null;function g0(n){mc!==n&&(mc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mc===n&&(mc=null);for(var i=0;i<n.length;i+=3){var l=n[i],v=n[i+1],C=n[i+2];if(typeof v!="function"){if(Vh(v||l)===null)continue;break}var T=ns(l);T!==null&&(n.splice(i,3),i-=3,Vf(T,{pending:!0,data:C,method:l.method,action:v},v,C))}}))}function fo(n){function i(K){return gc(K,n)}ar!==null&&gc(ar,n),or!==null&&gc(or,n),lr!==null&&gc(lr,n),lo.forEach(i),co.forEach(i);for(var l=0;l<cr.length;l++){var v=cr[l];v.blockedOn===n&&(v.blockedOn=null)}for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)h0(l),l.blockedOn===null&&cr.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(v=0;v<l.length;v+=3){var C=l[v],T=l[v+1],R=C[hn]||null;if(typeof T=="function")R||g0(l);else if(R){var V=null;if(T&&T.hasAttribute("formAction")){if(C=T,R=T[hn]||null)V=R.formAction;else if(Vh(C)!==null)continue}else V=R.action;typeof V=="function"?l[v+1]=V:(l.splice(v,3),v-=3),g0(l)}}}function Hh(n){this._internalRoot=n}pc.prototype.render=Hh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,v=Tn();o0(l,v,n,i,null,null)},pc.prototype.unmount=Hh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;o0(n.current,2,null,n,null,null),Zl(),i[es]=null}};function pc(n){this._internalRoot=n}pc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Dm();n={blockedOn:null,target:n,priority:i};for(var l=0;l<cr.length&&i!==0&&i<cr[l].priority;l++);cr.splice(l,0,n),l===0&&h0(n)}};var m0=t.version;if(m0!=="19.1.0")throw Error(a(527,m0,"19.1.0"));W.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=s(i),n=n!==null?u(n):null,n=n===null?null:n.stateNode,n};var G_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Ae=vc.inject(G_),Me=vc}catch{}}return go.createRoot=function(n,i){if(!p(n))throw Error(a(299));var l=!1,v="",C=Dv,T=jv,R=Rv,V=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(v=i.identifierPrefix),i.onUncaughtError!==void 0&&(C=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(V=i.unstable_transitionCallbacks)),i=s0(n,1,!1,null,null,l,v,C,T,R,V,null),n[es]=i.current,_h(n),new Hh(i)},go.hydrateRoot=function(n,i,l){if(!p(n))throw Error(a(299));var v=!1,C="",T=Dv,R=jv,V=Rv,K=null,ce=null;return l!=null&&(l.unstable_strictMode===!0&&(v=!0),l.identifierPrefix!==void 0&&(C=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(K=l.unstable_transitionCallbacks),l.formState!==void 0&&(ce=l.formState)),i=s0(n,1,!0,i,l??null,v,C,T,R,V,K,ce),i.context=a0(null),l=i.current,v=Tn(),v=ju(v),C=$i(v),C.callback=null,Gi(l,C,v),l=v,i.current.lanes=l,va(i,l),ri(i),n[es]=i.current,_h(n),new pc(i)},go.version="19.1.0",go}var T0;function rT(){if(T0)return Xh.exports;T0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xh.exports=iT(),Xh.exports}var sT=rT();const aT=gg(sT);var mo={},k0;function oT(){if(k0)return mo;k0=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.parse=w,mo.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,p=Object.prototype.toString,b=(()=>{const c=function(){};return c.prototype=Object.create(null),c})();function w(c,f){const g=new b,y=c.length;if(y<2)return g;const m=(f==null?void 0:f.decode)||d;let x=0;do{const S=c.indexOf("=",x);if(S===-1)break;const _=c.indexOf(";",x),k=_===-1?y:_;if(S>k){x=c.lastIndexOf(";",S-1)+1;continue}const O=h(c,x,S),j=s(c,S,O),F=c.slice(O,j);if(g[F]===void 0){let z=h(c,S+1,k),U=s(c,k,z);const G=m(c.slice(z,U));g[F]=G}x=k+1}while(x<y);return g}function h(c,f,g){do{const y=c.charCodeAt(f);if(y!==32&&y!==9)return f}while(++f<g);return g}function s(c,f,g){for(;f>g;){const y=c.charCodeAt(--f);if(y!==32&&y!==9)return f+1}return g}function u(c,f,g){const y=(g==null?void 0:g.encode)||encodeURIComponent;if(!e.test(c))throw new TypeError(`argument name is invalid: ${c}`);const m=y(f);if(!t.test(m))throw new TypeError(`argument val is invalid: ${f}`);let x=c+"="+m;if(!g)return x;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);x+="; Max-Age="+g.maxAge}if(g.domain){if(!r.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);x+="; Domain="+g.domain}if(g.path){if(!a.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);x+="; Path="+g.path}if(g.expires){if(!o(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);x+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(x+="; HttpOnly"),g.secure&&(x+="; Secure"),g.partitioned&&(x+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return x}function d(c){if(c.indexOf("%")===-1)return c;try{return decodeURIComponent(c)}catch{return c}}function o(c){return p.call(c)==="[object Date]"}return mo}oT();var E0="popstate";function lT(e={}){function t(p,b){let{pathname:w="/",search:h="",hash:s=""}=sa(p.location.hash.substring(1));return!w.startsWith("/")&&!w.startsWith(".")&&(w="/"+w),Od("",{pathname:w,search:h,hash:s},b.state&&b.state.usr||null,b.state&&b.state.key||"default")}function r(p,b){let w=p.document.querySelector("base"),h="";if(w&&w.getAttribute("href")){let s=p.location.href,u=s.indexOf("#");h=u===-1?s:s.slice(0,u)}return h+"#"+(typeof b=="string"?b:No(b))}function a(p,b){Qn(p.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(b)})`)}return uT(t,r,a,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cT(){return Math.random().toString(36).substring(2,10)}function O0(e,t){return{usr:e.state,key:e.key,idx:t}}function Od(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sa(t):t,state:r,key:t&&t.key||a||cT()}}function No({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function uT(e,t,r,a={}){let{window:p=document.defaultView,v5Compat:b=!1}=a,w=p.history,h="POP",s=null,u=d();u==null&&(u=0,w.replaceState({...w.state,idx:u},""));function d(){return(w.state||{idx:null}).idx}function o(){h="POP";let m=d(),x=m==null?null:m-u;u=m,s&&s({action:h,location:y.location,delta:x})}function c(m,x){h="PUSH";let S=Od(y.location,m,x);r&&r(S,m),u=d()+1;let _=O0(S,u),k=y.createHref(S);try{w.pushState(_,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;p.location.assign(k)}b&&s&&s({action:h,location:y.location,delta:1})}function f(m,x){h="REPLACE";let S=Od(y.location,m,x);r&&r(S,m),u=d();let _=O0(S,u),k=y.createHref(S);w.replaceState(_,"",k),b&&s&&s({action:h,location:y.location,delta:0})}function g(m){let x=p.location.origin!=="null"?p.location.origin:p.location.href,S=typeof m=="string"?m:No(m);return S=S.replace(/ $/,"%20"),Nt(x,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,x)}let y={get action(){return h},get location(){return e(p,w)},listen(m){if(s)throw new Error("A history only accepts one active listener");return p.addEventListener(E0,o),s=m,()=>{p.removeEventListener(E0,o),s=null}},createHref(m){return t(p,m)},createURL:g,encodeLocation(m){let x=g(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:c,replace:f,go(m){return w.go(m)}};return y}function Qx(e,t,r="/"){return fT(e,t,r,!1)}function fT(e,t,r,a){let p=typeof t=="string"?sa(t):t,b=zi(p.pathname||"/",r);if(b==null)return null;let w=Jx(e);hT(w);let h=null;for(let s=0;h==null&&s<w.length;++s){let u=CT(b);h=wT(w[s],u,a)}return h}function Jx(e,t=[],r=[],a=""){let p=(b,w,h)=>{let s={relativePath:h===void 0?b.path||"":h,caseSensitive:b.caseSensitive===!0,childrenIndex:w,route:b};s.relativePath.startsWith("/")&&(Nt(s.relativePath.startsWith(a),`Absolute route path "${s.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(a.length));let u=Ni([a,s.relativePath]),d=r.concat(s);b.children&&b.children.length>0&&(Nt(b.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Jx(b.children,t,d,u)),!(b.path==null&&!b.index)&&t.push({path:u,score:bT(u,b.index),routesMeta:d})};return e.forEach((b,w)=>{var h;if(b.path===""||!((h=b.path)!=null&&h.includes("?")))p(b,w);else for(let s of ew(b.path))p(b,w,s)}),t}function ew(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,p=r.endsWith("?"),b=r.replace(/\?$/,"");if(a.length===0)return p?[b,""]:[b];let w=ew(a.join("/")),h=[];return h.push(...w.map(s=>s===""?b:[b,s].join("/"))),p&&h.push(...w),h.map(s=>e.startsWith("/")&&s===""?"/":s)}function hT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xT(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var dT=/^:[\w-]+$/,gT=3,mT=2,pT=1,vT=10,yT=-2,A0=e=>e==="*";function bT(e,t){let r=e.split("/"),a=r.length;return r.some(A0)&&(a+=yT),t&&(a+=mT),r.filter(p=>!A0(p)).reduce((p,b)=>p+(dT.test(b)?gT:b===""?pT:vT),a)}function xT(e,t){return e.length===t.length&&e.slice(0,-1).every((a,p)=>a===t[p])?e[e.length-1]-t[t.length-1]:0}function wT(e,t,r=!1){let{routesMeta:a}=e,p={},b="/",w=[];for(let h=0;h<a.length;++h){let s=a[h],u=h===a.length-1,d=b==="/"?t:t.slice(b.length)||"/",o=Bc({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},d),c=s.route;if(!o&&u&&r&&!a[a.length-1].route.index&&(o=Bc({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},d)),!o)return null;Object.assign(p,o.params),w.push({params:p,pathname:Ni([b,o.pathname]),pathnameBase:ET(Ni([b,o.pathnameBase])),route:c}),o.pathnameBase!=="/"&&(b=Ni([b,o.pathnameBase]))}return w}function Bc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=ST(e.path,e.caseSensitive,e.end),p=t.match(r);if(!p)return null;let b=p[0],w=b.replace(/(.)\/+$/,"$1"),h=p.slice(1);return{params:a.reduce((u,{paramName:d,isOptional:o},c)=>{if(d==="*"){let g=h[c]||"";w=b.slice(0,b.length-g.length).replace(/(.)\/+$/,"$1")}const f=h[c];return o&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:b,pathnameBase:w,pattern:e}}function ST(e,t=!1,r=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],p="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(w,h,s)=>(a.push({paramName:h,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),p+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?p+="\\/*$":e!==""&&e!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,t?void 0:"i"),a]}function CT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function _T(e,t="/"){let{pathname:r,search:a="",hash:p=""}=typeof e=="string"?sa(e):e;return{pathname:r?r.startsWith("/")?r:TT(r,t):t,search:OT(a),hash:AT(p)}}function TT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(p=>{p===".."?r.length>1&&r.pop():p!=="."&&r.push(p)}),r.length>1?r.join("/"):"/"}function qh(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tw(e){let t=kT(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function nw(e,t,r,a=!1){let p;typeof e=="string"?p=sa(e):(p={...e},Nt(!p.pathname||!p.pathname.includes("?"),qh("?","pathname","search",p)),Nt(!p.pathname||!p.pathname.includes("#"),qh("#","pathname","hash",p)),Nt(!p.search||!p.search.includes("#"),qh("#","search","hash",p)));let b=e===""||p.pathname==="",w=b?"/":p.pathname,h;if(w==null)h=r;else{let o=t.length-1;if(!a&&w.startsWith("..")){let c=w.split("/");for(;c[0]==="..";)c.shift(),o-=1;p.pathname=c.join("/")}h=o>=0?t[o]:"/"}let s=_T(p,h),u=w&&w!=="/"&&w.endsWith("/"),d=(b||w===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(u||d)&&(s.pathname+="/"),s}var Ni=e=>e.join("/").replace(/\/\/+/g,"/"),ET=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function MT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var iw=["POST","PUT","PATCH","DELETE"];new Set(iw);var DT=["GET",...iw];new Set(DT);var aa=D.createContext(null);aa.displayName="DataRouter";var uu=D.createContext(null);uu.displayName="DataRouterState";var rw=D.createContext({isTransitioning:!1});rw.displayName="ViewTransition";var jT=D.createContext(new Map);jT.displayName="Fetchers";var RT=D.createContext(null);RT.displayName="Await";var di=D.createContext(null);di.displayName="Navigation";var fu=D.createContext(null);fu.displayName="Location";var gi=D.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var pg=D.createContext(null);pg.displayName="RouteError";function PT(e,{relative:t}={}){Nt($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=D.useContext(di),{hash:p,pathname:b,search:w}=Go(e,{relative:t}),h=b;return r!=="/"&&(h=b==="/"?r:Ni([r,b])),a.createHref({pathname:h,search:w,hash:p})}function $o(){return D.useContext(fu)!=null}function br(){return Nt($o(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(fu).location}var sw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aw(e){D.useContext(di).static||D.useLayoutEffect(e)}function LT(){let{isDataRoute:e}=D.useContext(gi);return e?KT():NT()}function NT(){Nt($o(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(aa),{basename:t,navigator:r}=D.useContext(di),{matches:a}=D.useContext(gi),{pathname:p}=br(),b=JSON.stringify(tw(a)),w=D.useRef(!1);return aw(()=>{w.current=!0}),D.useCallback((s,u={})=>{if(Qn(w.current,sw),!w.current)return;if(typeof s=="number"){r.go(s);return}let d=nw(s,JSON.parse(b),p,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ni([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,b,p,e])}var BT=D.createContext(null);function FT(e){let t=D.useContext(gi).outlet;return t&&D.createElement(BT.Provider,{value:e},t)}function Go(e,{relative:t}={}){let{matches:r}=D.useContext(gi),{pathname:a}=br(),p=JSON.stringify(tw(r));return D.useMemo(()=>nw(e,JSON.parse(p),a,t==="path"),[e,p,a,t])}function zT(e,t){return ow(e)}function ow(e,t,r,a){Nt($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p,static:b}=D.useContext(di),{matches:w}=D.useContext(gi),h=w[w.length-1],s=h?h.params:{},u=h?h.pathname:"/",d=h?h.pathnameBase:"/",o=h&&h.route;{let S=o&&o.path||"";lw(u,!o||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let c=br(),f;f=c;let g=f.pathname||"/",y=g;if(d!=="/"){let S=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let m=!b&&r&&r.matches&&r.matches.length>0?r.matches:Qx(e,{pathname:y});return Qn(o||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Qn(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),YT(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},s,S.params),pathname:Ni([d,p.encodeLocation?p.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Ni([d,p.encodeLocation?p.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),w,r,a)}function VT(){let e=qT(),t=MT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:a},b={padding:"2px 4px",backgroundColor:a},w=null;return console.error("Error handled by React Router default ErrorBoundary:",e),w=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:b},"ErrorBoundary")," or"," ",D.createElement("code",{style:b},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:p},r):null,w)}var UT=D.createElement(VT,null),HT=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(gi.Provider,{value:this.props.routeContext},D.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IT({routeContext:e,match:t,children:r}){let a=D.useContext(aa);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(gi.Provider,{value:e},r)}function YT(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let p=e,b=r==null?void 0:r.errors;if(b!=null){let s=p.findIndex(u=>u.route.id&&(b==null?void 0:b[u.route.id])!==void 0);Nt(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),p=p.slice(0,Math.min(p.length,s+1))}let w=!1,h=-1;if(r)for(let s=0;s<p.length;s++){let u=p[s];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(h=s),u.route.id){let{loaderData:d,errors:o}=r,c=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!o||o[u.route.id]===void 0);if(u.route.lazy||c){w=!0,h>=0?p=p.slice(0,h+1):p=[p[0]];break}}}return p.reduceRight((s,u,d)=>{let o,c=!1,f=null,g=null;r&&(o=b&&u.route.id?b[u.route.id]:void 0,f=u.route.errorElement||UT,w&&(h<0&&d===0?(lw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,g=null):h===d&&(c=!0,g=u.route.hydrateFallbackElement||null)));let y=t.concat(p.slice(0,d+1)),m=()=>{let x;return o?x=f:c?x=g:u.route.Component?x=D.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=s,D.createElement(IT,{match:u,routeContext:{outlet:s,matches:y,isDataRoute:r!=null},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?D.createElement(HT,{location:r.location,revalidation:r.revalidation,component:f,error:o,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}function vg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(e){let t=D.useContext(aa);return Nt(t,vg(e)),t}function $T(e){let t=D.useContext(uu);return Nt(t,vg(e)),t}function GT(e){let t=D.useContext(gi);return Nt(t,vg(e)),t}function yg(e){let t=GT(e),r=t.matches[t.matches.length-1];return Nt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function WT(){return yg("useRouteId")}function qT(){var a;let e=D.useContext(pg),t=$T("useRouteError"),r=yg("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function KT(){let{router:e}=XT("useNavigate"),t=yg("useNavigate"),r=D.useRef(!1);return aw(()=>{r.current=!0}),D.useCallback(async(p,b={})=>{Qn(r.current,sw),r.current&&(typeof p=="number"?e.navigate(p):await e.navigate(p,{fromRouteId:t,...b}))},[e,t])}var M0={};function lw(e,t,r){!t&&!M0[e]&&(M0[e]=!0,Qn(!1,r))}D.memo(ZT);function ZT({routes:e,future:t,state:r}){return ow(e,void 0,r,t)}function QT(e){return FT(e.context)}function JT({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:p,static:b=!1}){Nt(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let w=e.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:w,navigator:p,static:b,future:{}}),[w,p,b]);typeof r=="string"&&(r=sa(r));let{pathname:s="/",search:u="",hash:d="",state:o=null,key:c="default"}=r,f=D.useMemo(()=>{let g=zi(s,w);return g==null?null:{location:{pathname:g,search:u,hash:d,state:o,key:c},navigationType:a}},[w,s,u,d,o,c,a]);return Qn(f!=null,`<Router basename="${w}"> is not able to match the URL "${s}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:D.createElement(di.Provider,{value:h},D.createElement(fu.Provider,{children:t,value:f}))}var Ac="get",Mc="application/x-www-form-urlencoded";function hu(e){return e!=null&&typeof e.tagName=="string"}function ek(e){return hu(e)&&e.tagName.toLowerCase()==="button"}function tk(e){return hu(e)&&e.tagName.toLowerCase()==="form"}function nk(e){return hu(e)&&e.tagName.toLowerCase()==="input"}function ik(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rk(e,t){return e.button===0&&(!t||t==="_self")&&!ik(e)}var yc=null;function sk(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var ak=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kh(e){return e!=null&&!ak.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mc}"`),null):e}function ok(e,t){let r,a,p,b,w;if(tk(e)){let h=e.getAttribute("action");a=h?zi(h,t):null,r=e.getAttribute("method")||Ac,p=Kh(e.getAttribute("enctype"))||Mc,b=new FormData(e)}else if(ek(e)||nk(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||h.getAttribute("action");if(a=s?zi(s,t):null,r=e.getAttribute("formmethod")||h.getAttribute("method")||Ac,p=Kh(e.getAttribute("formenctype"))||Kh(h.getAttribute("enctype"))||Mc,b=new FormData(h,e),!sk()){let{name:u,type:d,value:o}=e;if(d==="image"){let c=u?`${u}.`:"";b.append(`${c}x`,"0"),b.append(`${c}y`,"0")}else u&&b.append(u,o)}}else{if(hu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ac,a=null,p=Mc,w=e}return b&&p==="text/plain"&&(w=b,b=void 0),{action:a,method:r.toLowerCase(),encType:p,formData:b,body:w}}function bg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function lk(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ck(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function uk(e,t,r){let a=await Promise.all(e.map(async p=>{let b=t.routes[p.route.id];if(b){let w=await lk(b,r);return w.links?w.links():[]}return[]}));return gk(a.flat(1).filter(ck).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function D0(e,t,r,a,p,b){let w=(s,u)=>r[u]?s.route.id!==r[u].route.id:!0,h=(s,u)=>{var d;return r[u].pathname!==s.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==s.params["*"]};return b==="assets"?t.filter((s,u)=>w(s,u)||h(s,u)):b==="data"?t.filter((s,u)=>{var o;let d=a.routes[s.route.id];if(!d||!d.hasLoader)return!1;if(w(s,u)||h(s,u))return!0;if(s.route.shouldRevalidate){let c=s.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:((o=r[0])==null?void 0:o.params)||{},nextUrl:new URL(e,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function fk(e,t,{includeHydrateFallback:r}={}){return hk(e.map(a=>{let p=t.routes[a.route.id];if(!p)return[];let b=[p.module];return p.clientActionModule&&(b=b.concat(p.clientActionModule)),p.clientLoaderModule&&(b=b.concat(p.clientLoaderModule)),r&&p.hydrateFallbackModule&&(b=b.concat(p.hydrateFallbackModule)),p.imports&&(b=b.concat(p.imports)),b}).flat(1))}function hk(e){return[...new Set(e)]}function dk(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function gk(e,t){let r=new Set;return new Set(t),e.reduce((a,p)=>{let b=JSON.stringify(dk(p));return r.has(b)||(r.add(b),a.push({key:b,link:p})),a},[])}var mk=new Set([100,101,204,205]);function pk(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&zi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function cw(){let e=D.useContext(aa);return bg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function vk(){let e=D.useContext(uu);return bg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xg=D.createContext(void 0);xg.displayName="FrameworkContext";function uw(){let e=D.useContext(xg);return bg(e,"You must render this element inside a <HydratedRouter> element"),e}function yk(e,t){let r=D.useContext(xg),[a,p]=D.useState(!1),[b,w]=D.useState(!1),{onFocus:h,onBlur:s,onMouseEnter:u,onMouseLeave:d,onTouchStart:o}=t,c=D.useRef(null);D.useEffect(()=>{if(e==="render"&&w(!0),e==="viewport"){let y=x=>{x.forEach(S=>{w(S.isIntersecting)})},m=new IntersectionObserver(y,{threshold:.5});return c.current&&m.observe(c.current),()=>{m.disconnect()}}},[e]),D.useEffect(()=>{if(a){let y=setTimeout(()=>{w(!0)},100);return()=>{clearTimeout(y)}}},[a]);let f=()=>{p(!0)},g=()=>{p(!1),w(!1)};return r?e!=="intent"?[b,c,{}]:[b,c,{onFocus:po(h,f),onBlur:po(s,g),onMouseEnter:po(u,f),onMouseLeave:po(d,g),onTouchStart:po(o,f)}]:[!1,c,{}]}function po(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function bk({page:e,...t}){let{router:r}=cw(),a=D.useMemo(()=>Qx(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?D.createElement(wk,{page:e,matches:a,...t}):null}function xk(e){let{manifest:t,routeModules:r}=uw(),[a,p]=D.useState([]);return D.useEffect(()=>{let b=!1;return uk(e,t,r).then(w=>{b||p(w)}),()=>{b=!0}},[e,t,r]),a}function wk({page:e,matches:t,...r}){let a=br(),{manifest:p,routeModules:b}=uw(),{basename:w}=cw(),{loaderData:h,matches:s}=vk(),u=D.useMemo(()=>D0(e,t,s,p,a,"data"),[e,t,s,p,a]),d=D.useMemo(()=>D0(e,t,s,p,a,"assets"),[e,t,s,p,a]),o=D.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let g=new Set,y=!1;if(t.forEach(x=>{var _;let S=p.routes[x.route.id];!S||!S.hasLoader||(!u.some(k=>k.route.id===x.route.id)&&x.route.id in h&&((_=b[x.route.id])!=null&&_.shouldRevalidate)||S.hasClientLoader?y=!0:g.add(x.route.id))}),g.size===0)return[];let m=pk(e,w);return y&&g.size>0&&m.searchParams.set("_routes",t.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[m.pathname+m.search]},[w,h,a,p,u,t,e,b]),c=D.useMemo(()=>fk(d,p),[d,p]),f=xk(d);return D.createElement(D.Fragment,null,o.map(g=>D.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),c.map(g=>D.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),f.map(({key:g,link:y})=>D.createElement("link",{key:g,...y})))}function Sk(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fw&&(window.__reactRouterVersion="7.5.3")}catch{}function Ck({basename:e,children:t,window:r}){let a=D.useRef();a.current==null&&(a.current=lT({window:r,v5Compat:!0}));let p=a.current,[b,w]=D.useState({action:p.action,location:p.location}),h=D.useCallback(s=>{D.startTransition(()=>w(s))},[w]);return D.useLayoutEffect(()=>p.listen(h),[p,h]),D.createElement(JT,{basename:e,children:t,location:b.location,navigationType:b.action,navigator:p})}var hw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wg=D.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:p,reloadDocument:b,replace:w,state:h,target:s,to:u,preventScrollReset:d,viewTransition:o,...c},f){let{basename:g}=D.useContext(di),y=typeof u=="string"&&hw.test(u),m,x=!1;if(typeof u=="string"&&y&&(m=u,fw))try{let U=new URL(window.location.href),G=u.startsWith("//")?new URL(U.protocol+u):new URL(u),ie=zi(G.pathname,g);G.origin===U.origin&&ie!=null?u=ie+G.search+G.hash:x=!0}catch{Qn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=PT(u,{relative:p}),[_,k,O]=yk(a,c),j=kk(u,{replace:w,state:h,target:s,preventScrollReset:d,relative:p,viewTransition:o});function F(U){t&&t(U),U.defaultPrevented||j(U)}let z=D.createElement("a",{...c,...O,href:m||S,onClick:x||b?t:F,ref:Sk(f,k),target:s,"data-discover":!y&&r==="render"?"true":void 0});return _&&!y?D.createElement(D.Fragment,null,z,D.createElement(bk,{page:S})):z});wg.displayName="Link";var dw=D.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:p=!1,style:b,to:w,viewTransition:h,children:s,...u},d){let o=Go(w,{relative:u.relative}),c=br(),f=D.useContext(uu),{navigator:g,basename:y}=D.useContext(di),m=f!=null&&Dk(o)&&h===!0,x=g.encodeLocation?g.encodeLocation(o).pathname:o.pathname,S=c.pathname,_=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(S=S.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&y&&(_=zi(_,y)||_);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=S===x||!p&&S.startsWith(x)&&S.charAt(k)==="/",j=_!=null&&(_===x||!p&&_.startsWith(x)&&_.charAt(x.length)==="/"),F={isActive:O,isPending:j,isTransitioning:m},z=O?t:void 0,U;typeof a=="function"?U=a(F):U=[a,O?"active":null,j?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let G=typeof b=="function"?b(F):b;return D.createElement(wg,{...u,"aria-current":z,className:U,ref:d,style:G,to:w,viewTransition:h},typeof s=="function"?s(F):s)});dw.displayName="NavLink";var _k=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:p,state:b,method:w=Ac,action:h,onSubmit:s,relative:u,preventScrollReset:d,viewTransition:o,...c},f)=>{let g=Ak(),y=Mk(h,{relative:u}),m=w.toLowerCase()==="get"?"get":"post",x=typeof h=="string"&&hw.test(h),S=_=>{if(s&&s(_),_.defaultPrevented)return;_.preventDefault();let k=_.nativeEvent.submitter,O=(k==null?void 0:k.getAttribute("formmethod"))||w;g(k||_.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:p,state:b,relative:u,preventScrollReset:d,viewTransition:o})};return D.createElement("form",{ref:f,method:m,action:y,onSubmit:a?s:S,...c,"data-discover":!x&&e==="render"?"true":void 0})});_k.displayName="Form";function Tk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(e){let t=D.useContext(aa);return Nt(t,Tk(e)),t}function kk(e,{target:t,replace:r,state:a,preventScrollReset:p,relative:b,viewTransition:w}={}){let h=LT(),s=br(),u=Go(e,{relative:b});return D.useCallback(d=>{if(rk(d,t)){d.preventDefault();let o=r!==void 0?r:No(s)===No(u);h(e,{replace:o,state:a,preventScrollReset:p,relative:b,viewTransition:w})}},[s,h,u,r,a,t,e,p,b,w])}var Ek=0,Ok=()=>`__${String(++Ek)}__`;function Ak(){let{router:e}=gw("useSubmit"),{basename:t}=D.useContext(di),r=WT();return D.useCallback(async(a,p={})=>{let{action:b,method:w,encType:h,formData:s,body:u}=ok(a,t);if(p.navigate===!1){let d=p.fetcherKey||Ok();await e.fetch(d,r,p.action||b,{preventScrollReset:p.preventScrollReset,formData:s,body:u,formMethod:p.method||w,formEncType:p.encType||h,flushSync:p.flushSync})}else await e.navigate(p.action||b,{preventScrollReset:p.preventScrollReset,formData:s,body:u,formMethod:p.method||w,formEncType:p.encType||h,replace:p.replace,state:p.state,fromRouteId:r,flushSync:p.flushSync,viewTransition:p.viewTransition})},[e,t,r])}function Mk(e,{relative:t}={}){let{basename:r}=D.useContext(di),a=D.useContext(gi);Nt(a,"useFormAction must be used inside a RouteContext");let[p]=a.matches.slice(-1),b={...Go(e||".",{relative:t})},w=br();if(e==null){b.search=w.search;let h=new URLSearchParams(b.search),s=h.getAll("index");if(s.some(d=>d==="")){h.delete("index"),s.filter(o=>o).forEach(o=>h.append("index",o));let d=h.toString();b.search=d?`?${d}`:""}}return(!e||e===".")&&p.route.index&&(b.search=b.search?b.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(b.pathname=b.pathname==="/"?r:Ni([r,b.pathname])),No(b)}function Dk(e,t={}){let r=D.useContext(rw);Nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=gw("useViewTransitionState"),p=Go(e,{relative:t.relative});if(!r.isTransitioning)return!1;let b=zi(r.currentLocation.pathname,a)||r.currentLocation.pathname,w=zi(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Bc(p.pathname,w)!=null||Bc(p.pathname,b)!=null}new TextEncoder;[...mk];const jk=(e,t,r,a)=>{var b,w,h,s;const p=[r,{code:t,...a||{}}];if((w=(b=e==null?void 0:e.services)==null?void 0:b.logger)!=null&&w.forward)return e.services.logger.forward(p,"warn","react-i18next::",!0);$r(p[0])&&(p[0]=`react-i18next:: ${p[0]}`),(s=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&s.warn?e.services.logger.warn(...p):console!=null&&console.warn&&console.warn(...p)},j0={},Ad=(e,t,r,a)=>{$r(r)&&j0[r]||($r(r)&&(j0[r]=new Date),jk(e,t,r,a))},mw=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},Md=(e,t,r)=>{e.loadNamespaces(t,mw(e,r))},R0=(e,t,r,a)=>{if($r(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Md(e,r,a);r.forEach(p=>{e.options.ns.indexOf(p)<0&&e.options.ns.push(p)}),e.loadLanguages(t,mw(e,a))},Rk=(e,t,r={})=>!t.languages||!t.languages.length?(Ad(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(a,p)=>{var b;if(((b=r.bindI18n)==null?void 0:b.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!p(a.isLanguageChangingTo,e))return!1}}),$r=e=>typeof e=="string",Pk=e=>typeof e=="object"&&e!==null,Lk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Nk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Bk=e=>Nk[e],Fk=e=>e.replace(Lk,Bk);let Dd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Fk};const zk=(e={})=>{Dd={...Dd,...e}},Vk=()=>Dd;let pw;const Uk=e=>{pw=e},Hk=()=>pw,Ik={type:"3rdParty",init(e){zk(e.options.react),Uk(e)}},Yk=D.createContext();class Xk{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const $k=(e,t)=>{const r=D.useRef();return D.useEffect(()=>{r.current=e},[e,t]),r.current},vw=(e,t,r,a)=>e.getFixedT(t,r,a),Gk=(e,t,r,a)=>D.useCallback(vw(e,t,r,a),[e,t,r,a]),tn=(e,t={})=>{var k,O,j,F;const{i18n:r}=t,{i18n:a,defaultNS:p}=D.useContext(Yk)||{},b=r||a||Hk();if(b&&!b.reportNamespaces&&(b.reportNamespaces=new Xk),!b){Ad(b,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const z=(G,ie)=>$r(ie)?ie:Pk(ie)&&$r(ie.defaultValue)?ie.defaultValue:Array.isArray(G)?G[G.length-1]:G,U=[z,{},!1];return U.t=z,U.i18n={},U.ready=!1,U}(k=b.options.react)!=null&&k.wait&&Ad(b,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const w={...Vk(),...b.options.react,...t},{useSuspense:h,keyPrefix:s}=w;let u=p||((O=b.options)==null?void 0:O.defaultNS);u=$r(u)?[u]:u||["translation"],(F=(j=b.reportNamespaces).addUsedNamespaces)==null||F.call(j,u);const d=(b.isInitialized||b.initializedStoreOnce)&&u.every(z=>Rk(z,b,w)),o=Gk(b,t.lng||null,w.nsMode==="fallback"?u:u[0],s),c=()=>o,f=()=>vw(b,t.lng||null,w.nsMode==="fallback"?u:u[0],s),[g,y]=D.useState(c);let m=u.join();t.lng&&(m=`${t.lng}${m}`);const x=$k(m),S=D.useRef(!0);D.useEffect(()=>{const{bindI18n:z,bindI18nStore:U}=w;S.current=!0,!d&&!h&&(t.lng?R0(b,t.lng,u,()=>{S.current&&y(f)}):Md(b,u,()=>{S.current&&y(f)})),d&&x&&x!==m&&S.current&&y(f);const G=()=>{S.current&&y(f)};return z&&(b==null||b.on(z,G)),U&&(b==null||b.store.on(U,G)),()=>{S.current=!1,b&&(z==null||z.split(" ").forEach(ie=>b.off(ie,G))),U&&b&&U.split(" ").forEach(ie=>b.store.off(ie,G))}},[b,m]),D.useEffect(()=>{S.current&&d&&y(c)},[b,s,d]);const _=[g,b,d];if(_.t=g,_.i18n=b,_.ready=d,d||!d&&!h)return _;throw new Promise(z=>{t.lng?R0(b,t.lng,u,()=>z()):Md(b,u,()=>z())})};function Wk(){const{t:e}=tn();return E.jsxs("div",{className:"p-6 text-text",children:[E.jsx("h1",{className:"text-2xl font-bold mb-6",children:e("homePage")}),E.jsx("p",{className:"text-text-muted",children:e("welcome")})]})}const yw=D.createContext(),qk=({children:e})=>{const[t,r]=D.useState(null),[a,p]=D.useState(!1),[b,w]=D.useState("connecting"),h=D.useRef([]),s=D.useRef(0),u=D.useRef(null),d=D.useRef(!1),o=D.useRef(null),c="ws://localhost:12345",f=10,g=D.useCallback(()=>{u.current&&(clearTimeout(u.current),u.current=null),o.current&&o.current.readyState!==WebSocket.CLOSED&&o.current.close()},[]),y=D.useCallback(()=>{if(d.current)return;g(),w("connecting"),console.log("🔄 Attempting to connect to WebSocket...");const j=new WebSocket(c);o.current=j,r(j),j.onopen=()=>{d.current||(console.log("✅ WebSocket connected successfully"),p(!0),w("connected"),s.current=0)},j.onmessage=F=>{if(d.current)return;const z=F.data;h.current.forEach(U=>{try{U(z)}catch(G){console.error("Error in message callback:",G)}})},j.onerror=F=>{console.error("❌ WebSocket error:",F),w("disconnected")},j.onclose=F=>{d.current||(console.warn("⚠️ WebSocket disconnected",F.code,F.reason),p(!1),w("disconnected"),F.code!==1e3&&s.current<f&&m())}},[g]),m=D.useCallback(()=>{if(d.current||s.current>=f){console.error("❌ Max reconnection attempts reached");return}const j=Math.min(1e4,1e3*Math.pow(2,s.current));console.log(`🔄 Reconnecting in ${j/1e3}s... (attempt ${s.current+1})`),w("reconnecting"),u.current=setTimeout(()=>{d.current||(s.current+=1,y())},j)},[y]);D.useEffect(()=>(d.current=!1,y(),()=>{console.log("🧹 Cleaning up WebSocket connection"),d.current=!0,g()}),[]);const x=D.useCallback(j=>{if(o.current&&o.current.readyState===WebSocket.OPEN)try{return o.current.send(j),!0}catch(F){return console.error("❌ Error sending message:",F),!1}return console.warn("⚠️ WebSocket not ready to send. Current state:",o.current?o.current.readyState:"null"),!1},[]),S=D.useCallback(j=>{if(typeof j=="function")return h.current.push(j),()=>_(j)},[]),_=D.useCallback(j=>{h.current=h.current.filter(F=>F!==j)},[]),k=D.useCallback(()=>{s.current=0,y()},[y]),O={isConnected:a,connectionStatus:b,send:x,addMessageCallback:S,removeMessageCallback:_,reconnect:k};return E.jsx(yw.Provider,{value:O,children:e})},Wo=()=>{const e=D.useContext(yw);if(!e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zk=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),P0=e=>{const t=Zk(e);return t.charAt(0).toUpperCase()+t.slice(1)},bw=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),Qk=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:p="",children:b,iconNode:w,...h},s)=>D.createElement("svg",{ref:s,...Jk,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:bw("lucide",p),...!b&&!Qk(h)&&{"aria-hidden":"true"},...h},[...w.map(([u,d])=>D.createElement(u,d)),...Array.isArray(b)?b:[b]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=D.forwardRef(({className:a,...p},b)=>D.createElement(eE,{ref:b,iconNode:t,className:bw(`lucide-${Kk(P0(e))}`,`lucide-${e}`,a),...p}));return r.displayName=P0(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]],nE=Be("battery",tE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],xw=Be("brush",iE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Fc=Be("camera",rE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],aE=Be("chart-line",sE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lE=Be("check",oE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uE=Be("chevron-left",cE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hE=Be("chevron-right",fE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zc=Be("circle",dE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mE=Be("clock",gE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],ww=Be("crop",pE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vc=Be("download",vE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Uc=Be("eraser",yE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xE=Be("eye-off",bE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SE=Be("eye",wE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]],_E=Be("flip-horizontal",CE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],kE=Be("focus",TE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ys=Be("funnel",EE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],AE=Be("gauge",OE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],DE=Be("hand",ME);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],RE=Be("image-plus",jE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Zh=Be("image",PE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],NE=Be("layers",LE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],FE=Be("layout-dashboard",BE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],VE=Be("maximize-2",zE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Zs=Be("maximize",UE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],IE=Be("minimize-2",HE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M5 12h14",key:"1ays0h"}]],Sg=Be("minus",YE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],$E=Be("moon",XE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],WE=Be("mouse-pointer",GE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]],jd=Be("move-3d",qE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Rd=Be("move",KE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Cg=Be("palette",ZE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],JE=Be("play",QE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],L0=Be("power",eO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],nO=Be("rectangle-horizontal",tO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],du=Be("rotate-ccw",iO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sO=Be("save",rO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],N0=Be("search",aO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bi=Be("settings",oO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],cO=Be("sliders-vertical",lO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Dc=Be("sparkles",uO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],To=Be("square",fO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],dO=Be("sun",hO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sw=Be("trash-2",gO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],pO=Be("triangle",mO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],yO=Be("type",vO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],B0=Be("undo-2",bO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],wO=Be("undo",xO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Cw=Be("upload",SO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],F0=Be("video",CO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gu=Be("x",_O);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],kO=Be("wrench",TO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],So=Be("zap",EO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Co=Be("zoom-in",OO);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Qh=Be("zoom-out",AO),oa=({icon:e})=>{const{t,i18n:r}=tn(),{isConnected:a}=Wo(),p=r.language==="fa"?"text-right":"text-left";return a?E.jsx("div",{className:"panel bg-background-white dark:bg-background-secondary border border-border rounded-lg p-4 mb-6",children:E.jsxs("div",{className:"flex items-center gap-3 text-primary dark:text-primary",children:[E.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),E.jsx("span",{className:`font-medium font-vazir ${p}`,children:t("websocketConnected")})]})}):E.jsx("div",{className:"panel variant-highlight border border-border rounded-lg p-4 mb-6 animate-pulse",children:E.jsxs("div",{className:"flex items-center gap-3 text-white dark:text-white",children:[E.jsxs("div",{className:"relative",children:[E.jsx(e,{className:"w-5 h-5"}),E.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-highlight rounded-full animate-ping"})]}),E.jsx("span",{className:`font-medium font-vazir ${p}`,children:t("websocketConnecting")})]})})},ht=({label:e,icon:t,children:r,value:a,unit:p,className:b="",showValue:w=!0})=>{const{i18n:h}=tn(),s=h.language==="fa",u=s?"flex-row-reverse":"flex-row",d=s?"text-right":"text-left";return E.jsxs("div",{className:`card p-6 transition-all duration-200 hover:shadow-md ${b}`,children:[" ",E.jsxs("div",{className:`flex items-center justify-between mb-3 ${u}`,children:[" ",E.jsxs("div",{className:`flex items-center gap-2 ${u}`,children:[" ",t&&E.jsx(t,{className:"w-5 h-5 text-primary"})," ",E.jsxs("label",{className:`font-medium text-text dark:text-text font-vazir ${d}`,children:[" ",e," "]})," "]})," ",w&&a&&E.jsxs("span",{className:`text-sm text-primary dark:text-primary font-medium font-vazir ${d}`,children:[" ",a," ",p," "]})," "]})," ",r," "]})},Qt=({type:e="text",name:t,value:r,onChange:a,placeholder:p,min:b,max:w,step:h,disabled:s=!1,className:u="",...d})=>{const{i18n:o}=tn(),c=o.language==="fa"?"text-right":"text-left",f=`
    w-full p-3 border border-border rounded-lg 
    bg-background-white dark:bg-background-secondary 
    text-text dark:text-text outline-none 
    focus:border-primary focus:shadow-sm focus:shadow-primary/50 
    transition-colors
    ${s?"cursor-not-allowed opacity-50":""}
    ${c}
  `;return E.jsx("input",{type:e,name:t,value:r||"",onChange:a,placeholder:p,min:b,max:w,step:h,disabled:s,className:`${f} ${u}`,...d})},ai=({name:e,value:t,onChange:r,options:a=[],disabled:p=!1,className:b="",...w})=>{const{i18n:h}=tn(),s=h.language==="fa"?"text-right":"text-left",u=`
    w-full p-3 border border-border rounded-lg 
    bg-background-white dark:bg-background-secondary 
    text-text dark:text-text outline-none 
    focus:border-primary focus:shadow-sm focus:shadow-primary/50 
    transition-colors font-vazir
    ${p?"cursor-not-allowed opacity-50":""}
    ${s}
  `;return E.jsx("select",{name:e,value:t,onChange:r,disabled:p,className:`${u} ${b}`,...w,children:a.map(d=>E.jsx("option",{value:d.value,children:d.label},d.value))})},dr=({active:e,onClick:t,icon:r,label:a,disabled:p=!1,className:b="",showStatus:w=!0})=>{const{t:h,i18n:s}=tn(),u=s.language==="fa"?"text-right":"text-left",d=`
    px-6 py-3 rounded-lg font-medium font-vazir transition-colors
    ${e?"bg-primary hover:bg-primary-dark text-white":"bg-background-secondary hover:bg-accent text-text-muted"}
    ${p?"opacity-50 cursor-not-allowed":""}
    ${b}
  `;return E.jsxs("div",{children:[w&&E.jsx("div",{className:"flex items-center justify-between mb-4",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-primary":"bg-text-muted"}`}),E.jsx("span",{className:`text-sm font-medium ${e?"text-primary dark:text-primary":"text-text-muted dark:text-text-muted"} font-vazir ${u}`,children:h(e?"active":"inactive")})]})}),E.jsx("button",{type:"button",onClick:t,disabled:p,className:d,children:E.jsxs("div",{className:"flex items-center gap-2",children:[r&&E.jsx(r,{className:"w-4 h-4"}),E.jsx("span",{children:a||h(e?"active":"inactive")})]})})]})},qo=({children:e,maxWidth:t="max-w-5xl"})=>E.jsx("div",{className:"min-h-screen bg-background dark:bg-background font-vazir p-6",children:E.jsx("div",{className:`${t} mx-auto`,children:e})}),_w=D.createContext(),MO=({children:e})=>{const[t,r]=D.useState({initialParameters:{power:"",tubeVoltage:"",anodeCurrent:"",anodeCurrentUnit:"mA",filtrationMaterial:"Al",filtrationThickness:"",bitDepth:"8-bit",tubeStatus:!1,tubeVoltageDisplay:"0",tubeCurrentDisplay:"0",exposureTime:"0",cabinCameraStatus:!1,singleCalibration:"",rotateCalibration:"",fastImaging:!1,rotationSpeed:"10",dualEnergy:!1},positionAndOptimization:{manipulatorX:"",manipulatorY:"",manipulatorZ:"",manipulatorTheta:"",manipulatorGamma:"",joystickSpeed:"Medium",uploadedFile:null},postProcessing:{rotationAngle:"None",mirroring:!1,medianFilter:!1,gaussianFilter:!1,gaussianSigma:"1.0",meanFilter:!1,varianceFilter:!1,pseudoColorFilter:!1,fourierFilter:"Low Pass",sharpening:!1,kernelSize:"3x3",sharpeningStrength:"1.0",edgeDetection:!1,threshold:"100",edgeMethod:"Sobel",exportFormat:"TIFF"},projectionAcquisition:{imagingMode:"180°",multiSegmentSize:"",hdrStatus:!1,energyLevel1:"80",energyLevel2:"120",imageCount:"2"},reconstruction:{algorithm:"FBP",iterationCount:"10",filterType:"Ram-Lak",pixelSize:"0.1",reconstructionMode:"2D",outputFormat:"DICOM"}}),a=D.useCallback((b,w)=>{r(h=>({...h,[b]:w}))},[]),p=D.useCallback(()=>{const b={};return Object.entries(t).forEach(([w,h])=>{if(h&&Object.keys(h).length>0){const s={};Object.entries(h).forEach(([u,d])=>{(d!=null&&d!==""||typeof d=="boolean"||typeof d=="string"&&["mA","Al","8-bit","Medium","None","Low Pass","3x3","Sobel","TIFF","180°","FBP","Ram-Lak","2D","DICOM"].includes(d))&&(s[u]=d)}),Object.keys(s).length>0&&(b[w]=s)}}),b},[t]);return E.jsx(_w.Provider,{value:{formData:t,updateFormData:a,getAllFormData:p},children:e})},Tw=()=>D.useContext(_w),mu=(e,t)=>{const{formData:r,updateFormData:a}=Tw(),{i18n:p}=tn(),b=D.useMemo(()=>{const d=r[e]||{};return{...t,...d}},[t,r,e]),w=D.useCallback(d=>{const{name:o,value:c,type:f,checked:g}=d.target;a(e,{...b,[o]:f==="checkbox"?g:c})},[b,a,e]),h=p.language==="fa";return{pageData:b,handleChange:w,updateFormData:d=>a(e,d),isRtl:h,flexDir:h?"flex-row-reverse":"flex-row",textAlign:h?"text-right":"text-left"}},DO=()=>{const{t:e}=tn(),{isConnected:t}=Wo(),r=D.useMemo(()=>({power:"",tubeVoltage:"",anodeCurrent:"",anodeCurrentUnit:"mA",filtrationMaterial:"Al",filtrationThickness:"",bitDepth:"8-bit",tubeStatus:!1,tubeVoltageDisplay:"0",tubeCurrentDisplay:"0",exposureTime:"0",cabinCameraStatus:!1,singleCalibration:"",rotateCalibration:"",fastImaging:!1,rotationSpeed:"10",dualEnergy:!1}),[]),{pageData:a,handleChange:p,updateFormData:b}=mu("initialParameters",r),[w,h]=D.useState(null),s=[{value:"mA",label:"mA"},{value:"μA",label:"μA"}],u=[{value:"Al",label:e("aluminum")},{value:"Cu",label:e("copper")},{value:"Ag",label:e("silver")}],d=[{value:"8-bit",label:e("8bit")},{value:"16-bit",label:e("16bit")}],o=D.useCallback(()=>{const m=!a.tubeStatus;b({...a,tubeStatus:m,tubeVoltageDisplay:m?"100":"0",tubeCurrentDisplay:m?"10":"0"})},[a,b]),c=D.useCallback(()=>{b({...a,cabinCameraStatus:!a.cabinCameraStatus})},[a,b]),f=D.useCallback(()=>{b({...a,fastImaging:!a.fastImaging})},[a,b]),g=D.useCallback(()=>{b({...a,dualEnergy:!a.dualEnergy})},[a,b]),y={standard:()=>{h("standard"),b({...a,power:"50",tubeVoltage:"120",anodeCurrent:"10"})},highPower:()=>{h("highPower"),b({...a,power:"100",tubeVoltage:"150",anodeCurrent:"20"})},clear:()=>{h("clear"),b({...r})}};return E.jsxs(qo,{children:[E.jsx(oa,{icon:So}),E.jsx("div",{className:"card p-4 mb-6",children:E.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries({standard:e("presetStandard"),highPower:e("presetHighPower"),clear:e("clearAll")}).map(([m,x])=>E.jsx("button",{onClick:y[m],className:`px-4 py-2 variant-primary rounded-lg border border-border hover:variant-primary text-sm font-medium font-vazir ${w===m?"button-active no-transition":""}`,children:x},m))})}),E.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[E.jsx(ht,{label:e("power"),icon:AE,value:a.power,unit:"W",children:E.jsx(Qt,{type:"number",name:"power",value:a.power,onChange:p,placeholder:e("enterPower"),min:"0",step:"1"})}),E.jsx(ht,{label:e("tubeVoltage"),icon:So,value:a.tubeVoltage,unit:"kVp",children:E.jsx(Qt,{type:"number",name:"tubeVoltage",value:a.tubeVoltage,onChange:p,placeholder:e("enterTubeVoltage"),min:"0",step:"0.1"})}),E.jsx(ht,{label:e("anodeCurrent"),icon:nE,value:a.anodeCurrent,unit:a.anodeCurrentUnit,children:E.jsxs("div",{className:"flex gap-3",children:[E.jsx(Qt,{type:"number",name:"anodeCurrent",value:a.anodeCurrent,onChange:p,placeholder:e("enterAnodeCurrent"),min:"0",step:"0.1",className:"flex-1"}),E.jsx(ai,{name:"anodeCurrentUnit",value:a.anodeCurrentUnit,onChange:p,options:s,className:"w-20"})]})}),E.jsx(ht,{label:e("filtration"),icon:Ys,children:E.jsxs("div",{className:"flex gap-3",children:[E.jsx(ai,{name:"filtrationMaterial",value:a.filtrationMaterial,onChange:p,options:u,className:"flex-1"}),E.jsx(Qt,{type:"number",name:"filtrationThickness",value:a.filtrationThickness,onChange:p,placeholder:e("enterThickness"),min:"0",step:"0.01",className:"w-28"})]})}),E.jsx(ht,{label:e("exposureTime"),icon:mE,children:E.jsx(Qt,{type:"text",value:a.exposureTime,disabled:!0,className:"bg-background-secondary dark:bg-accent cursor-not-allowed"})}),E.jsx(ht,{label:e("bitDepth"),icon:NE,children:E.jsx(ai,{name:"bitDepth",value:a.bitDepth,onChange:p,options:d})}),E.jsx(ht,{label:e("singleCalibration"),icon:Bi,value:a.singleCalibration,children:E.jsx(Qt,{type:"number",name:"singleCalibration",value:a.singleCalibration,onChange:p,placeholder:e("enterSingleCalibration"),min:"0",step:"0.1"})}),E.jsx(ht,{label:e("rotateCalibration"),icon:Bi,value:a.rotateCalibration,children:E.jsx(Qt,{type:"number",name:"rotateCalibration",value:a.rotateCalibration,onChange:p,placeholder:e("enterRotateCalibration"),min:"0",step:"0.1"})}),E.jsx("div",{className:"card p-6 lg:col-span-2",children:E.jsxs(ht,{label:e("tubeStatus"),icon:L0,showValue:!1,children:[E.jsx(dr,{active:a.tubeStatus,onClick:o,icon:L0,disabled:!t}),E.jsx("div",{className:"flex gap-4 mt-4",children:[{label:e("voltage"),value:a.tubeVoltageDisplay,unit:"kVp"},{label:e("current"),value:a.tubeCurrentDisplay,unit:"mA"}].map(({label:m,value:x,unit:S})=>E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-sm text-text-muted dark:text-text-muted mb-1 font-vazir",children:m}),E.jsxs("div",{className:"panel px-3 py-2 rounded-lg border border-border",children:[E.jsx("span",{className:"text-lg font-mono font-bold text-text dark:text-text",children:x}),E.jsx("span",{className:"text-sm text-text-muted dark:text-text-muted ml-1 font-vazir",children:S})]})]},m))})]})}),E.jsxs(ht,{label:e("fastImaging"),icon:Fc,showValue:!1,children:[E.jsx(dr,{active:a.fastImaging,onClick:f,icon:Fc,disabled:!t}),E.jsxs("div",{className:"mt-4",children:[E.jsx("label",{className:"font-medium text-text dark:text-text font-vazir mb-2 block",children:e("rotationSpeed")}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Qt,{type:"number",name:"rotationSpeed",value:a.rotationSpeed,onChange:p,placeholder:e("enterRotationSpeed"),min:"0",step:"0.1"}),E.jsx("span",{className:"text-sm text-text-muted dark:text-text-muted font-vazir",children:"rpm"})]})]})]}),E.jsx(ht,{label:e("dualEnergy"),icon:So,showValue:!1,children:E.jsx(dr,{active:a.dualEnergy,onClick:g,icon:So,disabled:!t})}),E.jsx(ht,{label:e("cabinCameraStatus"),icon:F0,showValue:!1,children:E.jsx(dr,{active:a.cabinCameraStatus,onClick:c,icon:F0,disabled:!t})})]})]})},jO=()=>{const{t:e}=tn(),t=D.useMemo(()=>({manipulatorX:"",manipulatorY:"",manipulatorZ:"",manipulatorTheta:"",manipulatorGamma:"",joystickSpeed:"Medium",uploadedFile:null}),[]),{pageData:r,handleChange:a,updateFormData:p}=mu("positionAndOptimization",t),b=[{value:"Low",label:e("joystickSpeedLow")},{value:"Medium",label:e("joystickSpeedMedium")},{value:"High",label:e("joystickSpeedHigh")}],w=D.useMemo(()=>[{name:"manipulatorX",label:e("manipulatorX"),placeholder:e("enterManipulatorX")},{name:"manipulatorY",label:e("manipulatorY"),placeholder:e("enterManipulatorY")},{name:"manipulatorZ",label:e("manipulatorZ"),placeholder:e("enterManipulatorZ")},{name:"manipulatorTheta",label:e("manipulatorTheta"),placeholder:e("enterManipulatorTheta")},{name:"manipulatorGamma",label:e("manipulatorGamma"),placeholder:e("enterManipulatorGamma")}],[e]),h=D.useCallback(s=>{const u=s.target.files[0];p({...r,uploadedFile:u?u.name:null})},[r,p]);return E.jsxs(qo,{children:[E.jsx(oa,{icon:jd}),E.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[E.jsx("div",{className:"card p-6 lg:col-span-2",children:E.jsx(ht,{label:e("manipulator"),icon:jd,showValue:!1,children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:w.map(s=>E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-text dark:text-text mb-2 font-vazir block",children:s.label}),E.jsx(Qt,{type:"number",name:s.name,value:r[s.name],onChange:a,placeholder:s.placeholder,step:"0.1"})]},s.name))})})}),E.jsx(ht,{label:e("joystickSpeed"),icon:cO,children:E.jsx(ai,{name:"joystickSpeed",value:r.joystickSpeed,onChange:a,options:b})}),E.jsxs(ht,{label:e("uploadFile"),icon:Cw,children:[E.jsx("input",{type:"file",name:"uploadedFile",onChange:h,className:"w-full p-3 border border-border rounded-lg bg-background-white dark:bg-background-secondary text-text dark:text-text outline-none focus:border-primary focus:shadow-sm focus:shadow-primary/50 transition-colors font-vazir"}),r.uploadedFile&&E.jsx("div",{className:"mt-2",children:E.jsxs("span",{className:"text-sm text-primary dark:text-primary font-medium font-vazir",children:[e("selectedFile"),": ",r.uploadedFile]})})]})]})]})},ko=({children:e,onClick:t,variant:r="primary",size:a="md",disabled:p=!1,loading:b=!1,icon:w,className:h="",...s})=>{const{i18n:u}=tn(),d=u.language==="fa",o="font-vazir transition-all duration-200 rounded-lg font-medium",c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},f={primary:"bg-primary hover:bg-primary-dark text-white",secondary:"bg-background-secondary hover:bg-accent text-text-muted",success:"bg-green-500 hover:bg-green-600 text-white",danger:"bg-red-500 hover:bg-red-600 text-white"},g=`
    ${o}
    ${c[a]}
    ${f[r]}
    ${p?"opacity-50 cursor-not-allowed":""}
    ${h}
  `;return E.jsx("button",{onClick:t,disabled:p||b,className:g,...s,children:E.jsxs("div",{className:`flex items-center gap-2 ${d?"flex-row-reverse":""}`,children:[b?E.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):w&&E.jsx(w,{className:"w-4 h-4"}),e]})})},RO=()=>{const{t:e}=tn(),{isConnected:t,send:r}=Wo(),a=D.useMemo(()=>({imagingMode:"180°",multiSegmentSize:"",hdrStatus:!1,energyLevel1:"80",energyLevel2:"120",imageCount:"2"}),[]),{pageData:p,handleChange:b,updateFormData:w}=mu("projectionAcquisition",a),h=[{value:"180°",label:e("180degree")},{value:"360°",label:e("360degree")}],s=D.useCallback(()=>{w({...p,hdrStatus:!p.hdrStatus})},[p,w]),u=D.useCallback(o=>{if(t){const c=`Action:${o}`;r(c)?console.log(`✅ Action ${o} sent via WebSocket`):console.error(`❌ Failed to send Action ${o}`)}},[t,r]),d=D.useMemo(()=>[{key:"Gain",label:e("gain"),icon:Bi},{key:"Offset",label:e("offset"),icon:Bi},{key:"Preprocess",label:e("preprocess"),icon:Dc}],[e]);return E.jsxs(qo,{children:[E.jsx(oa,{icon:Fc}),E.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[E.jsx(ht,{label:e("imagingMode"),icon:Fc,children:E.jsx(ai,{name:"imagingMode",value:p.imagingMode,onChange:b,options:h})}),E.jsx(ht,{label:e("multiSegmentSize"),icon:Zh,value:p.multiSegmentSize,unit:"mm",children:E.jsx(Qt,{type:"number",name:"multiSegmentSize",value:p.multiSegmentSize,onChange:b,placeholder:e("enterMultiSegmentSize"),min:"0",step:"0.1"})}),E.jsx("div",{className:"card p-6 lg:col-span-2",children:E.jsx(ht,{label:e("imageAdjustments"),icon:Bi,showValue:!1,children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:d.map(({key:o,label:c,icon:f})=>E.jsx(ko,{variant:"secondary",icon:f,onClick:()=>u(o),disabled:!t,children:c},o))})})}),E.jsx("div",{className:"card p-6 lg:col-span-2",children:E.jsx(ht,{label:e("hdr"),icon:Zh,showValue:!1,children:E.jsxs("div",{className:"space-y-4",children:[E.jsx(dr,{active:p.hdrStatus,onClick:s,icon:Zh,disabled:!t,showStatus:!0}),p.hdrStatus&&E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4 p-4 bg-background-secondary dark:bg-accent rounded-lg",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-text dark:text-text mb-2 font-vazir block",children:e("energyLevel1")}),E.jsx(Qt,{type:"number",name:"energyLevel1",value:p.energyLevel1,onChange:b,placeholder:e("enterEnergyLevel1"),min:"0",step:"1"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-text dark:text-text mb-2 font-vazir block",children:e("energyLevel2")}),E.jsx(Qt,{type:"number",name:"energyLevel2",value:p.energyLevel2,onChange:b,placeholder:e("enterEnergyLevel2"),min:"0",step:"1"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-text dark:text-text mb-2 font-vazir block",children:e("imageCount")}),E.jsx(Qt,{type:"number",name:"imageCount",value:p.imageCount,onChange:b,placeholder:e("enterImageCount"),min:"1",step:"1"})]})]})]})})})]})]})},PO=()=>{const{t:e,i18n:t}=tn(),{isConnected:r,send:a}=Wo(),p=D.useMemo(()=>({rotationAngle:"None",mirroring:!1,medianFilter:!1,gaussianFilter:!1,gaussianSigma:"1.0",meanFilter:!1,varianceFilter:!1,pseudoColorFilter:!1,fourierFilter:"Low Pass",sharpening:!1,kernelSize:"3x3",sharpeningStrength:"1.0",edgeDetection:!1,threshold:"100",edgeMethod:"Sobel",exportFormat:"TIFF"}),[]),{pageData:b,handleChange:w,updateFormData:h}=mu("postProcessing",p),s=D.useMemo(()=>({rotation:[{value:"None",label:e("none")},{value:"90°",label:e("90degree")},{value:"180°",label:e("180degree")},{value:"270°",label:e("270degree")}],fourierFilter:[{value:"Low Pass",label:e("lowPass")},{value:"Band Pass",label:e("bandPass")},{value:"High Pass",label:e("highPass")}],kernelSize:[{value:"3x3",label:"3x3"},{value:"5x5",label:"5x5"},{value:"7x7",label:"7x7"}],edgeMethod:[{value:"Sobel",label:e("sobel")},{value:"Canny",label:e("canny")},{value:"Prewitt",label:e("prewitt")}],exportFormat:[{value:"TIFF",label:e("tiff")},{value:"JPG",label:e("jpg")},{value:"DICOM",label:e("dicom")}]}),[e]),u=D.useMemo(()=>[{name:"medianFilter",label:e("medianFilter")},{name:"meanFilter",label:e("meanFilter")},{name:"varianceFilter",label:e("varianceFilter")},{name:"pseudoColorFilter",label:e("pseudoColorFilter")}],[e]),d=D.useMemo(()=>[{key:"Normalize",label:e("normalize"),icon:Dc},{key:"FFT",label:e("fft"),icon:Ys},{key:"FFTInverse",label:e("fftInverse"),icon:Ys}],[e]),o={mirroring:D.useCallback(()=>{h({...b,mirroring:!b.mirroring})},[b,h]),sharpening:D.useCallback(()=>{h({...b,sharpening:!b.sharpening})},[b,h]),edgeDetection:D.useCallback(()=>{h({...b,edgeDetection:!b.edgeDetection})},[b,h])},c=D.useCallback((y,m=null)=>{if(r){const x=m?`Action:${y}:${m}`:`Action:${y}`;a(x)?console.log(`✅ Action ${y} sent via WebSocket`):console.error(`❌ Failed to send Action ${y}`)}},[r,a]),g=t.language==="fa"?"text-right":"text-left";return E.jsxs(qo,{children:[E.jsx(oa,{icon:Dc}),E.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[E.jsx(ht,{label:e("imageTransform"),icon:du,children:E.jsxs("div",{className:"space-y-4",children:[E.jsx(ai,{name:"rotationAngle",value:b.rotationAngle,onChange:w,options:s.rotation}),E.jsx(dr,{active:b.mirroring,onClick:o.mirroring,icon:_E,disabled:!r})]})}),E.jsx(ht,{label:e("basicOperations"),icon:Dc,showValue:!1,children:E.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.map(({key:y,label:m,icon:x})=>E.jsx(ko,{variant:"secondary",icon:x,onClick:()=>c(y),disabled:!r,children:m},y))})}),E.jsx(ht,{label:e("fourierFilter"),icon:Ys,children:E.jsxs("div",{className:"space-y-4",children:[E.jsx(ai,{name:"fourierFilter",value:b.fourierFilter,onChange:w,options:s.fourierFilter}),E.jsx(ko,{variant:"secondary",icon:Ys,onClick:()=>c("FourierFilter",b.fourierFilter),disabled:!r,children:e("applyFourierFilter")})]})}),E.jsx(ht,{label:e("exportImage"),icon:Vc,children:E.jsxs("div",{className:"space-y-4",children:[E.jsx(ai,{name:"exportFormat",value:b.exportFormat,onChange:w,options:s.exportFormat}),E.jsx(ko,{variant:"primary",icon:Vc,onClick:()=>c("Export",b.exportFormat),disabled:!r,children:e("export")})]})}),E.jsx("div",{className:"card p-6 lg:col-span-2",children:E.jsx(ht,{label:e("imageFilters"),icon:Ys,showValue:!1,children:E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.map(y=>E.jsxs("label",{className:`flex items-center gap-2 font-vazir text-text ${g} cursor-pointer hover:text-primary transition-colors`,children:[E.jsx("input",{type:"checkbox",name:y.name,checked:b[y.name]||!1,onChange:w,className:"w-4 h-4 text-primary border-border rounded focus:ring-primary"}),y.label]},y.name)),E.jsxs("div",{className:"sm:col-span-2",children:[E.jsxs("label",{className:`flex items-center gap-2 font-vazir text-text ${g} cursor-pointer`,children:[E.jsx("input",{type:"checkbox",name:"gaussianFilter",checked:b.gaussianFilter||!1,onChange:w,className:"w-4 h-4 text-primary border-border rounded focus:ring-primary"}),e("gaussianFilter")]}),b.gaussianFilter&&E.jsx("div",{className:"mt-2 ml-6",children:E.jsx(Qt,{type:"number",name:"gaussianSigma",value:b.gaussianSigma,onChange:w,placeholder:e("enterGaussianSigma"),min:"0",step:"0.1"})})]})]})})}),E.jsx(ht,{label:e("sharpening"),icon:Zs,showValue:!1,children:E.jsxs("div",{className:"space-y-4",children:[E.jsx(dr,{active:b.sharpening,onClick:o.sharpening,icon:Zs,disabled:!r,showStatus:!0}),b.sharpening&&E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 bg-background-secondary dark:bg-accent rounded-lg",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-text dark:text-text mb-2 font-vazir block",children:e("kernelSize")}),E.jsx(ai,{name:"kernelSize",value:b.kernelSize,onChange:w,options:s.kernelSize})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-text dark:text-text mb-2 font-vazir block",children:e("sharpeningStrength")}),E.jsx(Qt,{type:"number",name:"sharpeningStrength",value:b.sharpeningStrength,onChange:w,placeholder:e("enterSharpeningStrength"),min:"0",step:"0.1"})]})]})]})}),E.jsx(ht,{label:e("edgeDetection"),icon:N0,showValue:!1,children:E.jsxs("div",{className:"space-y-4",children:[E.jsx(dr,{active:b.edgeDetection,onClick:o.edgeDetection,icon:N0,disabled:!r,showStatus:!0}),b.edgeDetection&&E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 bg-background-secondary dark:bg-accent rounded-lg",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-text dark:text-text mb-2 font-vazir block",children:e("threshold")}),E.jsx(Qt,{type:"number",name:"threshold",value:b.threshold,onChange:w,placeholder:e("enterThreshold"),min:"0",step:"1"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-text dark:text-text mb-2 font-vazir block",children:e("edgeMethod")}),E.jsx(ai,{name:"edgeMethod",value:b.edgeMethod,onChange:w,options:s.edgeMethod})]})]})]})})]})]})};function LO(){return E.jsxs(E.Fragment,{children:[E.jsx(oa,{icon:So}),E.jsx(ko,{variant:"secondary"})]})}const _g="-",NO=e=>{const t=FO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:w=>{const h=w.split(_g);return h[0]===""&&h.length!==1&&h.shift(),kw(h,t)||BO(w)},getConflictingClassGroupIds:(w,h)=>{const s=r[w]||[];return h&&a[w]?[...s,...a[w]]:s}}},kw=(e,t)=>{var w;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),p=a?kw(e.slice(1),a):void 0;if(p)return p;if(t.validators.length===0)return;const b=e.join(_g);return(w=t.validators.find(({validator:h})=>h(b)))==null?void 0:w.classGroupId},z0=/^\[(.+)\]$/,BO=e=>{if(z0.test(e)){const t=z0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FO=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const p in r)Pd(r[p],a,p,t);return a},Pd=(e,t,r,a)=>{e.forEach(p=>{if(typeof p=="string"){const b=p===""?t:V0(t,p);b.classGroupId=r;return}if(typeof p=="function"){if(zO(p)){Pd(p(a),t,r,a);return}t.validators.push({validator:p,classGroupId:r});return}Object.entries(p).forEach(([b,w])=>{Pd(w,V0(t,b),r,a)})})},V0=(e,t)=>{let r=e;return t.split(_g).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},zO=e=>e.isThemeGetter,VO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const p=(b,w)=>{r.set(b,w),t++,t>e&&(t=0,a=r,r=new Map)};return{get(b){let w=r.get(b);if(w!==void 0)return w;if((w=a.get(b))!==void 0)return p(b,w),w},set(b,w){r.has(b)?r.set(b,w):p(b,w)}}},Ld="!",Nd=":",UO=Nd.length,HO=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=p=>{const b=[];let w=0,h=0,s=0,u;for(let g=0;g<p.length;g++){let y=p[g];if(w===0&&h===0){if(y===Nd){b.push(p.slice(s,g)),s=g+UO;continue}if(y==="/"){u=g;continue}}y==="["?w++:y==="]"?w--:y==="("?h++:y===")"&&h--}const d=b.length===0?p:p.substring(s),o=IO(d),c=o!==d,f=u&&u>s?u-s:void 0;return{modifiers:b,hasImportantModifier:c,baseClassName:o,maybePostfixModifierPosition:f}};if(t){const p=t+Nd,b=a;a=w=>w.startsWith(p)?b(w.substring(p.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:w,maybePostfixModifierPosition:void 0}}if(r){const p=a;a=b=>r({className:b,parseClassName:p})}return a},IO=e=>e.endsWith(Ld)?e.substring(0,e.length-1):e.startsWith(Ld)?e.substring(1):e,YO=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const p=[];let b=[];return a.forEach(w=>{w[0]==="["||t[w]?(p.push(...b.sort(),w),b=[]):b.push(w)}),p.push(...b.sort()),p}},XO=e=>({cache:VO(e.cacheSize),parseClassName:HO(e),sortModifiers:YO(e),...NO(e)}),$O=/\s+/,GO=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:p,sortModifiers:b}=t,w=[],h=e.trim().split($O);let s="";for(let u=h.length-1;u>=0;u-=1){const d=h[u],{isExternal:o,modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}=r(d);if(o){s=d+(s.length>0?" "+s:s);continue}let m=!!y,x=a(m?g.substring(0,y):g);if(!x){if(!m){s=d+(s.length>0?" "+s:s);continue}if(x=a(g),!x){s=d+(s.length>0?" "+s:s);continue}m=!1}const S=b(c).join(":"),_=f?S+Ld:S,k=_+x;if(w.includes(k))continue;w.push(k);const O=p(x,m);for(let j=0;j<O.length;++j){const F=O[j];w.push(_+F)}s=d+(s.length>0?" "+s:s)}return s};function WO(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ew(t))&&(a&&(a+=" "),a+=r);return a}const Ew=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=Ew(e[a]))&&(r&&(r+=" "),r+=t);return r};function qO(e,...t){let r,a,p,b=w;function w(s){const u=t.reduce((d,o)=>o(d),e());return r=XO(u),a=r.cache.get,p=r.cache.set,b=h,h(s)}function h(s){const u=a(s);if(u)return u;const d=GO(s,r);return p(s,d),d}return function(){return b(WO.apply(null,arguments))}}const Pt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ow=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Aw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,KO=/^\d+\/\d+$/,ZO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zs=e=>KO.test(e),We=e=>!!e&&!Number.isNaN(Number(e)),fr=e=>!!e&&Number.isInteger(Number(e)),Jh=e=>e.endsWith("%")&&We(e.slice(0,-1)),Di=e=>ZO.test(e),nA=()=>!0,iA=e=>QO.test(e)&&!JO.test(e),Mw=()=>!1,rA=e=>eA.test(e),sA=e=>tA.test(e),aA=e=>!Re(e)&&!Pe(e),oA=e=>la(e,Rw,Mw),Re=e=>Ow.test(e),zr=e=>la(e,Pw,iA),ed=e=>la(e,hA,We),U0=e=>la(e,Dw,Mw),lA=e=>la(e,jw,sA),bc=e=>la(e,Lw,rA),Pe=e=>Aw.test(e),vo=e=>ca(e,Pw),cA=e=>ca(e,dA),H0=e=>ca(e,Dw),uA=e=>ca(e,Rw),fA=e=>ca(e,jw),xc=e=>ca(e,Lw,!0),la=(e,t,r)=>{const a=Ow.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},ca=(e,t,r=!1)=>{const a=Aw.exec(e);return a?a[1]?t(a[1]):r:!1},Dw=e=>e==="position"||e==="percentage",jw=e=>e==="image"||e==="url",Rw=e=>e==="length"||e==="size"||e==="bg-size",Pw=e=>e==="length",hA=e=>e==="number",dA=e=>e==="family-name",Lw=e=>e==="shadow",gA=()=>{const e=Pt("color"),t=Pt("font"),r=Pt("text"),a=Pt("font-weight"),p=Pt("tracking"),b=Pt("leading"),w=Pt("breakpoint"),h=Pt("container"),s=Pt("spacing"),u=Pt("radius"),d=Pt("shadow"),o=Pt("inset-shadow"),c=Pt("text-shadow"),f=Pt("drop-shadow"),g=Pt("blur"),y=Pt("perspective"),m=Pt("aspect"),x=Pt("ease"),S=Pt("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...k(),Pe,Re],j=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],z=()=>[Pe,Re,s],U=()=>[zs,"full","auto",...z()],G=()=>[fr,"none","subgrid",Pe,Re],ie=()=>["auto",{span:["full",fr,Pe,Re]},fr,Pe,Re],se=()=>[fr,"auto",Pe,Re],ue=()=>["auto","min","max","fr",Pe,Re],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...z()],W=()=>[zs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],Y=()=>[e,Pe,Re],P=()=>[...k(),H0,U0,{position:[Pe,Re]}],A=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",uA,oA,{size:[Pe,Re]}],B=()=>[Jh,vo,zr],H=()=>["","none","full",u,Pe,Re],N=()=>["",We,vo,zr],L=()=>["solid","dashed","dotted","double"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>[We,Jh,H0,U0],te=()=>["","none",g,Pe,Re],ne=()=>["none",We,Pe,Re],me=()=>["none",We,Pe,Re],xe=()=>[We,Pe,Re],Ee=()=>[zs,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Di],breakpoint:[Di],color:[nA],container:[Di],"drop-shadow":[Di],ease:["in","out","in-out"],font:[aA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Di],shadow:[Di],spacing:["px",We],text:[Di],"text-shadow":[Di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zs,Re,Pe,m]}],container:["container"],columns:[{columns:[We,Re,Pe,h]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[fr,"auto",Pe,Re]}],basis:[{basis:[zs,"full","auto",h,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,zs,"auto","initial","none",Re]}],grow:[{grow:["",We,Pe,Re]}],shrink:[{shrink:["",We,Pe,Re]}],order:[{order:[fr,"first","last","none",Pe,Re]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ue()}],"auto-rows":[{"auto-rows":ue()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[h,"screen",...W()]}],"min-w":[{"min-w":[h,"screen","none",...W()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[w]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",r,vo,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Pe,ed]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jh,Re]}],"font-family":[{font:[cA,Re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[p,Pe,Re]}],"line-clamp":[{"line-clamp":[We,"none",Pe,ed]}],leading:[{leading:[b,...z()]}],"list-image":[{"list-image":["none",Pe,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Pe,zr]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[We,"auto",Pe,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:A()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fr,Pe,Re],radial:["",Pe,Re],conic:[fr,Pe,Re]},fA,lA]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:N()}],"border-w-x":[{"border-x":N()}],"border-w-y":[{"border-y":N()}],"border-w-s":[{"border-s":N()}],"border-w-e":[{"border-e":N()}],"border-w-t":[{"border-t":N()}],"border-w-r":[{"border-r":N()}],"border-w-b":[{"border-b":N()}],"border-w-l":[{"border-l":N()}],"divide-x":[{"divide-x":N()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":N()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...L(),"hidden","none"]}],"divide-style":[{divide:[...L(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...L(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Pe,Re]}],"outline-w":[{outline:["",We,vo,zr]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",d,xc,bc]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",o,xc,bc]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[We,zr]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":N()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",c,xc,bc]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[We,Pe,Re]}],"mix-blend":[{"mix-blend":[...I(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":I()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":Z()}],"mask-image-linear-to-pos":[{"mask-linear-to":Z()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":Z()}],"mask-image-t-to-pos":[{"mask-t-to":Z()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":Z()}],"mask-image-r-to-pos":[{"mask-r-to":Z()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":Z()}],"mask-image-b-to-pos":[{"mask-b-to":Z()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":Z()}],"mask-image-l-to-pos":[{"mask-l-to":Z()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":Z()}],"mask-image-x-to-pos":[{"mask-x-to":Z()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":Z()}],"mask-image-y-to-pos":[{"mask-y-to":Z()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Pe,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":Z()}],"mask-image-radial-to-pos":[{"mask-radial-to":Z()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":Z()}],"mask-image-conic-to-pos":[{"mask-conic-to":Z()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:A()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,Re]}],filter:[{filter:["","none",Pe,Re]}],blur:[{blur:te()}],brightness:[{brightness:[We,Pe,Re]}],contrast:[{contrast:[We,Pe,Re]}],"drop-shadow":[{"drop-shadow":["","none",f,xc,bc]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",We,Pe,Re]}],"hue-rotate":[{"hue-rotate":[We,Pe,Re]}],invert:[{invert:["",We,Pe,Re]}],saturate:[{saturate:[We,Pe,Re]}],sepia:[{sepia:["",We,Pe,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,Re]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[We,Pe,Re]}],"backdrop-contrast":[{"backdrop-contrast":[We,Pe,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Pe,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Pe,Re]}],"backdrop-invert":[{"backdrop-invert":["",We,Pe,Re]}],"backdrop-opacity":[{"backdrop-opacity":[We,Pe,Re]}],"backdrop-saturate":[{"backdrop-saturate":[We,Pe,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Pe,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Pe,Re]}],ease:[{ease:["linear","initial",x,Pe,Re]}],delay:[{delay:[We,Pe,Re]}],animate:[{animate:["none",S,Pe,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Pe,Re]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[Pe,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,Re]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[We,vo,zr,ed]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ta=qO(gA);/*!
* sweetalert2 v11.22.0
* Released under the MIT License.
*/function Nw(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function mA(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I0(e,t){return e.get(Nw(e,t))}function pA(e,t,r){mA(e,t),t.set(e,r)}function vA(e,t,r){return e.set(Nw(e,t),r),r}const yA=100,Fe={},bA=()=>{Fe.previousActiveElement instanceof HTMLElement?(Fe.previousActiveElement.focus(),Fe.previousActiveElement=null):document.body&&document.body.focus()},xA=e=>new Promise(t=>{if(!e)return t();const r=window.scrollX,a=window.scrollY;Fe.restoreFocusTimeout=setTimeout(()=>{bA(),t()},yA),window.scrollTo(r,a)}),Bw="swal2-",wA=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],pe=wA.reduce((e,t)=>(e[t]=Bw+t,e),{}),SA=["success","warning","info","question","error"],Hc=SA.reduce((e,t)=>(e[t]=Bw+t,e),{}),Fw="SweetAlert2:",Tg=e=>e.charAt(0).toUpperCase()+e.slice(1),ln=e=>{console.warn(`${Fw} ${typeof e=="object"?e.join(" "):e}`)},Qr=e=>{console.error(`${Fw} ${e}`)},Y0=[],CA=e=>{Y0.includes(e)||(Y0.push(e),ln(e))},zw=(e,t=null)=>{CA(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},pu=e=>typeof e=="function"?e():e,kg=e=>e&&typeof e.toPromise=="function",Ko=e=>kg(e)?e.toPromise():Promise.resolve(e),Eg=e=>e&&Promise.resolve(e)===e,cn=()=>document.body.querySelector(`.${pe.container}`),Zo=e=>{const t=cn();return t?t.querySelector(e):null},An=e=>Zo(`.${e}`),et=()=>An(pe.popup),ua=()=>An(pe.icon),_A=()=>An(pe["icon-content"]),Vw=()=>An(pe.title),Og=()=>An(pe["html-container"]),Uw=()=>An(pe.image),Ag=()=>An(pe["progress-steps"]),vu=()=>An(pe["validation-message"]),hi=()=>Zo(`.${pe.actions} .${pe.confirm}`),fa=()=>Zo(`.${pe.actions} .${pe.cancel}`),Jr=()=>Zo(`.${pe.actions} .${pe.deny}`),TA=()=>An(pe["input-label"]),ha=()=>Zo(`.${pe.loader}`),Qo=()=>An(pe.actions),Hw=()=>An(pe.footer),yu=()=>An(pe["timer-progress-bar"]),Mg=()=>An(pe.close),kA=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Dg=()=>{const e=et();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(t).sort((b,w)=>{const h=parseInt(b.getAttribute("tabindex")||"0"),s=parseInt(w.getAttribute("tabindex")||"0");return h>s?1:h<s?-1:0}),a=e.querySelectorAll(kA),p=Array.from(a).filter(b=>b.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(p))].filter(b=>bn(b))},jg=()=>Fi(document.body,pe.shown)&&!Fi(document.body,pe["toast-shown"])&&!Fi(document.body,pe["no-backdrop"]),bu=()=>{const e=et();return e?Fi(e,pe.toast):!1},EA=()=>{const e=et();return e?e.hasAttribute("data-loading"):!1},Mn=(e,t)=>{if(e.textContent="",t){const a=new DOMParser().parseFromString(t,"text/html"),p=a.querySelector("head");p&&Array.from(p.childNodes).forEach(w=>{e.appendChild(w)});const b=a.querySelector("body");b&&Array.from(b.childNodes).forEach(w=>{w instanceof HTMLVideoElement||w instanceof HTMLAudioElement?e.appendChild(w.cloneNode(!0)):e.appendChild(w)})}},Fi=(e,t)=>{if(!t)return!1;const r=t.split(/\s+/);for(let a=0;a<r.length;a++)if(!e.classList.contains(r[a]))return!1;return!0},OA=(e,t)=>{Array.from(e.classList).forEach(r=>{!Object.values(pe).includes(r)&&!Object.values(Hc).includes(r)&&!Object.values(t.showClass||{}).includes(r)&&e.classList.remove(r)})},On=(e,t,r)=>{if(OA(e,t),!t.customClass)return;const a=t.customClass[r];if(a){if(typeof a!="string"&&!a.forEach){ln(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof a}"`);return}nt(e,a)}},xu=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${pe.popup} > .${pe[t]}`);case"checkbox":return e.querySelector(`.${pe.popup} > .${pe.checkbox} input`);case"radio":return e.querySelector(`.${pe.popup} > .${pe.radio} input:checked`)||e.querySelector(`.${pe.popup} > .${pe.radio} input:first-child`);case"range":return e.querySelector(`.${pe.popup} > .${pe.range} input`);default:return e.querySelector(`.${pe.popup} > .${pe.input}`)}},Iw=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},Yw=(e,t,r)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(a=>{Array.isArray(e)?e.forEach(p=>{r?p.classList.add(a):p.classList.remove(a)}):r?e.classList.add(a):e.classList.remove(a)}))},nt=(e,t)=>{Yw(e,t,!0)},In=(e,t)=>{Yw(e,t,!1)},gr=(e,t)=>{const r=Array.from(e.children);for(let a=0;a<r.length;a++){const p=r[a];if(p instanceof HTMLElement&&Fi(p,t))return p}},Gr=(e,t,r)=>{r===`${parseInt(r)}`&&(r=parseInt(r)),r||parseInt(r)===0?e.style.setProperty(t,typeof r=="number"?`${r}px`:r):e.style.removeProperty(t)},Ht=(e,t="flex")=>{e&&(e.style.display=t)},en=e=>{e&&(e.style.display="none")},Rg=(e,t="block")=>{e&&new MutationObserver(()=>{Jo(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},X0=(e,t,r,a)=>{const p=e.querySelector(t);p&&p.style.setProperty(r,a)},Jo=(e,t,r="flex")=>{t?Ht(e,r):en(e)},bn=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),AA=()=>!bn(hi())&&!bn(Jr())&&!bn(fa()),Bd=e=>e.scrollHeight>e.clientHeight,MA=(e,t)=>{let r=e;for(;r&&r!==t;){if(Bd(r))return!0;r=r.parentElement}return!1},Xw=e=>{const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),a=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||a>0},Pg=(e,t=!1)=>{const r=yu();r&&bn(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},DA=()=>{const e=yu();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const r=parseInt(window.getComputedStyle(e).width),a=t/r*100;e.style.width=`${a}%`},jA=()=>typeof window>"u"||typeof document>"u",RA=`
 <div aria-labelledby="${pe.title}" aria-describedby="${pe["html-container"]}" class="${pe.popup}" tabindex="-1">
   <button type="button" class="${pe.close}"></button>
   <ul class="${pe["progress-steps"]}"></ul>
   <div class="${pe.icon}"></div>
   <img class="${pe.image}" />
   <h2 class="${pe.title}" id="${pe.title}"></h2>
   <div class="${pe["html-container"]}" id="${pe["html-container"]}"></div>
   <input class="${pe.input}" id="${pe.input}" />
   <input type="file" class="${pe.file}" />
   <div class="${pe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${pe.select}" id="${pe.select}"></select>
   <div class="${pe.radio}"></div>
   <label class="${pe.checkbox}">
     <input type="checkbox" id="${pe.checkbox}" />
     <span class="${pe.label}"></span>
   </label>
   <textarea class="${pe.textarea}" id="${pe.textarea}"></textarea>
   <div class="${pe["validation-message"]}" id="${pe["validation-message"]}"></div>
   <div class="${pe.actions}">
     <div class="${pe.loader}"></div>
     <button type="button" class="${pe.confirm}"></button>
     <button type="button" class="${pe.deny}"></button>
     <button type="button" class="${pe.cancel}"></button>
   </div>
   <div class="${pe.footer}"></div>
   <div class="${pe["timer-progress-bar-container"]}">
     <div class="${pe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),PA=()=>{const e=cn();return e?(e.remove(),In([document.documentElement,document.body],[pe["no-backdrop"],pe["toast-shown"],pe["has-column"]]),!0):!1},Vr=()=>{Fe.currentInstance.resetValidationMessage()},LA=()=>{const e=et(),t=gr(e,pe.input),r=gr(e,pe.file),a=e.querySelector(`.${pe.range} input`),p=e.querySelector(`.${pe.range} output`),b=gr(e,pe.select),w=e.querySelector(`.${pe.checkbox} input`),h=gr(e,pe.textarea);t.oninput=Vr,r.onchange=Vr,b.onchange=Vr,w.onchange=Vr,h.oninput=Vr,a.oninput=()=>{Vr(),p.value=a.value},a.onchange=()=>{Vr(),p.value=a.value}},NA=e=>typeof e=="string"?document.querySelector(e):e,BA=e=>{const t=et();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},FA=e=>{window.getComputedStyle(e).direction==="rtl"&&nt(cn(),pe.rtl)},zA=e=>{const t=PA();if(jA()){Qr("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=pe.container,t&&nt(r,pe["no-transition"]),Mn(r,RA),r.dataset.swal2Theme=e.theme;const a=NA(e.target);a.appendChild(r),e.topLayer&&(r.setAttribute("popover",""),r.showPopover()),BA(e),FA(a),LA()},Lg=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?VA(e,t):e&&Mn(t,e)},VA=(e,t)=>{e.jquery?UA(t,e):Mn(t,e.toString())},UA=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},HA=(e,t)=>{const r=Qo(),a=ha();!r||!a||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?en(r):Ht(r),On(r,t,"actions"),IA(r,a,t),Mn(a,t.loaderHtml||""),On(a,t,"loader"))};function IA(e,t,r){const a=hi(),p=Jr(),b=fa();!a||!p||!b||(nd(a,"confirm",r),nd(p,"deny",r),nd(b,"cancel",r),YA(a,p,b,r),r.reverseButtons&&(r.toast?(e.insertBefore(b,a),e.insertBefore(p,a)):(e.insertBefore(b,t),e.insertBefore(p,t),e.insertBefore(a,t))))}function YA(e,t,r,a){if(!a.buttonsStyling){In([e,t,r],pe.styled);return}nt([e,t,r],pe.styled),a.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",a.confirmButtonColor),a.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",a.denyButtonColor),a.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",a.cancelButtonColor),td(e),td(t),td(r)}function td(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function nd(e,t,r){const a=Tg(t);Jo(e,r[`show${a}Button`],"inline-block"),Mn(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=pe[t],On(e,r,`${t}Button`)}const XA=(e,t)=>{const r=Mg();r&&(Mn(r,t.closeButtonHtml||""),On(r,t,"closeButton"),Jo(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},$A=(e,t)=>{const r=cn();r&&(GA(r,t.backdrop),WA(r,t.position),qA(r,t.grow),On(r,t,"container"))};function GA(e,t){typeof t=="string"?e.style.background=t:t||nt([document.documentElement,document.body],pe["no-backdrop"])}function WA(e,t){t&&(t in pe?nt(e,pe[t]):(ln('The "position" parameter is not valid, defaulting to "center"'),nt(e,pe.center)))}function qA(e,t){t&&nt(e,pe[`grow-${t}`])}var dt={innerParams:new WeakMap,domCache:new WeakMap};const KA=["input","file","range","select","radio","checkbox","textarea"],ZA=(e,t)=>{const r=et();if(!r)return;const a=dt.innerParams.get(e),p=!a||t.input!==a.input;KA.forEach(b=>{const w=gr(r,pe[b]);w&&(eM(b,t.inputAttributes),w.className=pe[b],p&&en(w))}),t.input&&(p&&QA(t),tM(t))},QA=e=>{if(!e.input)return;if(!_t[e.input]){Qr(`Unexpected type of input! Expected ${Object.keys(_t).join(" | ")}, got "${e.input}"`);return}const t=$w(e.input);if(!t)return;const r=_t[e.input](t,e);Ht(t),e.inputAutoFocus&&setTimeout(()=>{Iw(r)})},JA=e=>{for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},eM=(e,t)=>{const r=et();if(!r)return;const a=xu(r,e);if(a){JA(a);for(const p in t)a.setAttribute(p,t[p])}},tM=e=>{if(!e.input)return;const t=$w(e.input);t&&On(t,e,"input")},Ng=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},el=(e,t,r)=>{if(r.inputLabel){const a=document.createElement("label"),p=pe["input-label"];a.setAttribute("for",e.id),a.className=p,typeof r.customClass=="object"&&nt(a,r.customClass.inputLabel),a.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",a)}},$w=e=>{const t=et();if(t)return gr(t,pe[e]||pe.input)},Ic=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:Eg(t)||ln(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},_t={};_t.text=_t.email=_t.password=_t.number=_t.tel=_t.url=_t.search=_t.date=_t["datetime-local"]=_t.time=_t.week=_t.month=(e,t)=>(Ic(e,t.inputValue),el(e,e,t),Ng(e,t),e.type=t.input,e);_t.file=(e,t)=>(el(e,e,t),Ng(e,t),e);_t.range=(e,t)=>{const r=e.querySelector("input"),a=e.querySelector("output");return Ic(r,t.inputValue),r.type=t.input,Ic(a,t.inputValue),el(r,e,t),e};_t.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const r=document.createElement("option");Mn(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return el(e,e,t),e};_t.radio=e=>(e.textContent="",e);_t.checkbox=(e,t)=>{const r=xu(et(),"checkbox");r.value="1",r.checked=!!t.inputValue;const a=e.querySelector("span");return Mn(a,t.inputPlaceholder||t.inputLabel),r};_t.textarea=(e,t)=>{Ic(e,t.inputValue),Ng(e,t),el(e,e,t);const r=a=>parseInt(window.getComputedStyle(a).marginLeft)+parseInt(window.getComputedStyle(a).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const a=parseInt(window.getComputedStyle(et()).width),p=()=>{if(!document.body.contains(e))return;const b=e.offsetWidth+r(e);b>a?et().style.width=`${b}px`:Gr(et(),"width",t.width)};new MutationObserver(p).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const nM=(e,t)=>{const r=Og();r&&(Rg(r),On(r,t,"htmlContainer"),t.html?(Lg(t.html,r),Ht(r,"block")):t.text?(r.textContent=t.text,Ht(r,"block")):en(r),ZA(e,t))},iM=(e,t)=>{const r=Hw();r&&(Rg(r),Jo(r,t.footer,"block"),t.footer&&Lg(t.footer,r),On(r,t,"footer"))},rM=(e,t)=>{const r=dt.innerParams.get(e),a=ua();if(!a)return;if(r&&t.icon===r.icon){G0(a,t),$0(a,t);return}if(!t.icon&&!t.iconHtml){en(a);return}if(t.icon&&Object.keys(Hc).indexOf(t.icon)===-1){Qr(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),en(a);return}Ht(a),G0(a,t),$0(a,t),nt(a,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Gw)},$0=(e,t)=>{for(const[r,a]of Object.entries(Hc))t.icon!==r&&In(e,a);nt(e,t.icon&&Hc[t.icon]),oM(e,t),Gw(),On(e,t,"icon")},Gw=()=>{const e=et();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let a=0;a<r.length;a++)r[a].style.backgroundColor=t},sM=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,aM=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,G0=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,a="";t.iconHtml?a=W0(t.iconHtml):t.icon==="success"?(a=sM,r=r.replace(/ style=".*?"/g,"")):t.icon==="error"?a=aM:t.icon&&(a=W0({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==a.trim()&&Mn(e,a)},oM=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])X0(e,r,"background-color",t.iconColor);X0(e,".swal2-success-ring","border-color",t.iconColor)}},W0=e=>`<div class="${pe["icon-content"]}">${e}</div>`,lM=(e,t)=>{const r=Uw();if(r){if(!t.imageUrl){en(r);return}Ht(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),Gr(r,"width",t.imageWidth),Gr(r,"height",t.imageHeight),r.className=pe.image,On(r,t,"image")}};let Bg=!1,Ww=0,qw=0,Kw=0,Zw=0;const cM=e=>{e.addEventListener("mousedown",Yc),document.body.addEventListener("mousemove",Xc),e.addEventListener("mouseup",$c),e.addEventListener("touchstart",Yc),document.body.addEventListener("touchmove",Xc),e.addEventListener("touchend",$c)},uM=e=>{e.removeEventListener("mousedown",Yc),document.body.removeEventListener("mousemove",Xc),e.removeEventListener("mouseup",$c),e.removeEventListener("touchstart",Yc),document.body.removeEventListener("touchmove",Xc),e.removeEventListener("touchend",$c)},Yc=e=>{const t=et();if(e.target===t||ua().contains(e.target)){Bg=!0;const r=Qw(e);Ww=r.clientX,qw=r.clientY,Kw=parseInt(t.style.insetInlineStart)||0,Zw=parseInt(t.style.insetBlockStart)||0,nt(t,"swal2-dragging")}},Xc=e=>{const t=et();if(Bg){let{clientX:r,clientY:a}=Qw(e);t.style.insetInlineStart=`${Kw+(r-Ww)}px`,t.style.insetBlockStart=`${Zw+(a-qw)}px`}},$c=()=>{const e=et();Bg=!1,In(e,"swal2-dragging")},Qw=e=>{let t=0,r=0;return e.type.startsWith("mouse")?(t=e.clientX,r=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,r=e.touches[0].clientY),{clientX:t,clientY:r}},fM=(e,t)=>{const r=cn(),a=et();if(!(!r||!a)){if(t.toast){Gr(r,"width",t.width),a.style.width="100%";const p=ha();p&&a.insertBefore(p,ua())}else Gr(a,"width",t.width);Gr(a,"padding",t.padding),t.color&&(a.style.color=t.color),t.background&&(a.style.background=t.background),en(vu()),hM(a,t),t.draggable&&!t.toast?(nt(a,pe.draggable),cM(a)):(In(a,pe.draggable),uM(a))}},hM=(e,t)=>{const r=t.showClass||{};e.className=`${pe.popup} ${bn(e)?r.popup:""}`,t.toast?(nt([document.documentElement,document.body],pe["toast-shown"]),nt(e,pe.toast)):nt(e,pe.modal),On(e,t,"popup"),typeof t.customClass=="string"&&nt(e,t.customClass),t.icon&&nt(e,pe[`icon-${t.icon}`])},dM=(e,t)=>{const r=Ag();if(!r)return;const{progressSteps:a,currentProgressStep:p}=t;if(!a||a.length===0||p===void 0){en(r);return}Ht(r),r.textContent="",p>=a.length&&ln("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((b,w)=>{const h=gM(b);if(r.appendChild(h),w===p&&nt(h,pe["active-progress-step"]),w!==a.length-1){const s=mM(t);r.appendChild(s)}})},gM=e=>{const t=document.createElement("li");return nt(t,pe["progress-step"]),Mn(t,e),t},mM=e=>{const t=document.createElement("li");return nt(t,pe["progress-step-line"]),e.progressStepsDistance&&Gr(t,"width",e.progressStepsDistance),t},pM=(e,t)=>{const r=Vw();r&&(Rg(r),Jo(r,t.title||t.titleText,"block"),t.title&&Lg(t.title,r),t.titleText&&(r.innerText=t.titleText),On(r,t,"title"))},Jw=(e,t)=>{fM(e,t),$A(e,t),dM(e,t),rM(e,t),lM(e,t),pM(e,t),XA(e,t),nM(e,t),HA(e,t),iM(e,t);const r=et();typeof t.didRender=="function"&&r&&t.didRender(r),Fe.eventEmitter.emit("didRender",r)},vM=()=>bn(et()),e1=()=>{var e;return(e=hi())===null||e===void 0?void 0:e.click()},yM=()=>{var e;return(e=Jr())===null||e===void 0?void 0:e.click()},bM=()=>{var e;return(e=fa())===null||e===void 0?void 0:e.click()},da=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),t1=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},xM=(e,t,r)=>{t1(e),t.toast||(e.keydownHandler=a=>SM(t,a,r),e.keydownTarget=t.keydownListenerCapture?window:et(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Fd=(e,t)=>{var r;const a=Dg();if(a.length){e=e+t,e===-2&&(e=a.length-1),e===a.length?e=0:e===-1&&(e=a.length-1),a[e].focus();return}(r=et())===null||r===void 0||r.focus()},n1=["ArrowRight","ArrowDown"],wM=["ArrowLeft","ArrowUp"],SM=(e,t,r)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?CM(t,e):t.key==="Tab"?_M(t):[...n1,...wM].includes(t.key)?TM(t.key):t.key==="Escape"&&kM(t,e,r)))},CM=(e,t)=>{if(!pu(t.allowEnterKey))return;const r=xu(et(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;e1(),e.preventDefault()}},_M=e=>{const t=e.target,r=Dg();let a=-1;for(let p=0;p<r.length;p++)if(t===r[p]){a=p;break}e.shiftKey?Fd(a,-1):Fd(a,1),e.stopPropagation(),e.preventDefault()},TM=e=>{const t=Qo(),r=hi(),a=Jr(),p=fa();if(!t||!r||!a||!p)return;const b=[r,a,p];if(document.activeElement instanceof HTMLElement&&!b.includes(document.activeElement))return;const w=n1.includes(e)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let s=0;s<t.children.length;s++){if(h=h[w],!h)return;if(h instanceof HTMLButtonElement&&bn(h))break}h instanceof HTMLButtonElement&&h.focus()}},kM=(e,t,r)=>{pu(t.allowEscapeKey)&&(e.preventDefault(),r(da.esc))};var na={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const EM=()=>{const e=cn();Array.from(document.body.children).forEach(r=>{r.contains(e)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},i1=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},r1=typeof window<"u"&&!!window.GestureEvent,OM=()=>{if(r1&&!Fi(document.body,pe.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,nt(document.body,pe.iosfix),AM()}},AM=()=>{const e=cn();if(!e)return;let t;e.ontouchstart=r=>{t=MM(r)},e.ontouchmove=r=>{t&&(r.preventDefault(),r.stopPropagation())}},MM=e=>{const t=e.target,r=cn(),a=Og();return!r||!a||DM(e)||jM(e)?!1:t===r||!Bd(r)&&t instanceof HTMLElement&&!MA(t,a)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Bd(a)&&a.contains(t))},DM=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",jM=e=>e.touches&&e.touches.length>1,RM=()=>{if(Fi(document.body,pe.iosfix)){const e=parseInt(document.body.style.top,10);In(document.body,pe.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},PM=()=>{const e=document.createElement("div");e.className=pe["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Qs=null;const LM=e=>{Qs===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Qs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Qs+PM()}px`)},NM=()=>{Qs!==null&&(document.body.style.paddingRight=`${Qs}px`,Qs=null)};function s1(e,t,r,a){bu()?q0(e,a):(xA(r).then(()=>q0(e,a)),t1(Fe)),r1?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),jg()&&(NM(),RM(),i1()),BM()}function BM(){In([document.documentElement,document.body],[pe.shown,pe["height-auto"],pe["no-backdrop"],pe["toast-shown"]])}function mr(e){e=zM(e);const t=na.swalPromiseResolve.get(this),r=FM(this);this.isAwaitingPromise?e.isDismissed||(tl(this),t(e)):r&&t(e)}const FM=e=>{const t=et();if(!t)return!1;const r=dt.innerParams.get(e);if(!r||Fi(t,r.hideClass.popup))return!1;In(t,r.showClass.popup),nt(t,r.hideClass.popup);const a=cn();return In(a,r.showClass.backdrop),nt(a,r.hideClass.backdrop),VM(e,t,r),!0};function a1(e){const t=na.swalPromiseReject.get(this);tl(this),t&&t(e)}const tl=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,dt.innerParams.get(e)||e._destroy())},zM=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),VM=(e,t,r)=>{var a;const p=cn(),b=Xw(t);typeof r.willClose=="function"&&r.willClose(t),(a=Fe.eventEmitter)===null||a===void 0||a.emit("willClose",t),b?UM(e,t,p,r.returnFocus,r.didClose):s1(e,p,r.returnFocus,r.didClose)},UM=(e,t,r,a,p)=>{Fe.swalCloseEventFinishedCallback=s1.bind(null,e,r,a,p);const b=function(w){if(w.target===t){var h;(h=Fe.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Fe),delete Fe.swalCloseEventFinishedCallback,t.removeEventListener("animationend",b),t.removeEventListener("transitionend",b)}};t.addEventListener("animationend",b),t.addEventListener("transitionend",b)},q0=(e,t)=>{setTimeout(()=>{var r;typeof t=="function"&&t.bind(e.params)(),(r=Fe.eventEmitter)===null||r===void 0||r.emit("didClose"),e._destroy&&e._destroy()})},ia=e=>{let t=et();if(t||new Ri,t=et(),!t)return;const r=ha();bu()?en(ua()):HM(t,e),Ht(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},HM=(e,t)=>{const r=Qo(),a=ha();!r||!a||(!t&&bn(hi())&&(t=hi()),Ht(r),t&&(en(t),a.setAttribute("data-button-to-replace",t.className),r.insertBefore(a,t)),nt([e,r],pe.loading))},IM=(e,t)=>{t.input==="select"||t.input==="radio"?WM(e,t):["text","email","number","tel","textarea"].some(r=>r===t.input)&&(kg(t.inputValue)||Eg(t.inputValue))&&(ia(hi()),qM(e,t))},YM=(e,t)=>{const r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return XM(r);case"radio":return $M(r);case"file":return GM(r);default:return t.inputAutoTrim?r.value.trim():r.value}},XM=e=>e.checked?1:0,$M=e=>e.checked?e.value:null,GM=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,WM=(e,t)=>{const r=et();if(!r)return;const a=p=>{t.input==="select"?KM(r,Gc(p),t):t.input==="radio"&&ZM(r,Gc(p),t)};kg(t.inputOptions)||Eg(t.inputOptions)?(ia(hi()),Ko(t.inputOptions).then(p=>{e.hideLoading(),a(p)})):typeof t.inputOptions=="object"?a(t.inputOptions):Qr(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},qM=(e,t)=>{const r=e.getInput();r&&(en(r),Ko(t.inputValue).then(a=>{r.value=t.input==="number"?`${parseFloat(a)||0}`:`${a}`,Ht(r),r.focus(),e.hideLoading()}).catch(a=>{Qr(`Error in inputValue promise: ${a}`),r.value="",Ht(r),r.focus(),e.hideLoading()}))};function KM(e,t,r){const a=gr(e,pe.select);if(!a)return;const p=(b,w,h)=>{const s=document.createElement("option");s.value=h,Mn(s,w),s.selected=o1(h,r.inputValue),b.appendChild(s)};t.forEach(b=>{const w=b[0],h=b[1];if(Array.isArray(h)){const s=document.createElement("optgroup");s.label=w,s.disabled=!1,a.appendChild(s),h.forEach(u=>p(s,u[1],u[0]))}else p(a,h,w)}),a.focus()}function ZM(e,t,r){const a=gr(e,pe.radio);if(!a)return;t.forEach(b=>{const w=b[0],h=b[1],s=document.createElement("input"),u=document.createElement("label");s.type="radio",s.name=pe.radio,s.value=w,o1(w,r.inputValue)&&(s.checked=!0);const d=document.createElement("span");Mn(d,h),d.className=pe.label,u.appendChild(s),u.appendChild(d),a.appendChild(u)});const p=a.querySelectorAll("input");p.length&&p[0].focus()}const Gc=e=>{const t=[];return e instanceof Map?e.forEach((r,a)=>{let p=r;typeof p=="object"&&(p=Gc(p)),t.push([a,p])}):Object.keys(e).forEach(r=>{let a=e[r];typeof a=="object"&&(a=Gc(a)),t.push([r,a])}),t},o1=(e,t)=>!!t&&t.toString()===e.toString(),QM=e=>{const t=dt.innerParams.get(e);e.disableButtons(),t.input?l1(e,"confirm"):zg(e,!0)},JM=e=>{const t=dt.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?l1(e,"deny"):Fg(e,!1)},eD=(e,t)=>{e.disableButtons(),t(da.cancel)},l1=(e,t)=>{const r=dt.innerParams.get(e);if(!r.input){Qr(`The "input" parameter is needed to be set when using returnInputValueOn${Tg(t)}`);return}const a=e.getInput(),p=YM(e,r);r.inputValidator?tD(e,p,t):a&&!a.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||a.validationMessage)):t==="deny"?Fg(e,p):zg(e,p)},tD=(e,t,r)=>{const a=dt.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Ko(a.inputValidator(t,a.validationMessage))).then(b=>{e.enableButtons(),e.enableInput(),b?e.showValidationMessage(b):r==="deny"?Fg(e,t):zg(e,t)})},Fg=(e,t)=>{const r=dt.innerParams.get(e||void 0);r.showLoaderOnDeny&&ia(Jr()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Ko(r.preDeny(t,r.validationMessage))).then(p=>{p===!1?(e.hideLoading(),tl(e)):e.close({isDenied:!0,value:typeof p>"u"?t:p})}).catch(p=>c1(e||void 0,p))):e.close({isDenied:!0,value:t})},K0=(e,t)=>{e.close({isConfirmed:!0,value:t})},c1=(e,t)=>{e.rejectPromise(t)},zg=(e,t)=>{const r=dt.innerParams.get(e||void 0);r.showLoaderOnConfirm&&ia(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Ko(r.preConfirm(t,r.validationMessage))).then(p=>{bn(vu())||p===!1?(e.hideLoading(),tl(e)):K0(e,typeof p>"u"?t:p)}).catch(p=>c1(e||void 0,p))):K0(e,t)};function Wc(){const e=dt.innerParams.get(this);if(!e)return;const t=dt.domCache.get(this);en(t.loader),bu()?e.icon&&Ht(ua()):nD(t),In([t.popup,t.actions],pe.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const nD=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Ht(t[0],"inline-block"):AA()&&en(e.actions)};function u1(){const e=dt.innerParams.get(this),t=dt.domCache.get(this);return t?xu(t.popup,e.input):null}function f1(e,t,r){const a=dt.domCache.get(e);t.forEach(p=>{a[p].disabled=r})}function h1(e,t){const r=et();if(!(!r||!e))if(e.type==="radio"){const a=r.querySelectorAll(`[name="${pe.radio}"]`);for(let p=0;p<a.length;p++)a[p].disabled=t}else e.disabled=t}function d1(){f1(this,["confirmButton","denyButton","cancelButton"],!1)}function g1(){f1(this,["confirmButton","denyButton","cancelButton"],!0)}function m1(){h1(this.getInput(),!1)}function p1(){h1(this.getInput(),!0)}function v1(e){const t=dt.domCache.get(this),r=dt.innerParams.get(this);Mn(t.validationMessage,e),t.validationMessage.className=pe["validation-message"],r.customClass&&r.customClass.validationMessage&&nt(t.validationMessage,r.customClass.validationMessage),Ht(t.validationMessage);const a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",pe["validation-message"]),Iw(a),nt(a,pe.inputerror))}function y1(){const e=dt.domCache.get(this);e.validationMessage&&en(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),In(t,pe.inputerror))}const Js={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},iD=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],rD={allowEnterKey:void 0},sD=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],b1=e=>Object.prototype.hasOwnProperty.call(Js,e),x1=e=>iD.indexOf(e)!==-1,w1=e=>rD[e],aD=e=>{b1(e)||ln(`Unknown parameter "${e}"`)},oD=e=>{sD.includes(e)&&ln(`The parameter "${e}" is incompatible with toasts`)},lD=e=>{const t=w1(e);t&&zw(e,t)},S1=e=>{e.backdrop===!1&&e.allowOutsideClick&&ln('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&ln(`Invalid theme "${e.theme}"`);for(const t in e)aD(t),e.toast&&oD(t),lD(t)};function C1(e){const t=cn(),r=et(),a=dt.innerParams.get(this);if(!r||Fi(r,a.hideClass.popup)){ln("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const p=cD(e),b=Object.assign({},a,p);S1(b),t.dataset.swal2Theme=b.theme,Jw(this,b),dt.innerParams.set(this,b),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const cD=e=>{const t={};return Object.keys(e).forEach(r=>{x1(r)?t[r]=e[r]:ln(`Invalid parameter to update: ${r}`)}),t};function _1(){const e=dt.domCache.get(this),t=dt.innerParams.get(this);if(!t){T1(this);return}e.popup&&Fe.swalCloseEventFinishedCallback&&(Fe.swalCloseEventFinishedCallback(),delete Fe.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Fe.eventEmitter.emit("didDestroy"),uD(this)}const uD=e=>{T1(e),delete e.params,delete Fe.keydownHandler,delete Fe.keydownTarget,delete Fe.currentInstance},T1=e=>{e.isAwaitingPromise?(id(dt,e),e.isAwaitingPromise=!0):(id(na,e),id(dt,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},id=(e,t)=>{for(const r in e)e[r].delete(t)};var fD=Object.freeze({__proto__:null,_destroy:_1,close:mr,closeModal:mr,closePopup:mr,closeToast:mr,disableButtons:g1,disableInput:p1,disableLoading:Wc,enableButtons:d1,enableInput:m1,getInput:u1,handleAwaitingPromise:tl,hideLoading:Wc,rejectPromise:a1,resetValidationMessage:y1,showValidationMessage:v1,update:C1});const hD=(e,t,r)=>{e.toast?dD(e,t,r):(mD(t),pD(t),vD(e,t,r))},dD=(e,t,r)=>{t.popup.onclick=()=>{e&&(gD(e)||e.timer||e.input)||r(da.close)}},gD=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let qc=!1;const mD=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(qc=!0)}}},pD=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(r){e.popup.onmouseup=()=>{},(r.target===e.popup||r.target instanceof HTMLElement&&e.popup.contains(r.target))&&(qc=!0)}}},vD=(e,t,r)=>{t.container.onclick=a=>{if(qc){qc=!1;return}a.target===t.container&&pu(e.allowOutsideClick)&&r(da.backdrop)}},yD=e=>typeof e=="object"&&e.jquery,Z0=e=>e instanceof Element||yD(e),bD=e=>{const t={};return typeof e[0]=="object"&&!Z0(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((r,a)=>{const p=e[a];typeof p=="string"||Z0(p)?t[r]=p:p!==void 0&&Qr(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof p}`)}),t};function xD(...e){return new this(...e)}function wD(e){class t extends this{_main(a,p){return super._main(a,Object.assign({},e,p))}}return t}const SD=()=>Fe.timeout&&Fe.timeout.getTimerLeft(),k1=()=>{if(Fe.timeout)return DA(),Fe.timeout.stop()},E1=()=>{if(Fe.timeout){const e=Fe.timeout.start();return Pg(e),e}},CD=()=>{const e=Fe.timeout;return e&&(e.running?k1():E1())},_D=e=>{if(Fe.timeout){const t=Fe.timeout.increase(e);return Pg(t,!0),t}},TD=()=>!!(Fe.timeout&&Fe.timeout.isRunning());let Q0=!1;const zd={};function kD(e="data-swal-template"){zd[e]=this,Q0||(document.body.addEventListener("click",ED),Q0=!0)}const ED=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const r in zd){const a=t.getAttribute(r);if(a){zd[r].fire({template:a});return}}};let OD=class{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,r){const a=this._getHandlersByEventName(t);a.includes(r)||a.push(r)}once(t,r){const a=(...p)=>{this.removeListener(t,a),r.apply(this,p)};this.on(t,a)}emit(t,...r){this._getHandlersByEventName(t).forEach(a=>{try{a.apply(this,r)}catch(p){console.error(p)}})}removeListener(t,r){const a=this._getHandlersByEventName(t),p=a.indexOf(r);p>-1&&a.splice(p,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}};Fe.eventEmitter=new OD;const AD=(e,t)=>{Fe.eventEmitter.on(e,t)},MD=(e,t)=>{Fe.eventEmitter.once(e,t)},DD=(e,t)=>{if(!e){Fe.eventEmitter.reset();return}t?Fe.eventEmitter.removeListener(e,t):Fe.eventEmitter.removeAllListeners(e)};var jD=Object.freeze({__proto__:null,argsToParams:bD,bindClickHandler:kD,clickCancel:bM,clickConfirm:e1,clickDeny:yM,enableLoading:ia,fire:xD,getActions:Qo,getCancelButton:fa,getCloseButton:Mg,getConfirmButton:hi,getContainer:cn,getDenyButton:Jr,getFocusableElements:Dg,getFooter:Hw,getHtmlContainer:Og,getIcon:ua,getIconContent:_A,getImage:Uw,getInputLabel:TA,getLoader:ha,getPopup:et,getProgressSteps:Ag,getTimerLeft:SD,getTimerProgressBar:yu,getTitle:Vw,getValidationMessage:vu,increaseTimer:_D,isDeprecatedParameter:w1,isLoading:EA,isTimerRunning:TD,isUpdatableParameter:x1,isValidParameter:b1,isVisible:vM,mixin:wD,off:DD,on:AD,once:MD,resumeTimer:E1,showLoading:ia,stopTimer:k1,toggleTimer:CD});class RD{constructor(t,r){this.callback=t,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const r=this.running;return r&&this.stop(),this.remaining+=t,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const O1=["swal-title","swal-html","swal-footer"],PD=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const r=t.content;return HD(r),Object.assign(LD(r),ND(r),BD(r),FD(r),zD(r),VD(r),UD(r,O1))},LD=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(a=>{Kr(a,["name","value"]);const p=a.getAttribute("name"),b=a.getAttribute("value");!p||!b||(typeof Js[p]=="boolean"?t[p]=b!=="false":typeof Js[p]=="object"?t[p]=JSON.parse(b):t[p]=b)}),t},ND=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(a=>{const p=a.getAttribute("name"),b=a.getAttribute("value");!p||!b||(t[p]=new Function(`return ${b}`)())}),t},BD=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(a=>{Kr(a,["type","color","aria-label"]);const p=a.getAttribute("type");!p||!["confirm","cancel","deny"].includes(p)||(t[`${p}ButtonText`]=a.innerHTML,t[`show${Tg(p)}Button`]=!0,a.hasAttribute("color")&&(t[`${p}ButtonColor`]=a.getAttribute("color")),a.hasAttribute("aria-label")&&(t[`${p}ButtonAriaLabel`]=a.getAttribute("aria-label")))}),t},FD=e=>{const t={},r=e.querySelector("swal-image");return r&&(Kr(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},zD=e=>{const t={},r=e.querySelector("swal-icon");return r&&(Kr(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},VD=e=>{const t={},r=e.querySelector("swal-input");r&&(Kr(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const a=Array.from(e.querySelectorAll("swal-input-option"));return a.length&&(t.inputOptions={},a.forEach(p=>{Kr(p,["value"]);const b=p.getAttribute("value");if(!b)return;const w=p.innerHTML;t.inputOptions[b]=w})),t},UD=(e,t)=>{const r={};for(const a in t){const p=t[a],b=e.querySelector(p);b&&(Kr(b,[]),r[p.replace(/^swal-/,"")]=b.innerHTML.trim())}return r},HD=e=>{const t=O1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(r=>{const a=r.tagName.toLowerCase();t.includes(a)||ln(`Unrecognized element <${a}>`)})},Kr=(e,t)=>{Array.from(e.attributes).forEach(r=>{t.indexOf(r.name)===-1&&ln([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},A1=10,ID=e=>{const t=cn(),r=et();typeof e.willOpen=="function"&&e.willOpen(r),Fe.eventEmitter.emit("willOpen",r);const p=window.getComputedStyle(document.body).overflowY;$D(t,r,e),setTimeout(()=>{YD(t,r)},A1),jg()&&(XD(t,e.scrollbarPadding,p),EM()),!bu()&&!Fe.previousActiveElement&&(Fe.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(r)),Fe.eventEmitter.emit("didOpen",r),In(t,pe["no-transition"])},Kc=e=>{const t=et();if(e.target!==t)return;const r=cn();t.removeEventListener("animationend",Kc),t.removeEventListener("transitionend",Kc),r.style.overflowY="auto"},YD=(e,t)=>{Xw(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Kc),t.addEventListener("transitionend",Kc)):e.style.overflowY="auto"},XD=(e,t,r)=>{OM(),t&&r!=="hidden"&&LM(r),setTimeout(()=>{e.scrollTop=0})},$D=(e,t,r)=>{nt(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),Ht(t,"grid"),setTimeout(()=>{nt(t,r.showClass.popup),t.style.removeProperty("opacity")},A1)):Ht(t,"grid"),nt([document.documentElement,document.body],pe.shown),r.heightAuto&&r.backdrop&&!r.toast&&nt([document.documentElement,document.body],pe["height-auto"])};var J0={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function GD(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=J0.email),e.input==="url"&&(e.inputValidator=J0.url))}function WD(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(ln('Target parameter is not valid, defaulting to "body"'),e.target="body")}function qD(e){GD(e),e.showLoaderOnConfirm&&!e.preConfirm&&ln(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),WD(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),zA(e)}let si;var wc=new WeakMap;class Et{constructor(...t){if(pA(this,wc,void 0),typeof window>"u")return;si=this;const r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,vA(wc,this,this._main(si.params))}_main(t,r={}){if(S1(Object.assign({},r,t)),Fe.currentInstance){const b=na.swalPromiseResolve.get(Fe.currentInstance),{isAwaitingPromise:w}=Fe.currentInstance;Fe.currentInstance._destroy(),w||b({isDismissed:!0}),jg()&&i1()}Fe.currentInstance=si;const a=ZD(t,r);qD(a),Object.freeze(a),Fe.timeout&&(Fe.timeout.stop(),delete Fe.timeout),clearTimeout(Fe.restoreFocusTimeout);const p=QD(si);return Jw(si,a),dt.innerParams.set(si,a),KD(si,p,a)}then(t){return I0(wc,this).then(t)}finally(t){return I0(wc,this).finally(t)}}const KD=(e,t,r)=>new Promise((a,p)=>{const b=w=>{e.close({isDismissed:!0,dismiss:w})};na.swalPromiseResolve.set(e,a),na.swalPromiseReject.set(e,p),t.confirmButton.onclick=()=>{QM(e)},t.denyButton.onclick=()=>{JM(e)},t.cancelButton.onclick=()=>{eD(e,b)},t.closeButton.onclick=()=>{b(da.close)},hD(r,t,b),xM(Fe,r,b),IM(e,r),ID(r),JD(Fe,r,b),ej(t,r),setTimeout(()=>{t.container.scrollTop=0})}),ZD=(e,t)=>{const r=PD(e),a=Object.assign({},Js,t,r,e);return a.showClass=Object.assign({},Js.showClass,a.showClass),a.hideClass=Object.assign({},Js.hideClass,a.hideClass),a.animation===!1&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},QD=e=>{const t={popup:et(),container:cn(),actions:Qo(),confirmButton:hi(),denyButton:Jr(),cancelButton:fa(),loader:ha(),closeButton:Mg(),validationMessage:vu(),progressSteps:Ag()};return dt.domCache.set(e,t),t},JD=(e,t,r)=>{const a=yu();en(a),t.timer&&(e.timeout=new RD(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(Ht(a),On(a,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Pg(t.timer)})))},ej=(e,t)=>{if(!t.toast){if(!pu(t.allowEnterKey)){zw("allowEnterKey"),ij();return}tj(e)||nj(e,t)||Fd(-1,1)}},tj=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const r of t)if(r instanceof HTMLElement&&bn(r))return r.focus(),!0;return!1},nj=(e,t)=>t.focusDeny&&bn(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&bn(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&bn(e.confirmButton)?(e.confirmButton.focus(),!0):!1,ij=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const r=document.createElement("audio");r.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",r.loop=!0,document.body.appendChild(r),setTimeout(()=>{r.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}Et.prototype.disableButtons=g1;Et.prototype.enableButtons=d1;Et.prototype.getInput=u1;Et.prototype.disableInput=p1;Et.prototype.enableInput=m1;Et.prototype.hideLoading=Wc;Et.prototype.disableLoading=Wc;Et.prototype.showValidationMessage=v1;Et.prototype.resetValidationMessage=y1;Et.prototype.close=mr;Et.prototype.closePopup=mr;Et.prototype.closeModal=mr;Et.prototype.closeToast=mr;Et.prototype.rejectPromise=a1;Et.prototype.update=C1;Et.prototype._destroy=_1;Object.assign(Et,jD);Object.keys(fD).forEach(e=>{Et[e]=function(...t){return si&&si[e]?si[e](...t):null}});Et.DismissReason=da;Et.version="11.22.0";const Ri=Et;Ri.default=Ri;typeof document<"u"&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch{r.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Vg=D.createContext({});function wu(e){const t=D.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ug=typeof window<"u",M1=Ug?D.useLayoutEffect:D.useEffect,Su=D.createContext(null);function Hg(e,t){e.indexOf(t)===-1&&e.push(t)}function Ig(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Vi=(e,t,r)=>r>t?t:r<e?e:r;let Yg=()=>{};const Ui={},D1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function j1(e){return typeof e=="object"&&e!==null}const R1=e=>/^0[^.\s]+$/u.test(e);function Xg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hn=e=>e,rj=(e,t)=>r=>t(e(r)),nl=(...e)=>e.reduce(rj),Bo=(e,t,r)=>{const a=t-e;return a===0?1:(r-e)/a};class $g{constructor(){this.subscriptions=[]}add(t){return Hg(this.subscriptions,t),()=>Ig(this.subscriptions,t)}notify(t,r,a){const p=this.subscriptions.length;if(p)if(p===1)this.subscriptions[0](t,r,a);else for(let b=0;b<p;b++){const w=this.subscriptions[b];w&&w(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=e=>e*1e3,ui=e=>e/1e3;function P1(e,t){return t?e*(1e3/t):0}const L1=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,sj=1e-7,aj=12;function oj(e,t,r,a,p){let b,w,h=0;do w=t+(r-t)/2,b=L1(w,a,p)-e,b>0?r=w:t=w;while(Math.abs(b)>sj&&++h<aj);return w}function il(e,t,r,a){if(e===t&&r===a)return Hn;const p=b=>oj(b,0,1,e,r);return b=>b===0||b===1?b:L1(p(b),t,a)}const N1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B1=e=>t=>1-e(1-t),F1=il(.33,1.53,.69,.99),Gg=B1(F1),z1=N1(Gg),V1=e=>(e*=2)<1?.5*Gg(e):.5*(2-Math.pow(2,-10*(e-1))),Wg=e=>1-Math.sin(Math.acos(e)),U1=B1(Wg),H1=N1(Wg),lj=il(.42,0,1,1),cj=il(0,0,.58,1),I1=il(.42,0,.58,1),uj=e=>Array.isArray(e)&&typeof e[0]!="number",Y1=e=>Array.isArray(e)&&typeof e[0]=="number",fj={linear:Hn,easeIn:lj,easeInOut:I1,easeOut:cj,circIn:Wg,circInOut:H1,circOut:U1,backIn:Gg,backInOut:z1,backOut:F1,anticipate:V1},hj=e=>typeof e=="string",eb=e=>{if(Y1(e)){Yg(e.length===4);const[t,r,a,p]=e;return il(t,r,a,p)}else if(hj(e))return fj[e];return e},Sc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function dj(e,t){let r=new Set,a=new Set,p=!1,b=!1;const w=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function s(d){w.has(d)&&(u.schedule(d),e()),d(h)}const u={schedule:(d,o=!1,c=!1)=>{const g=c&&p?r:a;return o&&w.add(d),g.has(d)||g.add(d),d},cancel:d=>{a.delete(d),w.delete(d)},process:d=>{if(h=d,p){b=!0;return}p=!0,[r,a]=[a,r],r.forEach(s),r.clear(),p=!1,b&&(b=!1,u.process(d))}};return u}const gj=40;function X1(e,t){let r=!1,a=!0;const p={delta:0,timestamp:0,isProcessing:!1},b=()=>r=!0,w=Sc.reduce((_,k)=>(_[k]=dj(b),_),{}),{setup:h,read:s,resolveKeyframes:u,preUpdate:d,update:o,preRender:c,render:f,postRender:g}=w,y=()=>{const _=Ui.useManualTiming?p.timestamp:performance.now();r=!1,Ui.useManualTiming||(p.delta=a?1e3/60:Math.max(Math.min(_-p.timestamp,gj),1)),p.timestamp=_,p.isProcessing=!0,h.process(p),s.process(p),u.process(p),d.process(p),o.process(p),c.process(p),f.process(p),g.process(p),p.isProcessing=!1,r&&t&&(a=!1,e(y))},m=()=>{r=!0,a=!0,p.isProcessing||e(y)};return{schedule:Sc.reduce((_,k)=>{const O=w[k];return _[k]=(j,F=!1,z=!1)=>(r||m(),O.schedule(j,F,z)),_},{}),cancel:_=>{for(let k=0;k<Sc.length;k++)w[Sc[k]].cancel(_)},state:p,steps:w}}const{schedule:mt,cancel:vr,state:$t,steps:rd}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let jc;function mj(){jc=void 0}const yn={now:()=>(jc===void 0&&yn.set($t.isProcessing||Ui.useManualTiming?$t.timestamp:performance.now()),jc),set:e=>{jc=e,queueMicrotask(mj)}},$1=e=>t=>typeof t=="string"&&t.startsWith(e),qg=$1("--"),pj=$1("var(--"),Kg=e=>pj(e)?vj.test(e.split("/*")[0].trim()):!1,vj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ga={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fo={...ga,transform:e=>Vi(0,1,e)},Cc={...ga,default:1},Eo=e=>Math.round(e*1e5)/1e5,Zg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yj(e){return e==null}const bj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qg=(e,t)=>r=>!!(typeof r=="string"&&bj.test(r)&&r.startsWith(e)||t&&!yj(r)&&Object.prototype.hasOwnProperty.call(r,t)),G1=(e,t,r)=>a=>{if(typeof a!="string")return a;const[p,b,w,h]=a.match(Zg);return{[e]:parseFloat(p),[t]:parseFloat(b),[r]:parseFloat(w),alpha:h!==void 0?parseFloat(h):1}},xj=e=>Vi(0,255,e),sd={...ga,transform:e=>Math.round(xj(e))},Ir={test:Qg("rgb","red"),parse:G1("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+sd.transform(e)+", "+sd.transform(t)+", "+sd.transform(r)+", "+Eo(Fo.transform(a))+")"};function wj(e){let t="",r="",a="",p="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),p=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),p=e.substring(4,5),t+=t,r+=r,a+=a,p+=p),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:p?parseInt(p,16)/255:1}}const Vd={test:Qg("#"),parse:wj,transform:Ir.transform},rl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hr=rl("deg"),fi=rl("%"),Ie=rl("px"),Sj=rl("vh"),Cj=rl("vw"),tb={...fi,parse:e=>fi.parse(e)/100,transform:e=>fi.transform(e*100)},$s={test:Qg("hsl","hue"),parse:G1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+fi.transform(Eo(t))+", "+fi.transform(Eo(r))+", "+Eo(Fo.transform(a))+")"},Dt={test:e=>Ir.test(e)||Vd.test(e)||$s.test(e),parse:e=>Ir.test(e)?Ir.parse(e):$s.test(e)?$s.parse(e):Vd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ir.transform(e):$s.transform(e),getAnimatableNone:e=>{const t=Dt.parse(e);return t.alpha=0,Dt.transform(t)}},_j=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tj(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zg))==null?void 0:t.length)||0)+(((r=e.match(_j))==null?void 0:r.length)||0)>0}const W1="number",q1="color",kj="var",Ej="var(",nb="${}",Oj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zo(e){const t=e.toString(),r=[],a={color:[],number:[],var:[]},p=[];let b=0;const h=t.replace(Oj,s=>(Dt.test(s)?(a.color.push(b),p.push(q1),r.push(Dt.parse(s))):s.startsWith(Ej)?(a.var.push(b),p.push(kj),r.push(s)):(a.number.push(b),p.push(W1),r.push(parseFloat(s))),++b,nb)).split(nb);return{values:r,split:h,indexes:a,types:p}}function K1(e){return zo(e).values}function Z1(e){const{split:t,types:r}=zo(e),a=t.length;return p=>{let b="";for(let w=0;w<a;w++)if(b+=t[w],p[w]!==void 0){const h=r[w];h===W1?b+=Eo(p[w]):h===q1?b+=Dt.transform(p[w]):b+=p[w]}return b}}const Aj=e=>typeof e=="number"?0:Dt.test(e)?Dt.getAnimatableNone(e):e;function Mj(e){const t=K1(e);return Z1(e)(t.map(Aj))}const yr={test:Tj,parse:K1,createTransformer:Z1,getAnimatableNone:Mj};function ad(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Dj({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,t/=100,r/=100;let p=0,b=0,w=0;if(!t)p=b=w=r;else{const h=r<.5?r*(1+t):r+t-r*t,s=2*r-h;p=ad(s,h,e+1/3),b=ad(s,h,e),w=ad(s,h,e-1/3)}return{red:Math.round(p*255),green:Math.round(b*255),blue:Math.round(w*255),alpha:a}}function Zc(e,t){return r=>r>0?t:e}const vt=(e,t,r)=>e+(t-e)*r,od=(e,t,r)=>{const a=e*e,p=r*(t*t-a)+a;return p<0?0:Math.sqrt(p)},jj=[Vd,Ir,$s],Rj=e=>jj.find(t=>t.test(e));function ib(e){const t=Rj(e);if(!t)return!1;let r=t.parse(e);return t===$s&&(r=Dj(r)),r}const rb=(e,t)=>{const r=ib(e),a=ib(t);if(!r||!a)return Zc(e,t);const p={...r};return b=>(p.red=od(r.red,a.red,b),p.green=od(r.green,a.green,b),p.blue=od(r.blue,a.blue,b),p.alpha=vt(r.alpha,a.alpha,b),Ir.transform(p))},Ud=new Set(["none","hidden"]);function Pj(e,t){return Ud.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Lj(e,t){return r=>vt(e,t,r)}function Jg(e){return typeof e=="number"?Lj:typeof e=="string"?Kg(e)?Zc:Dt.test(e)?rb:Fj:Array.isArray(e)?Q1:typeof e=="object"?Dt.test(e)?rb:Nj:Zc}function Q1(e,t){const r=[...e],a=r.length,p=e.map((b,w)=>Jg(b)(b,t[w]));return b=>{for(let w=0;w<a;w++)r[w]=p[w](b);return r}}function Nj(e,t){const r={...e,...t},a={};for(const p in r)e[p]!==void 0&&t[p]!==void 0&&(a[p]=Jg(e[p])(e[p],t[p]));return p=>{for(const b in a)r[b]=a[b](p);return r}}function Bj(e,t){const r=[],a={color:0,var:0,number:0};for(let p=0;p<t.values.length;p++){const b=t.types[p],w=e.indexes[b][a[b]],h=e.values[w]??0;r[p]=h,a[b]++}return r}const Fj=(e,t)=>{const r=yr.createTransformer(t),a=zo(e),p=zo(t);return a.indexes.var.length===p.indexes.var.length&&a.indexes.color.length===p.indexes.color.length&&a.indexes.number.length>=p.indexes.number.length?Ud.has(e)&&!p.values.length||Ud.has(t)&&!a.values.length?Pj(e,t):nl(Q1(Bj(a,p),p.values),r):Zc(e,t)};function J1(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?vt(e,t,r):Jg(e)(e,t)}const zj=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>mt.update(t,r),stop:()=>vr(t),now:()=>$t.isProcessing?$t.timestamp:yn.now()}},eS=(e,t,r=10)=>{let a="";const p=Math.max(Math.round(t/r),2);for(let b=0;b<p;b++)a+=Math.round(e(b/(p-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Qc=2e4;function em(e){let t=0;const r=50;let a=e.next(t);for(;!a.done&&t<Qc;)t+=r,a=e.next(t);return t>=Qc?1/0:t}function Vj(e,t=100,r){const a=r({...e,keyframes:[0,t]}),p=Math.min(em(a),Qc);return{type:"keyframes",ease:b=>a.next(p*b).value/t,duration:ui(p)}}const Uj=5;function tS(e,t,r){const a=Math.max(t-Uj,0);return P1(r-e(a),t-a)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sb=.001;function Hj({duration:e=xt.duration,bounce:t=xt.bounce,velocity:r=xt.velocity,mass:a=xt.mass}){let p,b,w=1-t;w=Vi(xt.minDamping,xt.maxDamping,w),e=Vi(xt.minDuration,xt.maxDuration,ui(e)),w<1?(p=u=>{const d=u*w,o=d*e,c=d-r,f=Hd(u,w),g=Math.exp(-o);return sb-c/f*g},b=u=>{const o=u*w*e,c=o*r+r,f=Math.pow(w,2)*Math.pow(u,2)*e,g=Math.exp(-o),y=Hd(Math.pow(u,2),w);return(-p(u)+sb>0?-1:1)*((c-f)*g)/y}):(p=u=>{const d=Math.exp(-u*e),o=(u-r)*e+1;return-.001+d*o},b=u=>{const d=Math.exp(-u*e),o=(r-u)*(e*e);return d*o});const h=5/e,s=Yj(p,b,h);if(e=ci(e),isNaN(s))return{stiffness:xt.stiffness,damping:xt.damping,duration:e};{const u=Math.pow(s,2)*a;return{stiffness:u,damping:w*2*Math.sqrt(a*u),duration:e}}}const Ij=12;function Yj(e,t,r){let a=r;for(let p=1;p<Ij;p++)a=a-e(a)/t(a);return a}function Hd(e,t){return e*Math.sqrt(1-t*t)}const Xj=["duration","bounce"],$j=["stiffness","damping","mass"];function ab(e,t){return t.some(r=>e[r]!==void 0)}function Gj(e){let t={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...e};if(!ab(e,$j)&&ab(e,Xj))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),p=a*a,b=2*Vi(.05,1,1-(e.bounce||0))*Math.sqrt(p);t={...t,mass:xt.mass,stiffness:p,damping:b}}else{const r=Hj(e);t={...t,...r,mass:xt.mass},t.isResolvedFromDuration=!0}return t}function Jc(e=xt.visualDuration,t=xt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:p}=r;const b=r.keyframes[0],w=r.keyframes[r.keyframes.length-1],h={done:!1,value:b},{stiffness:s,damping:u,mass:d,duration:o,velocity:c,isResolvedFromDuration:f}=Gj({...r,velocity:-ui(r.velocity||0)}),g=c||0,y=u/(2*Math.sqrt(s*d)),m=w-b,x=ui(Math.sqrt(s/d)),S=Math.abs(m)<5;a||(a=S?xt.restSpeed.granular:xt.restSpeed.default),p||(p=S?xt.restDelta.granular:xt.restDelta.default);let _;if(y<1){const O=Hd(x,y);_=j=>{const F=Math.exp(-y*x*j);return w-F*((g+y*x*m)/O*Math.sin(O*j)+m*Math.cos(O*j))}}else if(y===1)_=O=>w-Math.exp(-x*O)*(m+(g+x*m)*O);else{const O=x*Math.sqrt(y*y-1);_=j=>{const F=Math.exp(-y*x*j),z=Math.min(O*j,300);return w-F*((g+y*x*m)*Math.sinh(z)+O*m*Math.cosh(z))/O}}const k={calculatedDuration:f&&o||null,next:O=>{const j=_(O);if(f)h.done=O>=o;else{let F=O===0?g:0;y<1&&(F=O===0?ci(g):tS(_,O,j));const z=Math.abs(F)<=a,U=Math.abs(w-j)<=p;h.done=z&&U}return h.value=h.done?w:j,h},toString:()=>{const O=Math.min(em(k),Qc),j=eS(F=>k.next(O*F).value,O,30);return O+"ms "+j},toTransition:()=>{}};return k}Jc.applyToOptions=e=>{const t=Vj(e,100,Jc);return e.ease=t.ease,e.duration=ci(t.duration),e.type="keyframes",e};function Id({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:p=10,bounceStiffness:b=500,modifyTarget:w,min:h,max:s,restDelta:u=.5,restSpeed:d}){const o=e[0],c={done:!1,value:o},f=z=>h!==void 0&&z<h||s!==void 0&&z>s,g=z=>h===void 0?s:s===void 0||Math.abs(h-z)<Math.abs(s-z)?h:s;let y=r*t;const m=o+y,x=w===void 0?m:w(m);x!==m&&(y=x-o);const S=z=>-y*Math.exp(-z/a),_=z=>x+S(z),k=z=>{const U=S(z),G=_(z);c.done=Math.abs(U)<=u,c.value=c.done?x:G};let O,j;const F=z=>{f(c.value)&&(O=z,j=Jc({keyframes:[c.value,g(c.value)],velocity:tS(_,z,c.value),damping:p,stiffness:b,restDelta:u,restSpeed:d}))};return F(0),{calculatedDuration:null,next:z=>{let U=!1;return!j&&O===void 0&&(U=!0,k(z),F(z)),O!==void 0&&z>=O?j.next(z-O):(!U&&k(z),c)}}}function Wj(e,t,r){const a=[],p=r||Ui.mix||J1,b=e.length-1;for(let w=0;w<b;w++){let h=p(e[w],e[w+1]);if(t){const s=Array.isArray(t)?t[w]||Hn:t;h=nl(s,h)}a.push(h)}return a}function qj(e,t,{clamp:r=!0,ease:a,mixer:p}={}){const b=e.length;if(Yg(b===t.length),b===1)return()=>t[0];if(b===2&&t[0]===t[1])return()=>t[1];const w=e[0]===e[1];e[0]>e[b-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=Wj(t,a,p),s=h.length,u=d=>{if(w&&d<e[0])return t[0];let o=0;if(s>1)for(;o<e.length-2&&!(d<e[o+1]);o++);const c=Bo(e[o],e[o+1],d);return h[o](c)};return r?d=>u(Vi(e[0],e[b-1],d)):u}function Kj(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const p=Bo(0,t,a);e.push(vt(r,1,p))}}function Zj(e){const t=[0];return Kj(t,e.length-1),t}function Qj(e,t){return e.map(r=>r*t)}function Jj(e,t){return e.map(()=>t||I1).splice(0,e.length-1)}function Oo({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){const p=uj(a)?a.map(eb):eb(a),b={done:!1,value:t[0]},w=Qj(r&&r.length===t.length?r:Zj(t),e),h=qj(w,t,{ease:Array.isArray(p)?p:Jj(t,p)});return{calculatedDuration:e,next:s=>(b.value=h(s),b.done=s>=e,b)}}const eR=e=>e!==null;function tm(e,{repeat:t,repeatType:r="loop"},a,p=1){const b=e.filter(eR),h=p<0||t&&r!=="loop"&&t%2===1?0:b.length-1;return!h||a===void 0?b[h]:a}const tR={decay:Id,inertia:Id,tween:Oo,keyframes:Oo,spring:Jc};function nS(e){typeof e.type=="string"&&(e.type=tR[e.type])}class nm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const nR=e=>e/100;class im extends nm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,p;const{motionValue:r}=this.options;r&&r.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(p=(a=this.options).onStop)==null||p.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;nS(t);const{type:r=Oo,repeat:a=0,repeatDelay:p=0,repeatType:b,velocity:w=0}=t;let{keyframes:h}=t;const s=r||Oo;s!==Oo&&typeof h[0]!="number"&&(this.mixKeyframes=nl(nR,J1(h[0],h[1])),h=[0,100]);const u=s({...t,keyframes:h});b==="mirror"&&(this.mirroredGenerator=s({...t,keyframes:[...h].reverse(),velocity:-w})),u.calculatedDuration===null&&(u.calculatedDuration=em(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+p,this.totalDuration=this.resolvedDuration*(a+1)-p,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:p,mixKeyframes:b,mirroredGenerator:w,resolvedDuration:h,calculatedDuration:s}=this;if(this.startTime===null)return a.next(0);const{delay:u=0,keyframes:d,repeat:o,repeatType:c,repeatDelay:f,type:g,onUpdate:y,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?x<0:x>p;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let _=this.currentTime,k=a;if(o){const z=Math.min(this.currentTime,p)/h;let U=Math.floor(z),G=z%1;!G&&z>=1&&(G=1),G===1&&U--,U=Math.min(U,o+1),!!(U%2)&&(c==="reverse"?(G=1-G,f&&(G-=f/h)):c==="mirror"&&(k=w)),_=Vi(0,1,G)*h}const O=S?{done:!1,value:d[0]}:k.next(_);b&&(O.value=b(O.value));let{done:j}=O;!S&&s!==null&&(j=this.playbackSpeed>=0?this.currentTime>=p:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return F&&g!==Id&&(O.value=tm(d,this.options,m,this.speed)),y&&y(O.value),F&&this.finish(),O}then(t,r){return this.finished.then(t,r)}get duration(){return ui(this.calculatedDuration)}get time(){return ui(this.currentTime)}set time(t){var r;t=ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ui(this.currentTime))}play(){var p,b;if(this.isStopped)return;const{driver:t=zj,startTime:r}=this.options;this.driver||(this.driver=t(w=>this.tick(w))),(b=(p=this.options).onPlay)==null||b.call(p);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function iR(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Yr=e=>e*180/Math.PI,Yd=e=>{const t=Yr(Math.atan2(e[1],e[0]));return Xd(t)},rR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yd,rotateZ:Yd,skewX:e=>Yr(Math.atan(e[1])),skewY:e=>Yr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Xd=e=>(e=e%360,e<0&&(e+=360),e),ob=Yd,lb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),cb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),sR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lb,scaleY:cb,scale:e=>(lb(e)+cb(e))/2,rotateX:e=>Xd(Yr(Math.atan2(e[6],e[5]))),rotateY:e=>Xd(Yr(Math.atan2(-e[2],e[0]))),rotateZ:ob,rotate:ob,skewX:e=>Yr(Math.atan(e[4])),skewY:e=>Yr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function $d(e){return e.includes("scale")?1:0}function Gd(e,t){if(!e||e==="none")return $d(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,p;if(r)a=sR,p=r;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=rR,p=h}if(!p)return $d(t);const b=a[t],w=p[1].split(",").map(oR);return typeof b=="function"?b(w):w[b]}const aR=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Gd(r,t)};function oR(e){return parseFloat(e.trim())}const ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pa=new Set(ma),ub=e=>e===ga||e===Ie,lR=new Set(["x","y","z"]),cR=ma.filter(e=>!lR.has(e));function uR(e){const t=[];return cR.forEach(r=>{const a=e.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const Wr={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gd(t,"x"),y:(e,{transform:t})=>Gd(t,"y")};Wr.translateX=Wr.x;Wr.translateY=Wr.y;const qr=new Set;let Wd=!1,qd=!1,Kd=!1;function iS(){if(qd){const e=Array.from(qr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),r=new Map;t.forEach(a=>{const p=uR(a);p.length&&(r.set(a,p),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const p=r.get(a);p&&p.forEach(([b,w])=>{var h;(h=a.getValue(b))==null||h.set(w)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}qd=!1,Wd=!1,qr.forEach(e=>e.complete(Kd)),qr.clear()}function rS(){qr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(qd=!0)})}function fR(){Kd=!0,rS(),iS(),Kd=!1}class rm{constructor(t,r,a,p,b,w=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=p,this.element=b,this.isAsync=w}scheduleResolve(){this.state="scheduled",this.isAsync?(qr.add(this),Wd||(Wd=!0,mt.read(rS),mt.resolveKeyframes(iS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:p}=this;if(t[0]===null){const b=p==null?void 0:p.get(),w=t[t.length-1];if(b!==void 0)t[0]=b;else if(a&&r){const h=a.readValue(r,w);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=w),p&&b===void 0&&p.set(t[0])}iR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qr.delete(this)}cancel(){this.state==="scheduled"&&(qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hR=e=>e.startsWith("--");function dR(e,t,r){hR(t)?e.style.setProperty(t,r):e.style[t]=r}const gR=Xg(()=>window.ScrollTimeline!==void 0),mR={};function pR(e,t){const r=Xg(e);return()=>mR[t]??r()}const sS=pR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_o=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,fb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_o([0,.65,.55,1]),circOut:_o([.55,0,1,.45]),backIn:_o([.31,.01,.66,-.59]),backOut:_o([.33,1.53,.69,.99])};function aS(e,t){if(e)return typeof e=="function"?sS()?eS(e,t):"ease-out":Y1(e)?_o(e):Array.isArray(e)?e.map(r=>aS(r,t)||fb.easeOut):fb[e]}function vR(e,t,r,{delay:a=0,duration:p=300,repeat:b=0,repeatType:w="loop",ease:h="easeOut",times:s}={},u=void 0){const d={[t]:r};s&&(d.offset=s);const o=aS(h,p);Array.isArray(o)&&(d.easing=o);const c={delay:a,duration:p,easing:Array.isArray(o)?"linear":o,fill:"both",iterations:b+1,direction:w==="reverse"?"alternate":"normal"};return u&&(c.pseudoElement=u),e.animate(d,c)}function oS(e){return typeof e=="function"&&"applyToOptions"in e}function yR({type:e,...t}){return oS(e)&&sS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bR extends nm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:a,keyframes:p,pseudoElement:b,allowFlatten:w=!1,finalKeyframe:h,onComplete:s}=t;this.isPseudoElement=!!b,this.allowFlatten=w,this.options=t,Yg(typeof t.type!="string");const u=yR(t);this.animation=vR(r,a,p,u,b),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!b){const d=tm(p,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(d):dR(r,a,d),this.animation.cancel()}s==null||s(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,a;const t=((a=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:a.call(r).duration)||0;return ui(Number(t))}get time(){return ui(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&gR()?(this.animation.timeline=t,Hn):r(this)}}const lS={anticipate:V1,backInOut:z1,circInOut:H1};function xR(e){return e in lS}function wR(e){typeof e.ease=="string"&&xR(e.ease)&&(e.ease=lS[e.ease])}const hb=10;class SR extends bR{constructor(t){wR(t),nS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:p,element:b,...w}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const h=new im({...w,autoplay:!1}),s=ci(this.finishedTime??this.time);r.setWithVelocity(h.sample(s-hb).value,h.sample(s).value,hb),h.stop()}}const db=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yr.test(e)||e==="0")&&!e.startsWith("url("));function CR(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function _R(e,t,r,a){const p=e[0];if(p===null)return!1;if(t==="display"||t==="visibility")return!0;const b=e[e.length-1],w=db(p,t),h=db(b,t);return!w||!h?!1:CR(e)||(r==="spring"||oS(r))&&a}function Zd(e){e.duration=0,e.type}const TR=new Set(["opacity","clipPath","filter","transform"]),kR=Xg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ER(e){var d;const{motionValue:t,name:r,repeatDelay:a,repeatType:p,damping:b,type:w}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:u}=t.owner.getProps();return kR()&&r&&TR.has(r)&&(r!=="transform"||!u)&&!s&&!a&&p!=="mirror"&&b!==0&&w!=="inertia"}const OR=40;class AR extends nm{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:p=0,repeatDelay:b=0,repeatType:w="loop",keyframes:h,name:s,motionValue:u,element:d,...o}){var g;super(),this.stop=()=>{var y,m;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(m=this.keyframeResolver)==null||m.cancel()},this.createdAt=yn.now();const c={autoplay:t,delay:r,type:a,repeat:p,repeatDelay:b,repeatType:w,name:s,motionValue:u,element:d,...o},f=(d==null?void 0:d.KeyframeResolver)||rm;this.keyframeResolver=new f(h,(y,m,x)=>this.onKeyframesResolved(y,m,c,!x),s,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,a,p){this.keyframeResolver=void 0;const{name:b,type:w,velocity:h,delay:s,isHandoff:u,onUpdate:d}=a;this.resolvedAt=yn.now(),_R(t,b,w,h)||((Ui.instantAnimations||!s)&&(d==null||d(tm(t,a,r))),t[0]=t[t.length-1],Zd(a),a.repeat=0);const c={startTime:p?this.resolvedAt?this.resolvedAt-this.createdAt>OR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},f=!u&&ER(c)?new SR({...c,element:c.motionValue.owner.current}):new im(c);f.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),fR()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const MR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DR(e){const t=MR.exec(e);if(!t)return[,];const[,r,a,p]=t;return[`--${r??a}`,p]}function cS(e,t,r=1){const[a,p]=DR(e);if(!a)return;const b=window.getComputedStyle(t).getPropertyValue(a);if(b){const w=b.trim();return D1(w)?parseFloat(w):w}return Kg(p)?cS(p,t,r+1):p}function sm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const uS=new Set(["width","height","top","left","right","bottom",...ma]),jR={test:e=>e==="auto",parse:e=>e},fS=e=>t=>t.test(e),hS=[ga,Ie,fi,hr,Cj,Sj,jR],gb=e=>hS.find(fS(e));function RR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||R1(e):!0}const PR=new Set(["brightness","contrast","saturate","opacity"]);function LR(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=r.match(Zg)||[];if(!a)return e;const p=r.replace(a,"");let b=PR.has(t)?1:0;return a!==r&&(b*=100),t+"("+b+p+")"}const NR=/\b([a-z-]*)\(.*?\)/gu,Qd={...yr,getAnimatableNone:e=>{const t=e.match(NR);return t?t.map(LR).join(" "):e}},mb={...ga,transform:Math.round},BR={rotate:hr,rotateX:hr,rotateY:hr,rotateZ:hr,scale:Cc,scaleX:Cc,scaleY:Cc,scaleZ:Cc,skew:hr,skewX:hr,skewY:hr,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Fo,originX:tb,originY:tb,originZ:Ie},am={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...BR,zIndex:mb,fillOpacity:Fo,strokeOpacity:Fo,numOctaves:mb},FR={...am,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Qd,WebkitFilter:Qd},dS=e=>FR[e];function gS(e,t){let r=dS(e);return r!==Qd&&(r=yr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const zR=new Set(["auto","none","0"]);function VR(e,t,r){let a=0,p;for(;a<e.length&&!p;){const b=e[a];typeof b=="string"&&!zR.has(b)&&zo(b).values.length&&(p=e[a]),a++}if(p&&r)for(const b of t)e[b]=gS(r,p)}class UR extends rm{constructor(t,r,a,p,b){super(t,r,a,p,b,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let s=0;s<t.length;s++){let u=t[s];if(typeof u=="string"&&(u=u.trim(),Kg(u))){const d=cS(u,r.current);d!==void 0&&(t[s]=d),s===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!uS.has(a)||t.length!==2)return;const[p,b]=t,w=gb(p),h=gb(b);if(w!==h)if(ub(w)&&ub(h))for(let s=0;s<t.length;s++){const u=t[s];typeof u=="string"&&(t[s]=parseFloat(u))}else Wr[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let p=0;p<t.length;p++)(t[p]===null||RR(t[p]))&&a.push(p);a.length&&VR(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wr[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const p=r[r.length-1];p!==void 0&&t.getValue(a,p).jump(p,!1)}measureEndState(){var h;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const p=t.getValue(r);p&&p.jump(this.measuredOrigin,!1);const b=a.length-1,w=a[b];a[b]=Wr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),w!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=w),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([s,u])=>{t.getValue(s).set(u)}),this.resolveNoneKeyframes()}}function HR(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const p=(r==null?void 0:r[e])??a.querySelectorAll(e);return p?Array.from(p):[]}return Array.from(e)}const mS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function pS(e){return j1(e)&&"offsetHeight"in e}const pb=30,IR=e=>!isNaN(parseFloat(e));class YR{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var b;const p=yn.now();if(this.updatedAt!==p&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((b=this.events.change)==null||b.notify(this.current),this.dependents))for(const w of this.dependents)w.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=IR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new $g);const a=this.events[t].add(r);return t==="change"?()=>{a(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>pb)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,pb);return P1(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zr(e,t){return new YR(e,t)}const{schedule:om}=X1(queueMicrotask,!1),qn={x:!1,y:!1};function vS(){return qn.x||qn.y}function XR(e){return e==="x"||e==="y"?qn[e]?null:(qn[e]=!0,()=>{qn[e]=!1}):qn.x||qn.y?null:(qn.x=qn.y=!0,()=>{qn.x=qn.y=!1})}function yS(e,t){const r=HR(e),a=new AbortController,p={passive:!0,...t,signal:a.signal};return[r,p,()=>a.abort()]}function vb(e){return!(e.pointerType==="touch"||vS())}function $R(e,t,r={}){const[a,p,b]=yS(e,r),w=h=>{if(!vb(h))return;const{target:s}=h,u=t(s,h);if(typeof u!="function"||!s)return;const d=o=>{vb(o)&&(u(o),s.removeEventListener("pointerleave",d))};s.addEventListener("pointerleave",d,p)};return a.forEach(h=>{h.addEventListener("pointerenter",w,p)}),b}const bS=(e,t)=>t?e===t?!0:bS(e,t.parentElement):!1,lm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WR(e){return GR.has(e.tagName)||e.tabIndex!==-1}const Rc=new WeakSet;function yb(e){return t=>{t.key==="Enter"&&e(t)}}function ld(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const qR=(e,t)=>{const r=e.currentTarget;if(!r)return;const a=yb(()=>{if(Rc.has(r))return;ld(r,"down");const p=yb(()=>{ld(r,"up")}),b=()=>ld(r,"cancel");r.addEventListener("keyup",p,t),r.addEventListener("blur",b,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function bb(e){return lm(e)&&!vS()}function KR(e,t,r={}){const[a,p,b]=yS(e,r),w=h=>{const s=h.currentTarget;if(!bb(h))return;Rc.add(s);const u=t(s,h),d=(f,g)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",c),Rc.has(s)&&Rc.delete(s),bb(f)&&typeof u=="function"&&u(f,{success:g})},o=f=>{d(f,s===window||s===document||r.useGlobalTarget||bS(s,f.target))},c=f=>{d(f,!1)};window.addEventListener("pointerup",o,p),window.addEventListener("pointercancel",c,p)};return a.forEach(h=>{(r.useGlobalTarget?window:h).addEventListener("pointerdown",w,p),pS(h)&&(h.addEventListener("focus",u=>qR(u,p)),!WR(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),b}function xS(e){return j1(e)&&"ownerSVGElement"in e}function ZR(e){return xS(e)&&e.tagName==="svg"}const Jt=e=>!!(e&&e.getVelocity),QR=[...hS,Dt,yr],JR=e=>QR.find(fS(e)),Cu=D.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class eP extends D.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,p=pS(a)&&a.offsetWidth||0,b=this.props.sizeRef.current;b.height=r.offsetHeight||0,b.width=r.offsetWidth||0,b.top=r.offsetTop,b.left=r.offsetLeft,b.right=p-b.width-b.left}return null}componentDidUpdate(){}render(){return this.props.children}}function tP({children:e,isPresent:t,anchorX:r,root:a}){const p=D.useId(),b=D.useRef(null),w=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=D.useContext(Cu);return D.useInsertionEffect(()=>{const{width:s,height:u,top:d,left:o,right:c}=w.current;if(t||!b.current||!s||!u)return;const f=r==="left"?`left: ${o}`:`right: ${c}`;b.current.dataset.motionPopId=p;const g=document.createElement("style");h&&(g.nonce=h);const y=a??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${p}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${u}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[t]),E.jsx(eP,{isPresent:t,childRef:b,sizeRef:w,children:D.cloneElement(e,{ref:b})})}const nP=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:p,presenceAffectsLayout:b,mode:w,anchorX:h,root:s})=>{const u=wu(iP),d=D.useId();let o=!0,c=D.useMemo(()=>(o=!1,{id:d,initial:t,isPresent:r,custom:p,onExitComplete:f=>{u.set(f,!0);for(const g of u.values())if(!g)return;a&&a()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[r,u,a]);return b&&o&&(c={...c}),D.useMemo(()=>{u.forEach((f,g)=>u.set(g,!1))},[r]),D.useEffect(()=>{!r&&!u.size&&a&&a()},[r]),w==="popLayout"&&(e=E.jsx(tP,{isPresent:r,anchorX:h,root:s,children:e})),E.jsx(Su.Provider,{value:c,children:e})};function iP(){return new Map}function wS(e=!0){const t=D.useContext(Su);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:p}=t,b=D.useId();D.useEffect(()=>{if(e)return p(b)},[e]);const w=D.useCallback(()=>e&&a&&a(b),[b,a,e]);return!r&&a?[!1,w]:[!0]}const _c=e=>e.key||"";function xb(e){const t=[];return D.Children.forEach(e,r=>{D.isValidElement(r)&&t.push(r)}),t}const Xs=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:p=!0,mode:b="sync",propagate:w=!1,anchorX:h="left",root:s})=>{const[u,d]=wS(w),o=D.useMemo(()=>xb(e),[e]),c=w&&!u?[]:o.map(_c),f=D.useRef(!0),g=D.useRef(o),y=wu(()=>new Map),[m,x]=D.useState(o),[S,_]=D.useState(o);M1(()=>{f.current=!1,g.current=o;for(let j=0;j<S.length;j++){const F=_c(S[j]);c.includes(F)?y.delete(F):y.get(F)!==!0&&y.set(F,!1)}},[S,c.length,c.join("-")]);const k=[];if(o!==m){let j=[...o];for(let F=0;F<S.length;F++){const z=S[F],U=_c(z);c.includes(U)||(j.splice(F,0,z),k.push(z))}return b==="wait"&&k.length&&(j=k),_(xb(j)),x(o),null}const{forceRender:O}=D.useContext(Vg);return E.jsx(E.Fragment,{children:S.map(j=>{const F=_c(j),z=w&&!u?!1:o===S||c.includes(F),U=()=>{if(y.has(F))y.set(F,!0);else return;let G=!0;y.forEach(ie=>{ie||(G=!1)}),G&&(O==null||O(),_(g.current),w&&(d==null||d()),a&&a())};return E.jsx(nP,{isPresent:z,initial:!f.current||r?void 0:!1,custom:t,presenceAffectsLayout:p,mode:b,root:s,onExitComplete:z?void 0:U,anchorX:h,children:j},F)})})},SS=D.createContext({strict:!1}),wb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ra={};for(const e in wb)ra[e]={isEnabled:t=>wb[e].some(r=>!!t[r])};function rP(e){for(const t in e)ra[t]={...ra[t],...e[t]}}const sP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sP.has(e)}let CS=e=>!eu(e);function aP(e){typeof e=="function"&&(CS=t=>t.startsWith("on")?!eu(t):e(t))}try{aP(require("@emotion/is-prop-valid").default)}catch{}function oP(e,t,r){const a={};for(const p in e)p==="values"&&typeof e.values=="object"||(CS(p)||r===!0&&eu(p)||!t&&!eu(p)||e.draggable&&p.startsWith("onDrag"))&&(a[p]=e[p]);return a}const _u=D.createContext({});function Tu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vo(e){return typeof e=="string"||Array.isArray(e)}const cm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],um=["initial",...cm];function ku(e){return Tu(e.animate)||um.some(t=>Vo(e[t]))}function _S(e){return!!(ku(e)||e.variants)}function lP(e,t){if(ku(e)){const{initial:r,animate:a}=e;return{initial:r===!1||Vo(r)?r:void 0,animate:Vo(a)?a:void 0}}return e.inherit!==!1?t:{}}function cP(e){const{initial:t,animate:r}=lP(e,D.useContext(_u));return D.useMemo(()=>({initial:t,animate:r}),[Sb(t),Sb(r)])}function Sb(e){return Array.isArray(e)?e.join(" "):e}const Uo={};function uP(e){for(const t in e)Uo[t]=e[t],qg(t)&&(Uo[t].isCSSVariable=!0)}function TS(e,{layout:t,layoutId:r}){return pa.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Uo[e]||e==="opacity")}const fP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hP=ma.length;function dP(e,t,r){let a="",p=!0;for(let b=0;b<hP;b++){const w=ma[b],h=e[w];if(h===void 0)continue;let s=!0;if(typeof h=="number"?s=h===(w.startsWith("scale")?1:0):s=parseFloat(h)===0,!s||r){const u=mS(h,am[w]);if(!s){p=!1;const d=fP[w]||w;a+=`${d}(${u}) `}r&&(t[w]=u)}}return a=a.trim(),r?a=r(t,p?"":a):p&&(a="none"),a}function fm(e,t,r){const{style:a,vars:p,transformOrigin:b}=e;let w=!1,h=!1;for(const s in t){const u=t[s];if(pa.has(s)){w=!0;continue}else if(qg(s)){p[s]=u;continue}else{const d=mS(u,am[s]);s.startsWith("origin")?(h=!0,b[s]=d):a[s]=d}}if(t.transform||(w||r?a.transform=dP(t,e.transform,r):a.transform&&(a.transform="none")),h){const{originX:s="50%",originY:u="50%",originZ:d=0}=b;a.transformOrigin=`${s} ${u} ${d}`}}const hm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kS(e,t,r){for(const a in t)!Jt(t[a])&&!TS(a,r)&&(e[a]=t[a])}function gP({transformTemplate:e},t){return D.useMemo(()=>{const r=hm();return fm(r,t,e),Object.assign({},r.vars,r.style)},[t])}function mP(e,t){const r=e.style||{},a={};return kS(a,r,e),Object.assign(a,gP(e,t)),a}function pP(e,t){const r={},a=mP(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const vP={offset:"stroke-dashoffset",array:"stroke-dasharray"},yP={offset:"strokeDashoffset",array:"strokeDasharray"};function bP(e,t,r=1,a=0,p=!0){e.pathLength=1;const b=p?vP:yP;e[b.offset]=Ie.transform(-a);const w=Ie.transform(t),h=Ie.transform(r);e[b.array]=`${w} ${h}`}function ES(e,{attrX:t,attrY:r,attrScale:a,pathLength:p,pathSpacing:b=1,pathOffset:w=0,...h},s,u,d){if(fm(e,h,u),s){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:o,style:c}=e;o.transform&&(c.transform=o.transform,delete o.transform),(c.transform||o.transformOrigin)&&(c.transformOrigin=o.transformOrigin??"50% 50%",delete o.transformOrigin),c.transform&&(c.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete o.transformBox),t!==void 0&&(o.x=t),r!==void 0&&(o.y=r),a!==void 0&&(o.scale=a),p!==void 0&&bP(o,p,b,w,!1)}const OS=()=>({...hm(),attrs:{}}),AS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xP(e,t,r,a){const p=D.useMemo(()=>{const b=OS();return ES(b,t,AS(a),e.transformTemplate,e.style),{...b.attrs,style:{...b.style}}},[t]);if(e.style){const b={};kS(b,e.style,e),p.style={...b,...p.style}}return p}const wP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dm(e){return typeof e!="string"||e.includes("-")?!1:!!(wP.indexOf(e)>-1||/[A-Z]/u.test(e))}function SP(e,t,r,{latestValues:a},p,b=!1){const h=(dm(e)?xP:pP)(t,a,p,e),s=oP(t,typeof e=="string",b),u=e!==D.Fragment?{...s,...h,ref:r}:{},{children:d}=t,o=D.useMemo(()=>Jt(d)?d.get():d,[d]);return D.createElement(e,{...u,children:o})}function Cb(e){const t=[{},{}];return e==null||e.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function gm(e,t,r,a){if(typeof t=="function"){const[p,b]=Cb(a);t=t(r!==void 0?r:e.custom,p,b)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[p,b]=Cb(a);t=t(r!==void 0?r:e.custom,p,b)}return t}function Pc(e){return Jt(e)?e.get():e}function CP({scrapeMotionValuesFromProps:e,createRenderState:t},r,a,p){return{latestValues:_P(r,a,p,e),renderState:t()}}function _P(e,t,r,a){const p={},b=a(e,{});for(const c in b)p[c]=Pc(b[c]);let{initial:w,animate:h}=e;const s=ku(e),u=_S(e);t&&u&&!s&&e.inherit!==!1&&(w===void 0&&(w=t.initial),h===void 0&&(h=t.animate));let d=r?r.initial===!1:!1;d=d||w===!1;const o=d?h:w;if(o&&typeof o!="boolean"&&!Tu(o)){const c=Array.isArray(o)?o:[o];for(let f=0;f<c.length;f++){const g=gm(e,c[f]);if(g){const{transitionEnd:y,transition:m,...x}=g;for(const S in x){let _=x[S];if(Array.isArray(_)){const k=d?_.length-1:0;_=_[k]}_!==null&&(p[S]=_)}for(const S in y)p[S]=y[S]}}}return p}const MS=e=>(t,r)=>{const a=D.useContext(_u),p=D.useContext(Su),b=()=>CP(e,t,a,p);return r?b():wu(b)};function mm(e,t,r){var b;const{style:a}=e,p={};for(const w in a)(Jt(a[w])||t.style&&Jt(t.style[w])||TS(w,e)||((b=r==null?void 0:r.getValue(w))==null?void 0:b.liveStyle)!==void 0)&&(p[w]=a[w]);return p}const TP=MS({scrapeMotionValuesFromProps:mm,createRenderState:hm});function DS(e,t,r){const a=mm(e,t,r);for(const p in e)if(Jt(e[p])||Jt(t[p])){const b=ma.indexOf(p)!==-1?"attr"+p.charAt(0).toUpperCase()+p.substring(1):p;a[b]=e[p]}return a}const kP=MS({scrapeMotionValuesFromProps:DS,createRenderState:OS}),EP=Symbol.for("motionComponentSymbol");function Gs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function OP(e,t,r){return D.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):Gs(r)&&(r.current=a))},[t])}const pm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AP="framerAppearId",jS="data-"+pm(AP),RS=D.createContext({});function MP(e,t,r,a,p){var y,m;const{visualElement:b}=D.useContext(_u),w=D.useContext(SS),h=D.useContext(Su),s=D.useContext(Cu).reducedMotion,u=D.useRef(null);a=a||w.renderer,!u.current&&a&&(u.current=a(e,{visualState:t,parent:b,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:s}));const d=u.current,o=D.useContext(RS);d&&!d.projection&&p&&(d.type==="html"||d.type==="svg")&&DP(u.current,r,p,o);const c=D.useRef(!1);D.useInsertionEffect(()=>{d&&c.current&&d.update(r,h)});const f=r[jS],g=D.useRef(!!f&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,f))&&((m=window.MotionHasOptimisedAnimation)==null?void 0:m.call(window,f)));return M1(()=>{d&&(c.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,f)}),g.current=!1),d.enteringChildren=void 0)}),d}function DP(e,t,r,a){const{layoutId:p,layout:b,drag:w,dragConstraints:h,layoutScroll:s,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:PS(e.parent)),e.projection.setOptions({layoutId:p,layout:b,alwaysMeasureLayout:!!w||h&&Gs(h),visualElement:e,animationType:typeof b=="string"?b:"both",initialPromotionConfig:a,crossfade:d,layoutScroll:s,layoutRoot:u})}function PS(e){if(e)return e.options.allowProjection!==!1?e.projection:PS(e.parent)}function cd(e,{forwardMotionProps:t=!1}={},r,a){r&&rP(r);const p=dm(e)?kP:TP;function b(h,s){let u;const d={...D.useContext(Cu),...h,layoutId:jP(h)},{isStatic:o}=d,c=cP(h),f=p(h,o);if(!o&&Ug){RP();const g=PP(d);u=g.MeasureLayout,c.visualElement=MP(e,f,d,a,g.ProjectionNode)}return E.jsxs(_u.Provider,{value:c,children:[u&&c.visualElement?E.jsx(u,{visualElement:c.visualElement,...d}):null,SP(e,h,OP(f,c.visualElement,s),f,o,t)]})}b.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const w=D.forwardRef(b);return w[EP]=e,w}function jP({layoutId:e}){const t=D.useContext(Vg).id;return t&&e!==void 0?t+"-"+e:e}function RP(e,t){D.useContext(SS).strict}function PP(e){const{drag:t,layout:r}=ra;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function LP(e,t){if(typeof Proxy>"u")return cd;const r=new Map,a=(b,w)=>cd(b,w,e,t),p=(b,w)=>a(b,w);return new Proxy(p,{get:(b,w)=>w==="create"?a:(r.has(w)||r.set(w,cd(w,void 0,e,t)),r.get(w))})}function LS({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}function NP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function BP(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function ud(e){return e===void 0||e===1}function Jd({scale:e,scaleX:t,scaleY:r}){return!ud(e)||!ud(t)||!ud(r)}function Hr(e){return Jd(e)||NS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function NS(e){return _b(e.x)||_b(e.y)}function _b(e){return e&&e!=="0%"}function tu(e,t,r){const a=e-r,p=t*a;return r+p}function Tb(e,t,r,a,p){return p!==void 0&&(e=tu(e,p,a)),tu(e,r,a)+t}function eg(e,t=0,r=1,a,p){e.min=Tb(e.min,t,r,a,p),e.max=Tb(e.max,t,r,a,p)}function BS(e,{x:t,y:r}){eg(e.x,t.translate,t.scale,t.originPoint),eg(e.y,r.translate,r.scale,r.originPoint)}const kb=.999999999999,Eb=1.0000000000001;function FP(e,t,r,a=!1){const p=r.length;if(!p)return;t.x=t.y=1;let b,w;for(let h=0;h<p;h++){b=r[h],w=b.projectionDelta;const{visualElement:s}=b.options;s&&s.props.style&&s.props.style.display==="contents"||(a&&b.options.layoutScroll&&b.scroll&&b!==b.root&&qs(e,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),w&&(t.x*=w.x.scale,t.y*=w.y.scale,BS(e,w)),a&&Hr(b.latestValues)&&qs(e,b.latestValues))}t.x<Eb&&t.x>kb&&(t.x=1),t.y<Eb&&t.y>kb&&(t.y=1)}function Ws(e,t){e.min=e.min+t,e.max=e.max+t}function Ob(e,t,r,a,p=.5){const b=vt(e.min,e.max,p);eg(e,t,r,b,a)}function qs(e,t){Ob(e.x,t.x,t.scaleX,t.scale,t.originX),Ob(e.y,t.y,t.scaleY,t.scale,t.originY)}function FS(e,t){return LS(BP(e.getBoundingClientRect(),t))}function zP(e,t,r){const a=FS(e,r),{scroll:p}=t;return p&&(Ws(a.x,p.offset.x),Ws(a.y,p.offset.y)),a}const Ab=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ks=()=>({x:Ab(),y:Ab()}),Mb=()=>({min:0,max:0}),Ct=()=>({x:Mb(),y:Mb()}),tg={current:null},zS={current:!1};function VP(){if(zS.current=!0,!!Ug)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tg.current=e.matches;e.addEventListener("change",t),t()}else tg.current=!1}const UP=new WeakMap;function HP(e,t,r){for(const a in t){const p=t[a],b=r[a];if(Jt(p))e.addValue(a,p);else if(Jt(b))e.addValue(a,Zr(p,{owner:e}));else if(b!==p)if(e.hasValue(a)){const w=e.getValue(a);w.liveStyle===!0?w.jump(p):w.hasAnimated||w.set(p)}else{const w=e.getStaticValue(a);e.addValue(a,Zr(w!==void 0?w:p,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const Db=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IP{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:p,blockInitialAnimation:b,visualState:w},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const c=yn.now();this.renderScheduledAt<c&&(this.renderScheduledAt=c,mt.render(this.render,!1,!0))};const{latestValues:s,renderState:u}=w;this.latestValues=s,this.baseTarget={...s},this.initialValues=r.initial?{...s}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=p,this.options=h,this.blockInitialAnimation=!!b,this.isControllingVariants=ku(r),this.isVariantNode=_S(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...o}=this.scrapeMotionValuesFromProps(r,{},this);for(const c in o){const f=o[c];s[c]!==void 0&&Jt(f)&&f.set(s[c])}}mount(t){var r;this.current=t,UP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,p)=>this.bindToMotionValue(p,a)),zS.current||VP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tg.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),vr(this.notifyUpdate),vr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const a=this.features[r];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=pa.has(t);a&&this.onBindTransform&&this.onBindTransform();const p=r.on("change",w=>{this.latestValues[t]=w,this.props.onUpdate&&mt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let b;window.MotionCheckAppearSync&&(b=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{p(),b&&b(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ra){const r=ra[t];if(!r)continue;const{isEnabled:a,Feature:p}=r;if(!this.features[t]&&p&&a(this.props)&&(this.features[t]=new p(this)),this.features[t]){const b=this.features[t];b.isMounted?b.update():(b.mount(),b.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<Db.length;a++){const p=Db[a];this.propEventSubscriptions[p]&&(this.propEventSubscriptions[p](),delete this.propEventSubscriptions[p]);const b="on"+p,w=t[b];w&&(this.propEventSubscriptions[p]=this.on(p,w))}this.prevMotionValues=HP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Zr(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(D1(a)||R1(a))?a=parseFloat(a):!JR(a)&&yr.test(r)&&(a=gS(t,r)),this.setBaseTarget(t,Jt(a)?a.get():a)),Jt(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var b;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const w=gm(this.props,r,(b=this.presenceContext)==null?void 0:b.custom);w&&(a=w[t])}if(r&&a!==void 0)return a;const p=this.getBaseTargetFromProps(this.props,t);return p!==void 0&&!Jt(p)?p:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new $g),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){om.render(this.render)}}class VS extends IP{constructor(){super(...arguments),this.KeyframeResolver=UR}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function US(e,{style:t,vars:r},a,p){const b=e.style;let w;for(w in t)b[w]=t[w];p==null||p.applyProjectionStyles(b,a);for(w in r)b.setProperty(w,r[w])}function YP(e){return window.getComputedStyle(e)}class XP extends VS{constructor(){super(...arguments),this.type="html",this.renderInstance=US}readValueFromInstance(t,r){var a;if(pa.has(r))return(a=this.projection)!=null&&a.isProjecting?$d(r):aR(t,r);{const p=YP(t),b=(qg(r)?p.getPropertyValue(r):p[r])||0;return typeof b=="string"?b.trim():b}}measureInstanceViewportBox(t,{transformPagePoint:r}){return FS(t,r)}build(t,r,a){fm(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return mm(t,r,a)}}const HS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $P(e,t,r,a){US(e,t,void 0,a);for(const p in t.attrs)e.setAttribute(HS.has(p)?p:pm(p),t.attrs[p])}class GP extends VS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(pa.has(r)){const a=dS(r);return a&&a.default||0}return r=HS.has(r)?r:pm(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return DS(t,r,a)}build(t,r,a){ES(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,p){$P(t,r,a,p)}mount(t){this.isSVGTag=AS(t.tagName),super.mount(t)}}const WP=(e,t)=>dm(e)?new GP(t):new XP(t,{allowProjection:e!==D.Fragment});function ea(e,t,r){const a=e.getProps();return gm(a,t,r!==void 0?r:a.custom,e)}const ng=e=>Array.isArray(e);function qP(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Zr(r))}function KP(e){return ng(e)?e[e.length-1]||0:e}function ZP(e,t){const r=ea(e,t);let{transitionEnd:a={},transition:p={},...b}=r||{};b={...b,...a};for(const w in b){const h=KP(b[w]);qP(e,w,h)}}function QP(e){return!!(Jt(e)&&e.add)}function ig(e,t){const r=e.getValue("willChange");if(QP(r))return r.add(t);if(!r&&Ui.WillChange){const a=new Ui.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function IS(e){return e.props[jS]}const JP=e=>e!==null;function eL(e,{repeat:t,repeatType:r="loop"},a){const p=e.filter(JP),b=t&&r!=="loop"&&t%2===1?0:p.length-1;return p[b]}const tL={type:"spring",stiffness:500,damping:25,restSpeed:10},nL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iL={type:"keyframes",duration:.8},rL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sL=(e,{keyframes:t})=>t.length>2?iL:pa.has(e)?e.startsWith("scale")?nL(t[1]):tL:rL;function aL({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:p,repeat:b,repeatType:w,repeatDelay:h,from:s,elapsed:u,...d}){return!!Object.keys(d).length}const vm=(e,t,r,a={},p,b)=>w=>{const h=sm(a,e)||{},s=h.delay||a.delay||0;let{elapsed:u=0}=a;u=u-ci(s);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-u,onUpdate:c=>{t.set(c),h.onUpdate&&h.onUpdate(c)},onComplete:()=>{w(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:b?void 0:p};aL(h)||Object.assign(d,sL(e,d)),d.duration&&(d.duration=ci(d.duration)),d.repeatDelay&&(d.repeatDelay=ci(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let o=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Zd(d),d.delay===0&&(o=!0)),(Ui.instantAnimations||Ui.skipAnimations)&&(o=!0,Zd(d),d.delay=0),d.allowFlatten=!h.type&&!h.ease,o&&!b&&t.get()!==void 0){const c=eL(d.keyframes,h);if(c!==void 0){mt.update(()=>{d.onUpdate(c),d.onComplete()});return}}return h.isSync?new im(d):new AR(d)};function oL({protectedKeys:e,needsAnimating:t},r){const a=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function YS(e,t,{delay:r=0,transitionOverride:a,type:p}={}){let{transition:b=e.getDefaultTransition(),transitionEnd:w,...h}=t;a&&(b=a);const s=[],u=p&&e.animationState&&e.animationState.getState()[p];for(const d in h){const o=e.getValue(d,e.latestValues[d]??null),c=h[d];if(c===void 0||u&&oL(u,d))continue;const f={delay:r,...sm(b||{},d)},g=o.get();if(g!==void 0&&!o.isAnimating&&!Array.isArray(c)&&c===g&&!f.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const x=IS(e);if(x){const S=window.MotionHandoffAnimation(x,d,mt);S!==null&&(f.startTime=S,y=!0)}}ig(e,d),o.start(vm(d,o,c,e.shouldReduceMotion&&uS.has(d)?{type:!1}:f,e,y));const m=o.animation;m&&s.push(m)}return w&&Promise.all(s).then(()=>{mt.update(()=>{w&&ZP(e,w)})}),s}function XS(e,t,r,a=0,p=1){const b=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),w=e.size,h=(w-1)*a;return typeof r=="function"?r(b,w):p===1?b*a:h-b*a}function rg(e,t,r={}){var s;const a=ea(e,t,r.type==="exit"?(s=e.presenceContext)==null?void 0:s.custom:void 0);let{transition:p=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(p=r.transitionOverride);const b=a?()=>Promise.all(YS(e,a,r)):()=>Promise.resolve(),w=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:o,staggerDirection:c}=p;return lL(e,t,u,d,o,c,r)}:()=>Promise.resolve(),{when:h}=p;if(h){const[u,d]=h==="beforeChildren"?[b,w]:[w,b];return u().then(()=>d())}else return Promise.all([b(),w(r.delay)])}function lL(e,t,r=0,a=0,p=0,b=1,w){const h=[];for(const s of e.variantChildren)s.notify("AnimationStart",t),h.push(rg(s,t,{...w,delay:r+(typeof a=="function"?0:a)+XS(e.variantChildren,s,a,p,b)}).then(()=>s.notify("AnimationComplete",t)));return Promise.all(h)}function cL(e,t,r={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const p=t.map(b=>rg(e,b,r));a=Promise.all(p)}else if(typeof t=="string")a=rg(e,t,r);else{const p=typeof t=="function"?ea(e,t,r.custom):t;a=Promise.all(YS(e,p,r))}return a.then(()=>{e.notify("AnimationComplete",t)})}function $S(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}const uL=um.length;function GS(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?GS(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<uL;r++){const a=um[r],p=e.props[a];(Vo(p)||p===!1)&&(t[a]=p)}return t}const fL=[...cm].reverse(),hL=cm.length;function dL(e){return t=>Promise.all(t.map(({animation:r,options:a})=>cL(e,r,a)))}function gL(e){let t=dL(e),r=jb(),a=!0;const p=s=>(u,d)=>{var c;const o=ea(e,d,s==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);if(o){const{transition:f,transitionEnd:g,...y}=o;u={...u,...y,...g}}return u};function b(s){t=s(e)}function w(s){const{props:u}=e,d=GS(e.parent)||{},o=[],c=new Set;let f={},g=1/0;for(let m=0;m<hL;m++){const x=fL[m],S=r[x],_=u[x]!==void 0?u[x]:d[x],k=Vo(_),O=x===s?S.isActive:null;O===!1&&(g=m);let j=_===d[x]&&_!==u[x]&&k;if(j&&a&&e.manuallyAnimateOnMount&&(j=!1),S.protectedKeys={...f},!S.isActive&&O===null||!_&&!S.prevProp||Tu(_)||typeof _=="boolean")continue;const F=mL(S.prevProp,_);let z=F||x===s&&S.isActive&&!j&&k||m>g&&k,U=!1;const G=Array.isArray(_)?_:[_];let ie=G.reduce(p(x),{});O===!1&&(ie={});const{prevResolvedValues:se={}}=S,ue={...se,...ie},le=W=>{z=!0,c.has(W)&&(U=!0,c.delete(W)),S.needsAnimating[W]=!0;const Y=e.getValue(W);Y&&(Y.liveStyle=!1)};for(const W in ue){const Y=ie[W],P=se[W];if(f.hasOwnProperty(W))continue;let A=!1;ng(Y)&&ng(P)?A=!$S(Y,P):A=Y!==P,A?Y!=null?le(W):c.add(W):Y!==void 0&&c.has(W)?le(W):S.protectedKeys[W]=!0}S.prevProp=_,S.prevResolvedValues=ie,S.isActive&&(f={...f,...ie}),a&&e.blockInitialAnimation&&(z=!1);const ee=j&&F;z&&(!ee||U)&&o.push(...G.map(W=>{const Y={type:x};if(typeof W=="string"&&a&&!ee&&e.manuallyAnimateOnMount&&e.parent){const{parent:P}=e,A=ea(P,W);if(P.enteringChildren&&A){const{delayChildren:M}=A.transition||{};Y.delay=XS(P.enteringChildren,e,M)}}return{animation:W,options:Y}}))}if(c.size){const m={};if(typeof u.initial!="boolean"){const x=ea(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(m.transition=x.transition)}c.forEach(x=>{const S=e.getBaseTarget(x),_=e.getValue(x);_&&(_.liveStyle=!0),m[x]=S??null}),o.push({animation:m})}let y=!!o.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),a=!1,y?t(o):Promise.resolve()}function h(s,u){var o;if(r[s].isActive===u)return Promise.resolve();(o=e.variantChildren)==null||o.forEach(c=>{var f;return(f=c.animationState)==null?void 0:f.setActive(s,u)}),r[s].isActive=u;const d=w(s);for(const c in r)r[c].protectedKeys={};return d}return{animateChanges:w,setActive:h,setAnimateFunction:b,getState:()=>r,reset:()=>{r=jb(),a=!0}}}function mL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$S(t,e):!1}function Ur(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jb(){return{animate:Ur(!0),whileInView:Ur(),whileHover:Ur(),whileTap:Ur(),whileDrag:Ur(),whileFocus:Ur(),exit:Ur()}}class xr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class pL extends xr{constructor(t){super(t),t.animationState||(t.animationState=gL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Tu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let vL=0;class yL extends xr{constructor(){super(...arguments),this.id=vL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const p=this.node.animationState.setActive("exit",!t);r&&!t&&p.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const bL={animation:{Feature:pL},exit:{Feature:yL}};function Ho(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}function sl(e){return{point:{x:e.pageX,y:e.pageY}}}const xL=e=>t=>lm(t)&&e(t,sl(t));function Ao(e,t,r,a){return Ho(e,t,xL(r),a)}const WS=1e-4,wL=1-WS,SL=1+WS,qS=.01,CL=0-qS,_L=0+qS;function on(e){return e.max-e.min}function TL(e,t,r){return Math.abs(e-t)<=r}function Rb(e,t,r,a=.5){e.origin=a,e.originPoint=vt(t.min,t.max,e.origin),e.scale=on(r)/on(t),e.translate=vt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wL&&e.scale<=SL||isNaN(e.scale))&&(e.scale=1),(e.translate>=CL&&e.translate<=_L||isNaN(e.translate))&&(e.translate=0)}function Mo(e,t,r,a){Rb(e.x,t.x,r.x,a?a.originX:void 0),Rb(e.y,t.y,r.y,a?a.originY:void 0)}function Pb(e,t,r){e.min=r.min+t.min,e.max=e.min+on(t)}function kL(e,t,r){Pb(e.x,t.x,r.x),Pb(e.y,t.y,r.y)}function Lb(e,t,r){e.min=t.min-r.min,e.max=e.min+on(t)}function Do(e,t,r){Lb(e.x,t.x,r.x),Lb(e.y,t.y,r.y)}function Un(e){return[e("x"),e("y")]}const KS=({current:e})=>e?e.ownerDocument.defaultView:null,Nb=(e,t)=>Math.abs(e-t);function EL(e,t){const r=Nb(e.x,t.x),a=Nb(e.y,t.y);return Math.sqrt(r**2+a**2)}class ZS{constructor(t,r,{transformPagePoint:a,contextWindow:p=window,dragSnapToOrigin:b=!1,distanceThreshold:w=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=hd(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=EL(c.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:y}=c,{timestamp:m}=$t;this.history.push({...y,timestamp:m});const{onStart:x,onMove:S}=this.handlers;f||(x&&x(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=fd(f,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=hd(c.type==="pointercancel"?this.lastMoveEventInfo:fd(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(c,x),y&&y(c,x)},!lm(t))return;this.dragSnapToOrigin=b,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=w,this.contextWindow=p||window;const h=sl(t),s=fd(h,this.transformPagePoint),{point:u}=s,{timestamp:d}=$t;this.history=[{...u,timestamp:d}];const{onSessionStart:o}=r;o&&o(t,hd(s,this.history)),this.removeListeners=nl(Ao(this.contextWindow,"pointermove",this.handlePointerMove),Ao(this.contextWindow,"pointerup",this.handlePointerUp),Ao(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vr(this.updatePoint)}}function fd(e,t){return t?{point:t(e.point)}:e}function Bb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hd({point:e},t){return{point:e,delta:Bb(e,QS(t)),offset:Bb(e,OL(t)),velocity:AL(t,.1)}}function OL(e){return e[0]}function QS(e){return e[e.length-1]}function AL(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const p=QS(e);for(;r>=0&&(a=e[r],!(p.timestamp-a.timestamp>ci(t)));)r--;if(!a)return{x:0,y:0};const b=ui(p.timestamp-a.timestamp);if(b===0)return{x:0,y:0};const w={x:(p.x-a.x)/b,y:(p.y-a.y)/b};return w.x===1/0&&(w.x=0),w.y===1/0&&(w.y=0),w}function ML(e,{min:t,max:r},a){return t!==void 0&&e<t?e=a?vt(t,e,a.min):Math.max(e,t):r!==void 0&&e>r&&(e=a?vt(r,e,a.max):Math.min(e,r)),e}function Fb(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function DL(e,{top:t,left:r,bottom:a,right:p}){return{x:Fb(e.x,r,p),y:Fb(e.y,t,a)}}function zb(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function jL(e,t){return{x:zb(e.x,t.x),y:zb(e.y,t.y)}}function RL(e,t){let r=.5;const a=on(e),p=on(t);return p>a?r=Bo(t.min,t.max-a,e.min):a>p&&(r=Bo(e.min,e.max-p,t.min)),Vi(0,1,r)}function PL(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const sg=.35;function LL(e=sg){return e===!1?e=0:e===!0&&(e=sg),{x:Vb(e,"left","right"),y:Vb(e,"top","bottom")}}function Vb(e,t,r){return{min:Ub(e,t),max:Ub(e,r)}}function Ub(e,t){return typeof e=="number"?e:e[t]||0}const NL=new WeakMap;class BL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:p}=this.visualElement;if(p&&p.isPresent===!1)return;const b=o=>{const{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(sl(o).point)},w=(o,c)=>{const{drag:f,dragPropagation:g,onDragStart:y}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XR(f),!this.openDragLock))return;this.latestPointerEvent=o,this.latestPanInfo=c,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(x=>{let S=this.getAxisMotionValue(x).get()||0;if(fi.test(S)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[x];k&&(S=on(k)*(parseFloat(S)/100))}}this.originPoint[x]=S}),y&&mt.postRender(()=>y(o,c)),ig(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},h=(o,c)=>{this.latestPointerEvent=o,this.latestPanInfo=c;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:y,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=c;if(g&&this.currentDirection===null){this.currentDirection=FL(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",c.point,x),this.updateAxis("y",c.point,x),this.visualElement.render(),m&&m(o,c)},s=(o,c)=>{this.latestPointerEvent=o,this.latestPanInfo=c,this.stop(o,c),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Un(o=>{var c;return this.getAnimationState(o)==="paused"&&((c=this.getAxisMotionValue(o).animation)==null?void 0:c.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new ZS(t,{onSessionStart:b,onStart:w,onMove:h,onSessionEnd:s,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:a,contextWindow:KS(this.visualElement)})}stop(t,r){const a=t||this.latestPointerEvent,p=r||this.latestPanInfo,b=this.isDragging;if(this.cancel(),!b||!p||!a)return;const{velocity:w}=p;this.startAnimation(w);const{onDragEnd:h}=this.getProps();h&&mt.postRender(()=>h(a,p))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:p}=this.getProps();if(!a||!Tc(t,p,this.currentDirection))return;const b=this.getAxisMotionValue(t);let w=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(w=ML(w,this.constraints[t],this.elastic[t])),b.set(w)}resolveConstraints(){var b;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(b=this.visualElement.projection)==null?void 0:b.layout,p=this.constraints;t&&Gs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=DL(a.layoutBox,t):this.constraints=!1,this.elastic=LL(r),p!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Un(w=>{this.constraints!==!1&&this.getAxisMotionValue(w)&&(this.constraints[w]=PL(a.layoutBox[w],this.constraints[w]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Gs(t))return!1;const a=t.current,{projection:p}=this.visualElement;if(!p||!p.layout)return!1;const b=zP(a,p.root,this.visualElement.getTransformPagePoint());let w=jL(p.layout.layoutBox,b);if(r){const h=r(NP(w));this.hasMutatedConstraints=!!h,h&&(w=LS(h))}return w}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:p,dragTransition:b,dragSnapToOrigin:w,onDragTransitionEnd:h}=this.getProps(),s=this.constraints||{},u=Un(d=>{if(!Tc(d,r,this.currentDirection))return;let o=s&&s[d]||{};w&&(o={min:0,max:0});const c=p?200:1e6,f=p?40:1e7,g={type:"inertia",velocity:a?t[d]:0,bounceStiffness:c,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...b,...o};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(h)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return ig(this.visualElement,t),a.start(vm(t,a,0,r,this.visualElement,!1))}stopAnimation(){Un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Un(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),p=a[r];return p||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Un(r=>{const{drag:a}=this.getProps();if(!Tc(r,a,this.currentDirection))return;const{projection:p}=this.visualElement,b=this.getAxisMotionValue(r);if(p&&p.layout){const{min:w,max:h}=p.layout.layoutBox[r];b.set(t[r]-vt(w,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!Gs(r)||!a||!this.constraints)return;this.stopAnimation();const p={x:0,y:0};Un(w=>{const h=this.getAxisMotionValue(w);if(h&&this.constraints!==!1){const s=h.get();p[w]=RL({min:s,max:s},this.constraints[w])}});const{transformTemplate:b}=this.visualElement.getProps();this.visualElement.current.style.transform=b?b({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Un(w=>{if(!Tc(w,t,null))return;const h=this.getAxisMotionValue(w),{min:s,max:u}=this.constraints[w];h.set(vt(s,u,p[w]))})}addListeners(){if(!this.visualElement.current)return;NL.set(this.visualElement,this);const t=this.visualElement.current,r=Ao(t,"pointerdown",s=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(s)}),a=()=>{const{dragConstraints:s}=this.getProps();Gs(s)&&s.current&&(this.constraints=this.resolveRefConstraints())},{projection:p}=this.visualElement,b=p.addEventListener("measure",a);p&&!p.layout&&(p.root&&p.root.updateScroll(),p.updateLayout()),mt.read(a);const w=Ho(window,"resize",()=>this.scalePositionWithinConstraints()),h=p.addEventListener("didUpdate",({delta:s,hasLayoutChanged:u})=>{this.isDragging&&u&&(Un(d=>{const o=this.getAxisMotionValue(d);o&&(this.originPoint[d]+=s[d].translate,o.set(o.get()+s[d].translate))}),this.visualElement.render())});return()=>{w(),r(),b(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:p=!1,dragConstraints:b=!1,dragElastic:w=sg,dragMomentum:h=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:p,dragConstraints:b,dragElastic:w,dragMomentum:h}}}function Tc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function FL(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class zL extends xr{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new BL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hb=e=>(t,r)=>{e&&mt.postRender(()=>e(t,r))};class VL extends xr{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new ZS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:p}=this.node.getProps();return{onSessionStart:Hb(t),onStart:Hb(r),onMove:a,onEnd:(b,w)=>{delete this.session,p&&mt.postRender(()=>p(b,w))}}}mount(){this.removePointerDownListener=Ao(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ib(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const r=Ib(e,t.target.x),a=Ib(e,t.target.y);return`${r}% ${a}%`}},UL={correct:(e,{treeScale:t,projectionDelta:r})=>{const a=e,p=yr.parse(e);if(p.length>5)return a;const b=yr.createTransformer(e),w=typeof p[0]!="number"?1:0,h=r.x.scale*t.x,s=r.y.scale*t.y;p[0+w]/=h,p[1+w]/=s;const u=vt(h,s,.5);return typeof p[2+w]=="number"&&(p[2+w]/=u),typeof p[3+w]=="number"&&(p[3+w]/=u),b(p)}};let dd=!1;class HL extends D.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:p}=this.props,{projection:b}=t;uP(IL),b&&(r.group&&r.group.add(b),a&&a.register&&p&&a.register(b),dd&&b.root.didUpdate(),b.addEventListener("animationComplete",()=>{this.safeToRemove()}),b.setOptions({...b.options,onExitComplete:()=>this.safeToRemove()})),Lc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:p,isPresent:b}=this.props,{projection:w}=a;return w&&(w.isPresent=b,dd=!0,p||t.layoutDependency!==r||r===void 0||t.isPresent!==b?w.willUpdate():this.safeToRemove(),t.isPresent!==b&&(b?w.promote():w.relegate()||mt.postRender(()=>{const h=w.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),om.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:p}=t;dd=!0,p&&(p.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(p),a&&a.deregister&&a.deregister(p))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function JS(e){const[t,r]=wS(),a=D.useContext(Vg);return E.jsx(HL,{...e,layoutGroup:a,switchLayoutGroup:D.useContext(RS),isPresent:t,safeToRemove:r})}const IL={borderRadius:{...yo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yo,borderTopRightRadius:yo,borderBottomLeftRadius:yo,borderBottomRightRadius:yo,boxShadow:UL};function YL(e,t,r){const a=Jt(e)?e:Zr(e);return a.start(vm("",a,t,r)),a.animation}const XL=(e,t)=>e.depth-t.depth;class $L{constructor(){this.children=[],this.isDirty=!1}add(t){Hg(this.children,t),this.isDirty=!0}remove(t){Ig(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(XL),this.isDirty=!1,this.children.forEach(t)}}function GL(e,t){const r=yn.now(),a=({timestamp:p})=>{const b=p-r;b>=t&&(vr(a),e(b-t))};return mt.setup(a,!0),()=>vr(a)}const e2=["TopLeft","TopRight","BottomLeft","BottomRight"],WL=e2.length,Yb=e=>typeof e=="string"?parseFloat(e):e,Xb=e=>typeof e=="number"||Ie.test(e);function qL(e,t,r,a,p,b){p?(e.opacity=vt(0,r.opacity??1,KL(a)),e.opacityExit=vt(t.opacity??1,0,ZL(a))):b&&(e.opacity=vt(t.opacity??1,r.opacity??1,a));for(let w=0;w<WL;w++){const h=`border${e2[w]}Radius`;let s=$b(t,h),u=$b(r,h);if(s===void 0&&u===void 0)continue;s||(s=0),u||(u=0),s===0||u===0||Xb(s)===Xb(u)?(e[h]=Math.max(vt(Yb(s),Yb(u),a),0),(fi.test(u)||fi.test(s))&&(e[h]+="%")):e[h]=u}(t.rotate||r.rotate)&&(e.rotate=vt(t.rotate||0,r.rotate||0,a))}function $b(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const KL=t2(0,.5,U1),ZL=t2(.5,.95,Hn);function t2(e,t,r){return a=>a<e?0:a>t?1:r(Bo(e,t,a))}function Gb(e,t){e.min=t.min,e.max=t.max}function Vn(e,t){Gb(e.x,t.x),Gb(e.y,t.y)}function Wb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qb(e,t,r,a,p){return e-=t,e=tu(e,1/r,a),p!==void 0&&(e=tu(e,1/p,a)),e}function QL(e,t=0,r=1,a=.5,p,b=e,w=e){if(fi.test(t)&&(t=parseFloat(t),t=vt(w.min,w.max,t/100)-w.min),typeof t!="number")return;let h=vt(b.min,b.max,a);e===b&&(h-=t),e.min=qb(e.min,t,r,h,p),e.max=qb(e.max,t,r,h,p)}function Kb(e,t,[r,a,p],b,w){QL(e,t[r],t[a],t[p],t.scale,b,w)}const JL=["x","scaleX","originX"],e5=["y","scaleY","originY"];function Zb(e,t,r,a){Kb(e.x,t,JL,r?r.x:void 0,a?a.x:void 0),Kb(e.y,t,e5,r?r.y:void 0,a?a.y:void 0)}function Qb(e){return e.translate===0&&e.scale===1}function n2(e){return Qb(e.x)&&Qb(e.y)}function Jb(e,t){return e.min===t.min&&e.max===t.max}function t5(e,t){return Jb(e.x,t.x)&&Jb(e.y,t.y)}function ex(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function i2(e,t){return ex(e.x,t.x)&&ex(e.y,t.y)}function tx(e){return on(e.x)/on(e.y)}function nx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class n5{constructor(){this.members=[]}add(t){Hg(this.members,t),t.scheduleRender()}remove(t){if(Ig(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(p=>t===p);if(r===0)return!1;let a;for(let p=r;p>=0;p--){const b=this.members[p];if(b.isPresent!==!1){a=b;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:p}=t.options;p===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i5(e,t,r){let a="";const p=e.x.translate/t.x,b=e.y.translate/t.y,w=(r==null?void 0:r.z)||0;if((p||b||w)&&(a=`translate3d(${p}px, ${b}px, ${w}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:o,rotateY:c,skewX:f,skewY:g}=r;u&&(a=`perspective(${u}px) ${a}`),d&&(a+=`rotate(${d}deg) `),o&&(a+=`rotateX(${o}deg) `),c&&(a+=`rotateY(${c}deg) `),f&&(a+=`skewX(${f}deg) `),g&&(a+=`skewY(${g}deg) `)}const h=e.x.scale*t.x,s=e.y.scale*t.y;return(h!==1||s!==1)&&(a+=`scale(${h}, ${s})`),a||"none"}const gd=["","X","Y","Z"],r5=1e3;let s5=0;function md(e,t,r,a){const{latestValues:p}=t;p[e]&&(r[e]=p[e],t.setStaticValue(e,0),a&&(a[e]=0))}function r2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=IS(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:p,layoutId:b}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",mt,!(p||b))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&r2(a)}function s2({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:p}){return class{constructor(w={},h=t==null?void 0:t()){this.id=s5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(l5),this.nodes.forEach(h5),this.nodes.forEach(d5),this.nodes.forEach(c5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=w,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new $L)}addEventListener(w,h){return this.eventHandlers.has(w)||this.eventHandlers.set(w,new $g),this.eventHandlers.get(w).add(h)}notifyListeners(w,...h){const s=this.eventHandlers.get(w);s&&s.notify(...h)}hasListeners(w){return this.eventHandlers.has(w)}mount(w){if(this.instance)return;this.isSVG=xS(w)&&!ZR(w),this.instance=w;const{layoutId:h,layout:s,visualElement:u}=this.options;if(u&&!u.current&&u.mount(w),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||h)&&(this.isLayoutDirty=!0),e){let d,o=0;const c=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{o=window.innerWidth}),e(w,()=>{const f=window.innerWidth;f!==o&&(o=f,this.root.updateBlockedByResize=!0,d&&d(),d=GL(c,250),Lc.hasAnimatedSinceResize&&(Lc.hasAnimatedSinceResize=!1,this.nodes.forEach(sx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&u&&(h||s)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:o,hasRelativeLayoutChanged:c,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||y5,{onLayoutAnimationStart:y,onLayoutAnimationComplete:m}=u.getProps(),x=!this.targetLayout||!i2(this.targetLayout,f),S=!o&&c;if(this.options.layoutRoot||this.resumeFrom||S||o&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...sm(g,"layout"),onPlay:y,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(d,S)}else o||sx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const w=this.getStack();w&&w.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g5),this.animationId++)}getTransformTemplate(){const{visualElement:w}=this.options;return w&&w.getProps().transformTemplate}willUpdate(w=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const o=this.path[d];o.shouldResetTransform=!0,o.updateScroll("snapshot"),o.options.layoutRoot&&o.willUpdate(!1)}const{layoutId:h,layout:s}=this.options;if(h===void 0&&!s)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),w&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ix);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f5),this.nodes.forEach(a5),this.nodes.forEach(o5)):this.nodes.forEach(rx),this.clearAllSnapshots();const h=yn.now();$t.delta=Vi(0,1e3/60,h-$t.timestamp),$t.timestamp=h,$t.isProcessing=!0,rd.update.process($t),rd.preRender.process($t),rd.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,om.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u5),this.sharedNodes.forEach(m5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const w=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,w?w.layoutBox:void 0)}updateScroll(w="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===w&&(h=!1),h&&this.instance){const s=a(this.instance);this.scroll={animationId:this.root.animationId,phase:w,isRoot:s,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:s}}}resetTransform(){if(!p)return;const w=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!n2(this.projectionDelta),s=this.getTransformTemplate(),u=s?s(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;w&&this.instance&&(h||Hr(this.latestValues)||d)&&(p(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(w=!0){const h=this.measurePageBox();let s=this.removeElementScroll(h);return w&&(s=this.removeTransform(s)),b5(s),{animationId:this.root.animationId,measuredBox:h,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:w}=this.options;if(!w)return Ct();const h=w.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(x5))){const{scroll:d}=this.root;d&&(Ws(h.x,d.offset.x),Ws(h.y,d.offset.y))}return h}removeElementScroll(w){var s;const h=Ct();if(Vn(h,w),(s=this.scroll)!=null&&s.wasRoot)return h;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:o,options:c}=d;d!==this.root&&o&&c.layoutScroll&&(o.wasRoot&&Vn(h,w),Ws(h.x,o.offset.x),Ws(h.y,o.offset.y))}return h}applyTransform(w,h=!1){const s=Ct();Vn(s,w);for(let u=0;u<this.path.length;u++){const d=this.path[u];!h&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qs(s,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hr(d.latestValues)&&qs(s,d.latestValues)}return Hr(this.latestValues)&&qs(s,this.latestValues),s}removeTransform(w){const h=Ct();Vn(h,w);for(let s=0;s<this.path.length;s++){const u=this.path[s];if(!u.instance||!Hr(u.latestValues))continue;Jd(u.latestValues)&&u.updateSnapshot();const d=Ct(),o=u.measurePageBox();Vn(d,o),Zb(h,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Hr(this.latestValues)&&Zb(h,this.latestValues),h}setTargetDelta(w){this.targetDelta=w,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(w){this.options={...this.options,...w,crossfade:w.crossfade!==void 0?w.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(w=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const s=!!this.resumingFrom||this!==h;if(!(w||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(c=this.parent)!=null&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:o}=this.options;if(!(!this.layout||!(d||o))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Do(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),BS(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Do(this.relativeTargetOrigin,this.target,f.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jd(this.parent.latestValues)||NS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const w=this.getLead(),h=!!this.resumingFrom||this!==w;let s=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(s=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(s=!1),s)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Vn(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,c=this.treeScale.y;FP(this.layoutCorrected,this.treeScale,this.path,h),w.layout&&!w.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(w.target=w.layout.layoutBox,w.targetWithTransforms=Ct());const{target:f}=w;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wb(this.prevProjectionDelta.x,this.projectionDelta.x),Wb(this.prevProjectionDelta.y,this.projectionDelta.y)),Mo(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==o||this.treeScale.y!==c||!nx(this.projectionDelta.x,this.prevProjectionDelta.x)||!nx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(w=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),w){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ks(),this.projectionDelta=Ks(),this.projectionDeltaWithTransform=Ks()}setAnimationOrigin(w,h=!1){const s=this.snapshot,u=s?s.latestValues:{},d={...this.latestValues},o=Ks();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const c=Ct(),f=s?s.source:void 0,g=this.layout?this.layout.source:void 0,y=f!==g,m=this.getStack(),x=!m||m.members.length<=1,S=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(v5));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const O=k/1e3;ax(o.x,w.x,O),ax(o.y,w.y,O),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Do(c,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p5(this.relativeTarget,this.relativeTargetOrigin,c,O),_&&t5(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ct()),Vn(_,this.relativeTarget)),y&&(this.animationValues=d,qL(d,u,this.latestValues,O,S,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(w){var h,s,u;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(u=(s=this.resumingFrom)==null?void 0:s.currentAnimation)==null||u.stop(),this.pendingAnimation&&(vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{Lc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zr(0)),this.currentAnimation=YL(this.motionValue,[0,1e3],{...w,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),w.onUpdate&&w.onUpdate(d)},onStop:()=>{},onComplete:()=>{w.onComplete&&w.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const w=this.getStack();w&&w.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(r5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const w=this.getLead();let{targetWithTransforms:h,target:s,layout:u,latestValues:d}=w;if(!(!h||!s||!u)){if(this!==w&&this.layout&&u&&a2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){s=this.target||Ct();const o=on(this.layout.layoutBox.x);s.x.min=w.target.x.min,s.x.max=s.x.min+o;const c=on(this.layout.layoutBox.y);s.y.min=w.target.y.min,s.y.max=s.y.min+c}Vn(h,s),qs(h,d),Mo(this.projectionDeltaWithTransform,this.layoutCorrected,h,d)}}registerSharedNode(w,h){this.sharedNodes.has(w)||this.sharedNodes.set(w,new n5),this.sharedNodes.get(w).add(h);const u=h.options.initialPromotionConfig;h.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(h):void 0})}isLead(){const w=this.getStack();return w?w.lead===this:!0}getLead(){var h;const{layoutId:w}=this.options;return w?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:w}=this.options;return w?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:w}=this.options;if(w)return this.root.sharedNodes.get(w)}promote({needsReset:w,transition:h,preserveFollowOpacity:s}={}){const u=this.getStack();u&&u.promote(this,s),w&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const w=this.getStack();return w?w.relegate(this):!1}resetSkewAndRotation(){const{visualElement:w}=this.options;if(!w)return;let h=!1;const{latestValues:s}=w;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(h=!0),!h)return;const u={};s.z&&md("z",w,u,this.animationValues);for(let d=0;d<gd.length;d++)md(`rotate${gd[d]}`,w,u,this.animationValues),md(`skew${gd[d]}`,w,u,this.animationValues);w.render();for(const d in u)w.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);w.scheduleRender()}applyProjectionStyles(w,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){w.visibility="hidden";return}const s=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,w.visibility="",w.opacity="",w.pointerEvents=Pc(h==null?void 0:h.pointerEvents)||"",w.transform=s?s(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Pc(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Hr(this.latestValues)&&(w.transform=s?s({},""):"none",this.hasProjected=!1);return}w.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let o=i5(this.projectionDeltaWithTransform,this.treeScale,d);s&&(o=s(d,o)),w.transform=o;const{x:c,y:f}=this.projectionDelta;w.transformOrigin=`${c.origin*100}% ${f.origin*100}% 0`,u.animationValues?w.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:w.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Uo){if(d[g]===void 0)continue;const{correct:y,applyTo:m,isCSSVariable:x}=Uo[g],S=o==="none"?d[g]:y(d[g],u);if(m){const _=m.length;for(let k=0;k<_;k++)w[m[k]]=S}else x?this.options.visualElement.renderState.vars[g]=S:w[g]=S}this.options.layoutId&&(w.pointerEvents=u===this?Pc(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(w=>{var h;return(h=w.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(ix),this.root.sharedNodes.clear()}}}function a5(e){e.updateLayout()}function o5(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:p}=e.layout,{animationType:b}=e.options,w=t.source!==e.layout.source;b==="size"?Un(o=>{const c=w?t.measuredBox[o]:t.layoutBox[o],f=on(c);c.min=a[o].min,c.max=c.min+f}):a2(b,t.layoutBox,a)&&Un(o=>{const c=w?t.measuredBox[o]:t.layoutBox[o],f=on(a[o]);c.max=c.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[o].max=e.relativeTarget[o].min+f)});const h=Ks();Mo(h,a,t.layoutBox);const s=Ks();w?Mo(s,e.applyTransform(p,!0),t.measuredBox):Mo(s,a,t.layoutBox);const u=!n2(h);let d=!1;if(!e.resumeFrom){const o=e.getClosestProjectingParent();if(o&&!o.resumeFrom){const{snapshot:c,layout:f}=o;if(c&&f){const g=Ct();Do(g,t.layoutBox,c.layoutBox);const y=Ct();Do(y,a,f.layoutBox),i2(g,y)||(d=!0),o.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=o)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:s,layoutDelta:h,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function l5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function c5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function u5(e){e.clearSnapshot()}function ix(e){e.clearMeasurements()}function rx(e){e.isLayoutDirty=!1}function f5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function h5(e){e.resolveTargetDelta()}function d5(e){e.calcProjection()}function g5(e){e.resetSkewAndRotation()}function m5(e){e.removeLeadSnapshot()}function ax(e,t,r){e.translate=vt(t.translate,0,r),e.scale=vt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ox(e,t,r,a){e.min=vt(t.min,r.min,a),e.max=vt(t.max,r.max,a)}function p5(e,t,r,a){ox(e.x,t.x,r.x,a),ox(e.y,t.y,r.y,a)}function v5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const y5={duration:.45,ease:[.4,0,.1,1]},lx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cx=lx("applewebkit/")&&!lx("chrome/")?Math.round:Hn;function ux(e){e.min=cx(e.min),e.max=cx(e.max)}function b5(e){ux(e.x),ux(e.y)}function a2(e,t,r){return e==="position"||e==="preserve-aspect"&&!TL(tx(t),tx(r),.2)}function x5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const w5=s2({attachResizeListener:(e,t)=>Ho(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pd={current:void 0},o2=s2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pd.current){const e=new w5({});e.mount(window),e.setOptions({layoutScroll:!0}),pd.current=e}return pd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),S5={pan:{Feature:VL},drag:{Feature:zL,ProjectionNode:o2,MeasureLayout:JS}};function fx(e,t,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const p="onHover"+r,b=a[p];b&&mt.postRender(()=>b(t,sl(t)))}class C5 extends xr{mount(){const{current:t}=this.node;t&&(this.unmount=$R(t,(r,a)=>(fx(this.node,a,"Start"),p=>fx(this.node,p,"End"))))}unmount(){}}class _5 extends xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nl(Ho(this.node.current,"focus",()=>this.onFocus()),Ho(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hx(e,t,r){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const p="onTap"+(r==="End"?"":r),b=a[p];b&&mt.postRender(()=>b(t,sl(t)))}class T5 extends xr{mount(){const{current:t}=this.node;t&&(this.unmount=KR(t,(r,a)=>(hx(this.node,a,"Start"),(p,{success:b})=>hx(this.node,p,b?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ag=new WeakMap,vd=new WeakMap,k5=e=>{const t=ag.get(e.target);t&&t(e)},E5=e=>{e.forEach(k5)};function O5({root:e,...t}){const r=e||document;vd.has(r)||vd.set(r,{});const a=vd.get(r),p=JSON.stringify(t);return a[p]||(a[p]=new IntersectionObserver(E5,{root:e,...t})),a[p]}function A5(e,t,r){const a=O5(t);return ag.set(e,r),a.observe(e),()=>{ag.delete(e),a.unobserve(e)}}const M5={some:0,all:1};class D5 extends xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:p="some",once:b}=t,w={root:r?r.current:void 0,rootMargin:a,threshold:typeof p=="number"?p:M5[p]},h=s=>{const{isIntersecting:u}=s;if(this.isInView===u||(this.isInView=u,b&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:o}=this.node.getProps(),c=u?d:o;c&&c(s)};return A5(this.node.current,w,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(j5(t,r))&&this.startObserver()}unmount(){}}function j5({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const R5={inView:{Feature:D5},tap:{Feature:T5},focus:{Feature:_5},hover:{Feature:C5}},P5={layout:{ProjectionNode:o2,MeasureLayout:JS}},L5={...bL,...R5,...S5,...P5},Ut=LP(L5,WP);function dx(e){const t=wu(()=>Zr(e)),{isStatic:r}=D.useContext(Cu);if(r){const[,a]=D.useState(e);D.useEffect(()=>t.on("change",a),[])}return t}function Eu(){return(Eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function l2(e,t){if(e==null)return{};var r,a,p={},b=Object.keys(e);for(a=0;a<b.length;a++)t.indexOf(r=b[a])>=0||(p[r]=e[r]);return p}function og(e){var t=D.useRef(e),r=D.useRef(function(a){t.current&&t.current(a)});return t.current=e,r.current}var Io=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},jo=function(e){return"touches"in e},lg=function(e){return e&&e.ownerDocument.defaultView||self},gx=function(e,t,r){var a=e.getBoundingClientRect(),p=jo(t)?function(b,w){for(var h=0;h<b.length;h++)if(b[h].identifier===w)return b[h];return b[0]}(t.touches,r):t;return{left:Io((p.pageX-(a.left+lg(e).pageXOffset))/a.width),top:Io((p.pageY-(a.top+lg(e).pageYOffset))/a.height)}},mx=function(e){!jo(e)&&e.preventDefault()},c2=Le.memo(function(e){var t=e.onMove,r=e.onKey,a=l2(e,["onMove","onKey"]),p=D.useRef(null),b=og(t),w=og(r),h=D.useRef(null),s=D.useRef(!1),u=D.useMemo(function(){var f=function(m){mx(m),(jo(m)?m.touches.length>0:m.buttons>0)&&p.current?b(gx(p.current,m,h.current)):y(!1)},g=function(){return y(!1)};function y(m){var x=s.current,S=lg(p.current),_=m?S.addEventListener:S.removeEventListener;_(x?"touchmove":"mousemove",f),_(x?"touchend":"mouseup",g)}return[function(m){var x=m.nativeEvent,S=p.current;if(S&&(mx(x),!function(k,O){return O&&!jo(k)}(x,s.current)&&S)){if(jo(x)){s.current=!0;var _=x.changedTouches||[];_.length&&(h.current=_[0].identifier)}S.focus(),b(gx(S,x,h.current)),y(!0)}},function(m){var x=m.which||m.keyCode;x<37||x>40||(m.preventDefault(),w({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},y]},[w,b]),d=u[0],o=u[1],c=u[2];return D.useEffect(function(){return c},[c]),Le.createElement("div",Eu({},a,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:p,onKeyDown:o,tabIndex:0,role:"slider"}))}),ym=function(e){return e.filter(Boolean).join(" ")},u2=function(e){var t=e.color,r=e.left,a=e.top,p=a===void 0?.5:a,b=ym(["react-colorful__pointer",e.className]);return Le.createElement("div",{className:b,style:{top:100*p+"%",left:100*r+"%"}},Le.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Gt=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},N5=function(e){return U5(cg(e))},cg=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Gt(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Gt(parseInt(e.substring(6,8),16)/255,2):1}},B5=function(e){return V5(z5(e))},F5=function(e){var t=e.s,r=e.v,a=e.a,p=(200-t)*r/100;return{h:Gt(e.h),s:Gt(p>0&&p<200?t*r/100/(p<=100?p:200-p)*100:0),l:Gt(p/2),a:Gt(a,2)}},ug=function(e){var t=F5(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},z5=function(e){var t=e.h,r=e.s,a=e.v,p=e.a;t=t/360*6,r/=100,a/=100;var b=Math.floor(t),w=a*(1-r),h=a*(1-(t-b)*r),s=a*(1-(1-t+b)*r),u=b%6;return{r:Gt(255*[a,h,w,w,s,a][u]),g:Gt(255*[s,a,a,h,w,w][u]),b:Gt(255*[w,w,s,a,a,h][u]),a:Gt(p,2)}},kc=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},V5=function(e){var t=e.r,r=e.g,a=e.b,p=e.a,b=p<1?kc(Gt(255*p)):"";return"#"+kc(t)+kc(r)+kc(a)+b},U5=function(e){var t=e.r,r=e.g,a=e.b,p=e.a,b=Math.max(t,r,a),w=b-Math.min(t,r,a),h=w?b===t?(r-a)/w:b===r?2+(a-t)/w:4+(t-r)/w:0;return{h:Gt(60*(h<0?h+6:h)),s:Gt(b?w/b*100:0),v:Gt(b/255*100),a:p}},H5=Le.memo(function(e){var t=e.hue,r=e.onChange,a=ym(["react-colorful__hue",e.className]);return Le.createElement("div",{className:a},Le.createElement(c2,{onMove:function(p){r({h:360*p.left})},onKey:function(p){r({h:Io(t+360*p.left,0,360)})},"aria-label":"Hue","aria-valuenow":Gt(t),"aria-valuemax":"360","aria-valuemin":"0"},Le.createElement(u2,{className:"react-colorful__hue-pointer",left:t/360,color:ug({h:t,s:100,v:100,a:1})})))}),I5=Le.memo(function(e){var t=e.hsva,r=e.onChange,a={backgroundColor:ug({h:t.h,s:100,v:100,a:1})};return Le.createElement("div",{className:"react-colorful__saturation",style:a},Le.createElement(c2,{onMove:function(p){r({s:100*p.left,v:100-100*p.top})},onKey:function(p){r({s:Io(t.s+100*p.left,0,100),v:Io(t.v-100*p.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Gt(t.s)+"%, Brightness "+Gt(t.v)+"%"},Le.createElement(u2,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:ug(t)})))}),f2=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},Y5=function(e,t){return e.toLowerCase()===t.toLowerCase()||f2(cg(e),cg(t))};function X5(e,t,r){var a=og(r),p=D.useState(function(){return e.toHsva(t)}),b=p[0],w=p[1],h=D.useRef({color:t,hsva:b});D.useEffect(function(){if(!e.equal(t,h.current.color)){var u=e.toHsva(t);h.current={hsva:u,color:t},w(u)}},[t,e]),D.useEffect(function(){var u;f2(b,h.current.hsva)||e.equal(u=e.fromHsva(b),h.current.color)||(h.current={hsva:b,color:u},a(u))},[b,e,a]);var s=D.useCallback(function(u){w(function(d){return Object.assign({},d,u)})},[]);return[b,s]}var $5=typeof window<"u"?D.useLayoutEffect:D.useEffect,G5=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},px=new Map,W5=function(e){$5(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!px.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,px.set(t,r);var a=G5();a&&r.setAttribute("nonce",a),t.head.appendChild(r)}},[])},q5=function(e){var t=e.className,r=e.colorModel,a=e.color,p=a===void 0?r.defaultColor:a,b=e.onChange,w=l2(e,["className","colorModel","color","onChange"]),h=D.useRef(null);W5(h);var s=X5(r,p,b),u=s[0],d=s[1],o=ym(["react-colorful",t]);return Le.createElement("div",Eu({},w,{ref:h,className:o}),Le.createElement(I5,{hsva:u,onChange:d}),Le.createElement(H5,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},K5={defaultColor:"000",toHsva:N5,fromHsva:function(e){return B5({h:e.h,s:e.s,v:e.v,a:1})},equal:Y5},Z5=function(e){return Le.createElement(q5,Eu({},e,{colorModel:K5}))};const h2=["shift","alt","meta","mod","ctrl","control"],Q5={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function pr(e){return(Q5[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function d2(e){return h2.includes(e)}function yd(e,t=","){return e.toLowerCase().split(t)}function bd(e,t="+",r=">",a=!1,p){let b=[],w=!1;e.includes(r)?(w=!0,b=e.toLocaleLowerCase().split(r).map(u=>pr(u))):b=e.toLocaleLowerCase().split(t).map(u=>pr(u));const h={alt:b.includes("alt"),ctrl:b.includes("ctrl")||b.includes("control"),shift:b.includes("shift"),meta:b.includes("meta"),mod:b.includes("mod"),useKey:a},s=b.filter(u=>!h2.includes(u));return{...h,keys:s,description:p,isSequence:w}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&g2([pr(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&m2([pr(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Li.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Li.clear()},0)}));const Li=new Set;function bm(e){return Array.isArray(e)}function J5(e,t=","){return(bm(e)?e:e.split(t)).every(r=>Li.has(r.trim().toLowerCase()))}function g2(e){const t=Array.isArray(e)?e:[e];Li.has("meta")&&Li.forEach(r=>!d2(r)&&Li.delete(r.toLowerCase())),t.forEach(r=>Li.add(r.toLowerCase()))}function m2(e){const t=Array.isArray(e)?e:[e];e==="meta"?Li.clear():t.forEach(r=>Li.delete(r.toLowerCase()))}function eN(e,t,r){(typeof r=="function"&&r(e,t)||r===!0)&&e.preventDefault()}function tN(e,t,r){return typeof r=="function"?r(e,t):r===!0||r===void 0}function nN(e){return p2(e,["input","textarea","select"])}function p2(e,t=!1){const{target:r,composed:a}=e;let p;return iN(r)&&a?p=e.composedPath()[0]&&e.composedPath()[0].tagName:p=r&&r.tagName,bm(t)?!!(p&&t&&t.some(b=>b.toLowerCase()===p.toLowerCase())):!!(p&&t&&t)}function iN(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function rN(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(r=>t.includes(r))||e.includes("*"):!0}const sN=(e,t,r=!1)=>{const{alt:a,meta:p,mod:b,shift:w,ctrl:h,keys:s,useKey:u}=t,{code:d,key:o,ctrlKey:c,metaKey:f,shiftKey:g,altKey:y}=e,m=pr(d);if(u&&(s==null?void 0:s.length)===1&&s.includes(o))return!0;if(!(s!=null&&s.includes(m))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(m))return!1;if(!r){if(a!==y&&m!=="alt"||w!==g&&m!=="shift")return!1;if(b){if(!f&&!c)return!1}else if(p!==f&&m!=="meta"&&m!=="os"||h!==c&&m!=="ctrl"&&m!=="control")return!1}return s&&s.length===1&&s.includes(m)?!0:s?J5(s):!s},aN=D.createContext(void 0),oN=()=>D.useContext(aN);function v2(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((r,a)=>r&&v2(e[a],t[a]),!0):e===t}const lN=D.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),cN=()=>D.useContext(lN);function uN(e){const t=D.useRef(void 0);return v2(t.current,e)||(t.current=e),t.current}const vx=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},fN=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Ec(e,t,r,a){const p=D.useRef(null),b=D.useRef(!1),w=r instanceof Array?a instanceof Array?void 0:a:r,h=bm(e)?e.join(w==null?void 0:w.delimiter):e,s=r instanceof Array?r:a instanceof Array?a:void 0,u=D.useCallback(t,s??[]),d=D.useRef(u);s?d.current=u:d.current=t;const o=uN(w),{activeScopes:c}=cN(),f=oN();return fN(()=>{if((o==null?void 0:o.enabled)===!1||!rN(c,o==null?void 0:o.scopes))return;let g=[],y;const m=(k,O=!1)=>{var j;if(!(nN(k)&&!p2(k,o==null?void 0:o.enableOnFormTags))){if(p.current!==null){const F=p.current.getRootNode();if((F instanceof Document||F instanceof ShadowRoot)&&F.activeElement!==p.current&&!p.current.contains(F.activeElement)){vx(k);return}}(j=k.target)!=null&&j.isContentEditable&&!(o!=null&&o.enableOnContentEditable)||yd(h,o==null?void 0:o.delimiter).forEach(F=>{var z,U,G,ie;if(F.includes((o==null?void 0:o.splitKey)??"+")&&F.includes((o==null?void 0:o.sequenceSplitKey)??">")){console.warn(`Hotkey ${F} contains both ${(o==null?void 0:o.splitKey)??"+"} and ${(o==null?void 0:o.sequenceSplitKey)??">"} which is not supported.`);return}const se=bd(F,o==null?void 0:o.splitKey,o==null?void 0:o.sequenceSplitKey,o==null?void 0:o.useKey,o==null?void 0:o.description);if(se.isSequence){y=setTimeout(()=>{g=[]},(o==null?void 0:o.sequenceTimeoutMs)??1e3);const ue=se.useKey?k.key:pr(k.code);if(d2(ue.toLowerCase()))return;g.push(ue);const le=(z=se.keys)==null?void 0:z[g.length-1];if(ue!==le){g=[],y&&clearTimeout(y);return}g.length===((U=se.keys)==null?void 0:U.length)&&(d.current(k,se),y&&clearTimeout(y),g=[])}else if(sN(k,se,o==null?void 0:o.ignoreModifiers)||(G=se.keys)!=null&&G.includes("*")){if((ie=o==null?void 0:o.ignoreEventWhen)!=null&&ie.call(o,k)||O&&b.current)return;if(eN(k,se,o==null?void 0:o.preventDefault),!tN(k,se,o==null?void 0:o.enabled)){vx(k);return}d.current(k,se),O||(b.current=!0)}})}},x=k=>{k.code!==void 0&&(g2(pr(k.code)),((o==null?void 0:o.keydown)===void 0&&(o==null?void 0:o.keyup)!==!0||o!=null&&o.keydown)&&m(k))},S=k=>{k.code!==void 0&&(m2(pr(k.code)),b.current=!1,o!=null&&o.keyup&&m(k,!0))},_=p.current||(w==null?void 0:w.document)||document;return _.addEventListener("keyup",S,w==null?void 0:w.eventListenerOptions),_.addEventListener("keydown",x,w==null?void 0:w.eventListenerOptions),f&&yd(h,o==null?void 0:o.delimiter).forEach(k=>f.addHotkey(bd(k,o==null?void 0:o.splitKey,o==null?void 0:o.sequenceSplitKey,o==null?void 0:o.useKey,o==null?void 0:o.description))),()=>{_.removeEventListener("keyup",S,w==null?void 0:w.eventListenerOptions),_.removeEventListener("keydown",x,w==null?void 0:w.eventListenerOptions),f&&yd(h,o==null?void 0:o.delimiter).forEach(k=>f.removeHotkey(bd(k,o==null?void 0:o.splitKey,o==null?void 0:o.sequenceSplitKey,o==null?void 0:o.useKey,o==null?void 0:o.description))),g=[],y&&clearTimeout(y)}},[h,o,c]),p}var al=e=>e.type==="checkbox",Xr=e=>e instanceof Date,an=e=>e==null;const y2=e=>typeof e=="object";var kt=e=>!an(e)&&!Array.isArray(e)&&y2(e)&&!Xr(e),b2=e=>kt(e)&&e.target?al(e.target)?e.target.checked:e.target.value:e,hN=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,x2=(e,t)=>e.has(hN(t)),dN=e=>{const t=e.constructor&&e.constructor.prototype;return kt(t)&&t.hasOwnProperty("isPrototypeOf")},xm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lt(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(xm&&(e instanceof Blob||a))&&(r||kt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!dN(e))t=e;else for(const p in e)e.hasOwnProperty(p)&&(t[p]=Lt(e[p]));else return e;return t}var Ou=e=>/^\w*$/.test(e),Tt=e=>e===void 0,wm=e=>Array.isArray(e)?e.filter(Boolean):[],Sm=e=>wm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(e,t,r)=>{if(!t||!kt(e))return r;const a=(Ou(t)?[t]:Sm(t)).reduce((p,b)=>an(p)?p:p[b],e);return Tt(a)||a===e?Tt(e[t])?r:e[t]:a},En=e=>typeof e=="boolean",ft=(e,t,r)=>{let a=-1;const p=Ou(t)?[t]:Sm(t),b=p.length,w=b-1;for(;++a<b;){const h=p[a];let s=r;if(a!==w){const u=e[h];s=kt(u)||Array.isArray(u)?u:isNaN(+p[a+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=s,e=e[h]}};const nu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ji={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},w2=Le.createContext(null);w2.displayName="HookFormContext";const Cm=()=>Le.useContext(w2);var S2=(e,t,r,a=!0)=>{const p={defaultValues:t._defaultValues};for(const b in e)Object.defineProperty(p,b,{get:()=>{const w=b;return t._proxyFormState[w]!==Kn.all&&(t._proxyFormState[w]=!a||Kn.all),r&&(r[w]=!0),e[w]}});return p};const _m=typeof window<"u"?Le.useLayoutEffect:Le.useEffect;function gN(e){const t=Cm(),{control:r=t.control,disabled:a,name:p,exact:b}=e||{},[w,h]=Le.useState(r._formState),s=Le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return _m(()=>r._subscribe({name:p,formState:s.current,exact:b,callback:u=>{!a&&h({...r._formState,...u})}}),[p,a,b]),Le.useEffect(()=>{s.current.isValid&&r._setValid(!0)},[r]),Le.useMemo(()=>S2(w,r,s.current,!1),[w,r])}var oi=e=>typeof e=="string",C2=(e,t,r,a,p)=>oi(e)?(a&&t.watch.add(e),De(r,e,p)):Array.isArray(e)?e.map(b=>(a&&t.watch.add(b),De(r,b))):(a&&(t.watchAll=!0),r),fg=e=>an(e)||!y2(e);function Pi(e,t,r=new WeakSet){if(fg(e)||fg(t))return e===t;if(Xr(e)&&Xr(t))return e.getTime()===t.getTime();const a=Object.keys(e),p=Object.keys(t);if(a.length!==p.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const b of a){const w=e[b];if(!p.includes(b))return!1;if(b!=="ref"){const h=t[b];if(Xr(w)&&Xr(h)||kt(w)&&kt(h)||Array.isArray(w)&&Array.isArray(h)?!Pi(w,h,r):w!==h)return!1}}return!0}function mN(e){const t=Cm(),{control:r=t.control,name:a,defaultValue:p,disabled:b,exact:w,compute:h}=e||{},s=Le.useRef(p),u=Le.useRef(h),d=Le.useRef(void 0);u.current=h;const o=Le.useMemo(()=>r._getWatch(a,s.current),[r,a]),[c,f]=Le.useState(u.current?u.current(o):o);return _m(()=>r._subscribe({name:a,formState:{values:!0},exact:w,callback:g=>{if(!b){const y=C2(a,r._names,g.values||r._formValues,!1,s.current);if(u.current){const m=u.current(y);Pi(m,d.current)||(f(m),d.current=m)}else f(y)}}}),[r,b,a,w]),Le.useEffect(()=>r._removeUnmounted()),c}function pN(e){const t=Cm(),{name:r,disabled:a,control:p=t.control,shouldUnregister:b,defaultValue:w}=e,h=x2(p._names.array,r),s=Le.useMemo(()=>De(p._formValues,r,De(p._defaultValues,r,w)),[p,r,w]),u=mN({control:p,name:r,defaultValue:s,exact:!0}),d=gN({control:p,name:r,exact:!0}),o=Le.useRef(e),c=Le.useRef(p.register(r,{...e.rules,value:u,...En(e.disabled)?{disabled:e.disabled}:{}}));o.current=e;const f=Le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!De(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!De(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!De(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!De(d.validatingFields,r)},error:{enumerable:!0,get:()=>De(d.errors,r)}}),[d,r]),g=Le.useCallback(S=>c.current.onChange({target:{value:b2(S),name:r},type:nu.CHANGE}),[r]),y=Le.useCallback(()=>c.current.onBlur({target:{value:De(p._formValues,r),name:r},type:nu.BLUR}),[r,p._formValues]),m=Le.useCallback(S=>{const _=De(p._fields,r);_&&S&&(_._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:k=>S.setCustomValidity(k),reportValidity:()=>S.reportValidity()})},[p._fields,r]),x=Le.useMemo(()=>({name:r,value:u,...En(a)||d.disabled?{disabled:d.disabled||a}:{},onChange:g,onBlur:y,ref:m}),[r,a,d.disabled,g,y,m,u]);return Le.useEffect(()=>{const S=p._options.shouldUnregister||b;p.register(r,{...o.current.rules,...En(o.current.disabled)?{disabled:o.current.disabled}:{}});const _=(k,O)=>{const j=De(p._fields,k);j&&j._f&&(j._f.mount=O)};if(_(r,!0),S){const k=Lt(De(p._options.defaultValues,r));ft(p._defaultValues,r,k),Tt(De(p._formValues,r))&&ft(p._formValues,r,k)}return!h&&p.register(r),()=>{(h?S&&!p._state.action:S)?p.unregister(r):_(r,!1)}},[r,p,h,b]),Le.useEffect(()=>{p._setDisabledField({disabled:a,name:r})},[a,r,p]),Le.useMemo(()=>({field:x,formState:d,fieldState:f}),[x,d,f])}const xd=e=>e.render(pN(e));var vN=(e,t,r,a,p)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:p||!0}}:{},Ro=e=>Array.isArray(e)?e:[e],yx=()=>{let e=[];return{get observers(){return e},next:p=>{for(const b of e)b.next&&b.next(p)},subscribe:p=>(e.push(p),{unsubscribe:()=>{e=e.filter(b=>b!==p)}}),unsubscribe:()=>{e=[]}}},vn=e=>kt(e)&&!Object.keys(e).length,Tm=e=>e.type==="file",Zn=e=>typeof e=="function",iu=e=>{if(!xm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},_2=e=>e.type==="select-multiple",km=e=>e.type==="radio",yN=e=>km(e)||al(e),wd=e=>iu(e)&&e.isConnected;function bN(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=Tt(e)?a++:e[t[a++]];return e}function xN(e){for(const t in e)if(e.hasOwnProperty(t)&&!Tt(e[t]))return!1;return!0}function Mt(e,t){const r=Array.isArray(t)?t:Ou(t)?[t]:Sm(t),a=r.length===1?e:bN(e,r),p=r.length-1,b=r[p];return a&&delete a[b],p!==0&&(kt(a)&&vn(a)||Array.isArray(a)&&xN(a))&&Mt(e,r.slice(0,-1)),e}var T2=e=>{for(const t in e)if(Zn(e[t]))return!0;return!1};function ru(e,t={}){const r=Array.isArray(e);if(kt(e)||r)for(const a in e)Array.isArray(e[a])||kt(e[a])&&!T2(e[a])?(t[a]=Array.isArray(e[a])?[]:{},ru(e[a],t[a])):an(e[a])||(t[a]=!0);return t}function k2(e,t,r){const a=Array.isArray(e);if(kt(e)||a)for(const p in e)Array.isArray(e[p])||kt(e[p])&&!T2(e[p])?Tt(t)||fg(r[p])?r[p]=Array.isArray(e[p])?ru(e[p],[]):{...ru(e[p])}:k2(e[p],an(t)?{}:t[p],r[p]):r[p]=!Pi(e[p],t[p]);return r}var bo=(e,t)=>k2(e,t,ru(t));const bx={value:!1,isValid:!1},xx={value:!0,isValid:!0};var E2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Tt(e[0].attributes.value)?Tt(e[0].value)||e[0].value===""?xx:{value:e[0].value,isValid:!0}:xx:bx}return bx},O2=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>Tt(e)?e:t?e===""?NaN:e&&+e:r&&oi(e)?new Date(e):a?a(e):e;const wx={isValid:!1,value:null};var A2=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,wx):wx;function Sx(e){const t=e.ref;return Tm(t)?t.files:km(t)?A2(e.refs).value:_2(t)?[...t.selectedOptions].map(({value:r})=>r):al(t)?E2(e.refs).value:O2(Tt(t.value)?e.ref.value:t.value,e)}var wN=(e,t,r,a)=>{const p={};for(const b of e){const w=De(t,b);w&&ft(p,b,w._f)}return{criteriaMode:r,names:[...e],fields:p,shouldUseNativeValidation:a}},su=e=>e instanceof RegExp,xo=e=>Tt(e)?e:su(e)?e.source:kt(e)?su(e.value)?e.value.source:e.value:e,Cx=e=>({isOnSubmit:!e||e===Kn.onSubmit,isOnBlur:e===Kn.onBlur,isOnChange:e===Kn.onChange,isOnAll:e===Kn.all,isOnTouch:e===Kn.onTouched});const _x="AsyncFunction";var SN=e=>!!e&&!!e.validate&&!!(Zn(e.validate)&&e.validate.constructor.name===_x||kt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===_x)),CN=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Tx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Po=(e,t,r,a)=>{for(const p of r||Object.keys(e)){const b=De(e,p);if(b){const{_f:w,...h}=b;if(w){if(w.refs&&w.refs[0]&&t(w.refs[0],p)&&!a)return!0;if(w.ref&&t(w.ref,w.name)&&!a)return!0;if(Po(h,t))break}else if(kt(h)&&Po(h,t))break}}};function kx(e,t,r){const a=De(e,r);if(a||Ou(r))return{error:a,name:r};const p=r.split(".");for(;p.length;){const b=p.join("."),w=De(t,b),h=De(e,b);if(w&&!Array.isArray(w)&&r!==b)return{name:r};if(h&&h.type)return{name:b,error:h};if(h&&h.root&&h.root.type)return{name:`${b}.root`,error:h.root};p.pop()}return{name:r}}var _N=(e,t,r,a)=>{r(e);const{name:p,...b}=e;return vn(b)||Object.keys(b).length>=Object.keys(t).length||Object.keys(b).find(w=>t[w]===(!a||Kn.all))},TN=(e,t,r)=>!e||!t||e===t||Ro(e).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),kN=(e,t,r,a,p)=>p.isOnAll?!1:!r&&p.isOnTouch?!(t||e):(r?a.isOnBlur:p.isOnBlur)?!e:(r?a.isOnChange:p.isOnChange)?e:!0,EN=(e,t)=>!wm(De(e,t)).length&&Mt(e,t),ON=(e,t,r)=>{const a=Ro(De(e,r));return ft(a,"root",t[r]),ft(e,r,a),e},Nc=e=>oi(e);function Ex(e,t,r="validate"){if(Nc(e)||Array.isArray(e)&&e.every(Nc)||En(e)&&!e)return{type:r,message:Nc(e)?e:"",ref:t}}var Vs=e=>kt(e)&&!su(e)?e:{value:e,message:""},Ox=async(e,t,r,a,p,b)=>{const{ref:w,refs:h,required:s,maxLength:u,minLength:d,min:o,max:c,pattern:f,validate:g,name:y,valueAsNumber:m,mount:x}=e._f,S=De(r,y);if(!x||t.has(y))return{};const _=h?h[0]:w,k=se=>{p&&_.reportValidity&&(_.setCustomValidity(En(se)?"":se||""),_.reportValidity())},O={},j=km(w),F=al(w),z=j||F,U=(m||Tm(w))&&Tt(w.value)&&Tt(S)||iu(w)&&w.value===""||S===""||Array.isArray(S)&&!S.length,G=vN.bind(null,y,a,O),ie=(se,ue,le,ee=ji.maxLength,X=ji.minLength)=>{const W=se?ue:le;O[y]={type:se?ee:X,message:W,ref:w,...G(se?ee:X,W)}};if(b?!Array.isArray(S)||!S.length:s&&(!z&&(U||an(S))||En(S)&&!S||F&&!E2(h).isValid||j&&!A2(h).isValid)){const{value:se,message:ue}=Nc(s)?{value:!!s,message:s}:Vs(s);if(se&&(O[y]={type:ji.required,message:ue,ref:_,...G(ji.required,ue)},!a))return k(ue),O}if(!U&&(!an(o)||!an(c))){let se,ue;const le=Vs(c),ee=Vs(o);if(!an(S)&&!isNaN(S)){const X=w.valueAsNumber||S&&+S;an(le.value)||(se=X>le.value),an(ee.value)||(ue=X<ee.value)}else{const X=w.valueAsDate||new Date(S),W=A=>new Date(new Date().toDateString()+" "+A),Y=w.type=="time",P=w.type=="week";oi(le.value)&&S&&(se=Y?W(S)>W(le.value):P?S>le.value:X>new Date(le.value)),oi(ee.value)&&S&&(ue=Y?W(S)<W(ee.value):P?S<ee.value:X<new Date(ee.value))}if((se||ue)&&(ie(!!se,le.message,ee.message,ji.max,ji.min),!a))return k(O[y].message),O}if((u||d)&&!U&&(oi(S)||b&&Array.isArray(S))){const se=Vs(u),ue=Vs(d),le=!an(se.value)&&S.length>+se.value,ee=!an(ue.value)&&S.length<+ue.value;if((le||ee)&&(ie(le,se.message,ue.message),!a))return k(O[y].message),O}if(f&&!U&&oi(S)){const{value:se,message:ue}=Vs(f);if(su(se)&&!S.match(se)&&(O[y]={type:ji.pattern,message:ue,ref:w,...G(ji.pattern,ue)},!a))return k(ue),O}if(g){if(Zn(g)){const se=await g(S,r),ue=Ex(se,_);if(ue&&(O[y]={...ue,...G(ji.validate,ue.message)},!a))return k(ue.message),O}else if(kt(g)){let se={};for(const ue in g){if(!vn(se)&&!a)break;const le=Ex(await g[ue](S,r),_,ue);le&&(se={...le,...G(ue,le.message)},k(le.message),a&&(O[y]=se))}if(!vn(se)&&(O[y]={ref:_,...se},!a))return O}}return k(!0),O};const AN={mode:Kn.onSubmit,reValidateMode:Kn.onChange,shouldFocusError:!0};function MN(e={}){let t={...AN,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},p=kt(t.defaultValues)||kt(t.values)?Lt(t.defaultValues||t.values)||{}:{},b=t.shouldUnregister?{}:Lt(p),w={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},s,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let o={...d};const c={array:yx(),state:yx()},f=t.criteriaMode===Kn.all,g=$=>Q=>{clearTimeout(u),u=setTimeout($,Q)},y=async $=>{if(!t.disabled&&(d.isValid||o.isValid||$)){const Q=t.resolver?vn((await F()).errors):await U(a,!0);Q!==r.isValid&&c.state.next({isValid:Q})}},m=($,Q)=>{!t.disabled&&(d.isValidating||d.validatingFields||o.isValidating||o.validatingFields)&&(($||Array.from(h.mount)).forEach(q=>{q&&(Q?ft(r.validatingFields,q,Q):Mt(r.validatingFields,q))}),c.state.next({validatingFields:r.validatingFields,isValidating:!vn(r.validatingFields)}))},x=($,Q=[],q,ve,Se=!0,Ce=!0)=>{if(ve&&q&&!t.disabled){if(w.action=!0,Ce&&Array.isArray(De(a,$))){const Ae=q(De(a,$),ve.argA,ve.argB);Se&&ft(a,$,Ae)}if(Ce&&Array.isArray(De(r.errors,$))){const Ae=q(De(r.errors,$),ve.argA,ve.argB);Se&&ft(r.errors,$,Ae),EN(r.errors,$)}if((d.touchedFields||o.touchedFields)&&Ce&&Array.isArray(De(r.touchedFields,$))){const Ae=q(De(r.touchedFields,$),ve.argA,ve.argB);Se&&ft(r.touchedFields,$,Ae)}(d.dirtyFields||o.dirtyFields)&&(r.dirtyFields=bo(p,b)),c.state.next({name:$,isDirty:ie($,Q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ft(b,$,Q)},S=($,Q)=>{ft(r.errors,$,Q),c.state.next({errors:r.errors})},_=$=>{r.errors=$,c.state.next({errors:r.errors,isValid:!1})},k=($,Q,q,ve)=>{const Se=De(a,$);if(Se){const Ce=De(b,$,Tt(q)?De(p,$):q);Tt(Ce)||ve&&ve.defaultChecked||Q?ft(b,$,Q?Ce:Sx(Se._f)):le($,Ce),w.mount&&y()}},O=($,Q,q,ve,Se)=>{let Ce=!1,Ae=!1;const Me={name:$};if(!t.disabled){if(!q||ve){(d.isDirty||o.isDirty)&&(Ae=r.isDirty,r.isDirty=Me.isDirty=ie(),Ce=Ae!==Me.isDirty);const ze=Pi(De(p,$),Q);Ae=!!De(r.dirtyFields,$),ze?Mt(r.dirtyFields,$):ft(r.dirtyFields,$,!0),Me.dirtyFields=r.dirtyFields,Ce=Ce||(d.dirtyFields||o.dirtyFields)&&Ae!==!ze}if(q){const ze=De(r.touchedFields,$);ze||(ft(r.touchedFields,$,q),Me.touchedFields=r.touchedFields,Ce=Ce||(d.touchedFields||o.touchedFields)&&ze!==q)}Ce&&Se&&c.state.next(Me)}return Ce?Me:{}},j=($,Q,q,ve)=>{const Se=De(r.errors,$),Ce=(d.isValid||o.isValid)&&En(Q)&&r.isValid!==Q;if(t.delayError&&q?(s=g(()=>S($,q)),s(t.delayError)):(clearTimeout(u),s=null,q?ft(r.errors,$,q):Mt(r.errors,$)),(q?!Pi(Se,q):Se)||!vn(ve)||Ce){const Ae={...ve,...Ce&&En(Q)?{isValid:Q}:{},errors:r.errors,name:$};r={...r,...Ae},c.state.next(Ae)}},F=async $=>{m($,!0);const Q=await t.resolver(b,t.context,wN($||h.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return m($),Q},z=async $=>{const{errors:Q}=await F($);if($)for(const q of $){const ve=De(Q,q);ve?ft(r.errors,q,ve):Mt(r.errors,q)}else r.errors=Q;return Q},U=async($,Q,q={valid:!0})=>{for(const ve in $){const Se=$[ve];if(Se){const{_f:Ce,...Ae}=Se;if(Ce){const Me=h.array.has(Ce.name),ze=Se._f&&SN(Se._f);ze&&d.validatingFields&&m([ve],!0);const Ye=await Ox(Se,h.disabled,b,f,t.shouldUseNativeValidation&&!Q,Me);if(ze&&d.validatingFields&&m([ve]),Ye[Ce.name]&&(q.valid=!1,Q))break;!Q&&(De(Ye,Ce.name)?Me?ON(r.errors,Ye,Ce.name):ft(r.errors,Ce.name,Ye[Ce.name]):Mt(r.errors,Ce.name))}!vn(Ae)&&await U(Ae,Q,q)}}return q.valid},G=()=>{for(const $ of h.unMount){const Q=De(a,$);Q&&(Q._f.refs?Q._f.refs.every(q=>!wd(q)):!wd(Q._f.ref))&&Z($)}h.unMount=new Set},ie=($,Q)=>!t.disabled&&($&&Q&&ft(b,$,Q),!Pi(A(),p)),se=($,Q,q)=>C2($,h,{...w.mount?b:Tt(Q)?p:oi($)?{[$]:Q}:Q},q,Q),ue=$=>wm(De(w.mount?b:p,$,t.shouldUnregister?De(p,$,[]):[])),le=($,Q,q={})=>{const ve=De(a,$);let Se=Q;if(ve){const Ce=ve._f;Ce&&(!Ce.disabled&&ft(b,$,O2(Q,Ce)),Se=iu(Ce.ref)&&an(Q)?"":Q,_2(Ce.ref)?[...Ce.ref.options].forEach(Ae=>Ae.selected=Se.includes(Ae.value)):Ce.refs?al(Ce.ref)?Ce.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(Se)?Ae.checked=!!Se.find(Me=>Me===Ae.value):Ae.checked=Se===Ae.value||!!Se)}):Ce.refs.forEach(Ae=>Ae.checked=Ae.value===Se):Tm(Ce.ref)?Ce.ref.value="":(Ce.ref.value=Se,Ce.ref.type||c.state.next({name:$,values:Lt(b)})))}(q.shouldDirty||q.shouldTouch)&&O($,Se,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&P($)},ee=($,Q,q)=>{for(const ve in Q){if(!Q.hasOwnProperty(ve))return;const Se=Q[ve],Ce=$+"."+ve,Ae=De(a,Ce);(h.array.has($)||kt(Se)||Ae&&!Ae._f)&&!Xr(Se)?ee(Ce,Se,q):le(Ce,Se,q)}},X=($,Q,q={})=>{const ve=De(a,$),Se=h.array.has($),Ce=Lt(Q);ft(b,$,Ce),Se?(c.array.next({name:$,values:Lt(b)}),(d.isDirty||d.dirtyFields||o.isDirty||o.dirtyFields)&&q.shouldDirty&&c.state.next({name:$,dirtyFields:bo(p,b),isDirty:ie($,Ce)})):ve&&!ve._f&&!an(Ce)?ee($,Ce,q):le($,Ce,q),Tx($,h)&&c.state.next({...r,name:$}),c.state.next({name:w.mount?$:void 0,values:Lt(b)})},W=async $=>{w.mount=!0;const Q=$.target;let q=Q.name,ve=!0;const Se=De(a,q),Ce=ze=>{ve=Number.isNaN(ze)||Xr(ze)&&isNaN(ze.getTime())||Pi(ze,De(b,q,ze))},Ae=Cx(t.mode),Me=Cx(t.reValidateMode);if(Se){let ze,Ye;const un=Q.type?Sx(Se._f):b2($),Wt=$.type===nu.BLUR||$.type===nu.FOCUS_OUT,fn=!CN(Se._f)&&!t.resolver&&!De(r.errors,q)&&!Se._f.deps||kN(Wt,De(r.touchedFields,q),r.isSubmitted,Me,Ae),Jn=Tx(q,h,Wt);ft(b,q,un),Wt?(!Q||!Q.readOnly)&&(Se._f.onBlur&&Se._f.onBlur($),s&&s(0)):Se._f.onChange&&Se._f.onChange($);const Yn=O(q,un,Wt),Xn=!vn(Yn)||Jn;if(!Wt&&c.state.next({name:q,type:$.type,values:Lt(b)}),fn)return(d.isValid||o.isValid)&&(t.mode==="onBlur"?Wt&&y():Wt||y()),Xn&&c.state.next({name:q,...Jn?{}:Yn});if(!Wt&&Jn&&c.state.next({...r}),t.resolver){const{errors:mi}=await F([q]);if(Ce(un),ve){const wr=kx(r.errors,a,q),ol=kx(mi,a,wr.name||q);ze=ol.error,q=ol.name,Ye=vn(mi)}}else m([q],!0),ze=(await Ox(Se,h.disabled,b,f,t.shouldUseNativeValidation))[q],m([q]),Ce(un),ve&&(ze?Ye=!1:(d.isValid||o.isValid)&&(Ye=await U(a,!0)));ve&&(Se._f.deps&&P(Se._f.deps),j(q,Ye,ze,Yn))}},Y=($,Q)=>{if(De(r.errors,Q)&&$.focus)return $.focus(),1},P=async($,Q={})=>{let q,ve;const Se=Ro($);if(t.resolver){const Ce=await z(Tt($)?$:Se);q=vn(Ce),ve=$?!Se.some(Ae=>De(Ce,Ae)):q}else $?(ve=(await Promise.all(Se.map(async Ce=>{const Ae=De(a,Ce);return await U(Ae&&Ae._f?{[Ce]:Ae}:Ae)}))).every(Boolean),!(!ve&&!r.isValid)&&y()):ve=q=await U(a);return c.state.next({...!oi($)||(d.isValid||o.isValid)&&q!==r.isValid?{}:{name:$},...t.resolver||!$?{isValid:q}:{},errors:r.errors}),Q.shouldFocus&&!ve&&Po(a,Y,$?Se:h.mount),ve},A=$=>{const Q={...w.mount?b:p};return Tt($)?Q:oi($)?De(Q,$):$.map(q=>De(Q,q))},M=($,Q)=>({invalid:!!De((Q||r).errors,$),isDirty:!!De((Q||r).dirtyFields,$),error:De((Q||r).errors,$),isValidating:!!De(r.validatingFields,$),isTouched:!!De((Q||r).touchedFields,$)}),B=$=>{$&&Ro($).forEach(Q=>Mt(r.errors,Q)),c.state.next({errors:$?r.errors:{}})},H=($,Q,q)=>{const ve=(De(a,$,{_f:{}})._f||{}).ref,Se=De(r.errors,$)||{},{ref:Ce,message:Ae,type:Me,...ze}=Se;ft(r.errors,$,{...ze,...Q,ref:ve}),c.state.next({name:$,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&ve&&ve.focus&&ve.focus()},N=($,Q)=>Zn($)?c.state.subscribe({next:q=>"values"in q&&$(se(void 0,Q),q)}):se($,Q,!0),L=$=>c.state.subscribe({next:Q=>{TN($.name,Q.name,$.exact)&&_N(Q,$.formState||d,ge,$.reRenderRoot)&&$.callback({values:{...b},...r,...Q,defaultValues:p})}}).unsubscribe,I=$=>(w.mount=!0,o={...o,...$.formState},L({...$,formState:o})),Z=($,Q={})=>{for(const q of $?Ro($):h.mount)h.mount.delete(q),h.array.delete(q),Q.keepValue||(Mt(a,q),Mt(b,q)),!Q.keepError&&Mt(r.errors,q),!Q.keepDirty&&Mt(r.dirtyFields,q),!Q.keepTouched&&Mt(r.touchedFields,q),!Q.keepIsValidating&&Mt(r.validatingFields,q),!t.shouldUnregister&&!Q.keepDefaultValue&&Mt(p,q);c.state.next({values:Lt(b)}),c.state.next({...r,...Q.keepDirty?{isDirty:ie()}:{}}),!Q.keepIsValid&&y()},te=({disabled:$,name:Q})=>{(En($)&&w.mount||$||h.disabled.has(Q))&&($?h.disabled.add(Q):h.disabled.delete(Q))},ne=($,Q={})=>{let q=De(a,$);const ve=En(Q.disabled)||En(t.disabled);return ft(a,$,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:$}},name:$,mount:!0,...Q}}),h.mount.add($),q?te({disabled:En(Q.disabled)?Q.disabled:t.disabled,name:$}):k($,!0,Q.value),{...ve?{disabled:Q.disabled||t.disabled}:{},...t.progressive?{required:!!Q.required,min:xo(Q.min),max:xo(Q.max),minLength:xo(Q.minLength),maxLength:xo(Q.maxLength),pattern:xo(Q.pattern)}:{},name:$,onChange:W,onBlur:W,ref:Se=>{if(Se){ne($,Q),q=De(a,$);const Ce=Tt(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,Ae=yN(Ce),Me=q._f.refs||[];if(Ae?Me.find(ze=>ze===Ce):Ce===q._f.ref)return;ft(a,$,{_f:{...q._f,...Ae?{refs:[...Me.filter(wd),Ce,...Array.isArray(De(p,$))?[{}]:[]],ref:{type:Ce.type,name:$}}:{ref:Ce}}}),k($,!1,void 0,Ce)}else q=De(a,$,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||Q.shouldUnregister)&&!(x2(h.array,$)&&w.action)&&h.unMount.add($)}}},me=()=>t.shouldFocusError&&Po(a,Y,h.mount),xe=$=>{En($)&&(c.state.next({disabled:$}),Po(a,(Q,q)=>{const ve=De(a,q);ve&&(Q.disabled=ve._f.disabled||$,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(Se=>{Se.disabled=ve._f.disabled||$}))},0,!1))},Ee=($,Q)=>async q=>{let ve;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let Se=Lt(b);if(c.state.next({isSubmitting:!0}),t.resolver){const{errors:Ce,values:Ae}=await F();r.errors=Ce,Se=Lt(Ae)}else await U(a);if(h.disabled.size)for(const Ce of h.disabled)Mt(Se,Ce);if(Mt(r.errors,"root"),vn(r.errors)){c.state.next({errors:{}});try{await $(Se,q)}catch(Ce){ve=Ce}}else Q&&await Q({...r.errors},q),me(),setTimeout(me);if(c.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vn(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},he=($,Q={})=>{De(a,$)&&(Tt(Q.defaultValue)?X($,Lt(De(p,$))):(X($,Q.defaultValue),ft(p,$,Lt(Q.defaultValue))),Q.keepTouched||Mt(r.touchedFields,$),Q.keepDirty||(Mt(r.dirtyFields,$),r.isDirty=Q.defaultValue?ie($,Lt(De(p,$))):ie()),Q.keepError||(Mt(r.errors,$),d.isValid&&y()),c.state.next({...r}))},re=($,Q={})=>{const q=$?Lt($):p,ve=Lt(q),Se=vn($),Ce=Se?p:ve;if(Q.keepDefaultValues||(p=q),!Q.keepValues){if(Q.keepDirtyValues){const Ae=new Set([...h.mount,...Object.keys(bo(p,b))]);for(const Me of Array.from(Ae))De(r.dirtyFields,Me)?ft(Ce,Me,De(b,Me)):X(Me,De(Ce,Me))}else{if(xm&&Tt($))for(const Ae of h.mount){const Me=De(a,Ae);if(Me&&Me._f){const ze=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(iu(ze)){const Ye=ze.closest("form");if(Ye){Ye.reset();break}}}}if(Q.keepFieldsRef)for(const Ae of h.mount)X(Ae,De(Ce,Ae));else a={}}b=t.shouldUnregister?Q.keepDefaultValues?Lt(p):{}:Lt(Ce),c.array.next({values:{...Ce}}),c.state.next({values:{...Ce}})}h={mount:Q.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},w.mount=!d.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,w.watch=!!t.shouldUnregister,c.state.next({submitCount:Q.keepSubmitCount?r.submitCount:0,isDirty:Se?!1:Q.keepDirty?r.isDirty:!!(Q.keepDefaultValues&&!Pi($,p)),isSubmitted:Q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Se?{}:Q.keepDirtyValues?Q.keepDefaultValues&&b?bo(p,b):r.dirtyFields:Q.keepDefaultValues&&$?bo(p,$):Q.keepDirty?r.dirtyFields:{},touchedFields:Q.keepTouched?r.touchedFields:{},errors:Q.keepErrors?r.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:p})},ye=($,Q)=>re(Zn($)?$(b):$,Q),be=($,Q={})=>{const q=De(a,$),ve=q&&q._f;if(ve){const Se=ve.refs?ve.refs[0]:ve.ref;Se.focus&&(Se.focus(),Q.shouldSelect&&Zn(Se.select)&&Se.select())}},ge=$=>{r={...r,...$}},Oe={control:{register:ne,unregister:Z,getFieldState:M,handleSubmit:Ee,setError:H,_subscribe:L,_runSchema:F,_focusError:me,_getWatch:se,_getDirty:ie,_setValid:y,_setFieldArray:x,_setDisabledField:te,_setErrors:_,_getFieldArray:ue,_reset:re,_resetDefaultValues:()=>Zn(t.defaultValues)&&t.defaultValues().then($=>{ye($,t.resetOptions),c.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:xe,_subjects:c,_proxyFormState:d,get _fields(){return a},get _formValues(){return b},get _state(){return w},set _state($){w=$},get _defaultValues(){return p},get _names(){return h},set _names($){h=$},get _formState(){return r},get _options(){return t},set _options($){t={...t,...$}}},subscribe:I,trigger:P,register:ne,handleSubmit:Ee,watch:N,setValue:X,getValues:A,reset:ye,resetField:he,clearErrors:B,unregister:Z,setError:H,setFocus:be,getFieldState:M};return{...Oe,formControl:Oe}}function DN(e={}){const t=Le.useRef(void 0),r=Le.useRef(void 0),[a,p]=Le.useState({isDirty:!1,isValidating:!1,isLoading:Zn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Zn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!Zn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:w,...h}=MN(e);t.current={...h,formState:a}}const b=t.current.control;return b._options=e,_m(()=>{const w=b._subscribe({formState:b._proxyFormState,callback:()=>p({...b._formState}),reRenderRoot:!0});return p(h=>({...h,isReady:!0})),b._formState.isReady=!0,w},[b]),Le.useEffect(()=>b._disableForm(e.disabled),[b,e.disabled]),Le.useEffect(()=>{e.mode&&(b._options.mode=e.mode),e.reValidateMode&&(b._options.reValidateMode=e.reValidateMode)},[b,e.mode,e.reValidateMode]),Le.useEffect(()=>{e.errors&&(b._setErrors(e.errors),b._focusError())},[b,e.errors]),Le.useEffect(()=>{e.shouldUnregister&&b._subjects.state.next({values:b._getWatch()})},[b,e.shouldUnregister]),Le.useEffect(()=>{if(b._proxyFormState.isDirty){const w=b._getDirty();w!==a.isDirty&&b._subjects.state.next({isDirty:w})}},[b,a.isDirty]),Le.useEffect(()=>{e.values&&!Pi(e.values,r.current)?(b._reset(e.values,{keepFieldsRef:!0,...b._options.resetOptions}),r.current=e.values,p(w=>({...w}))):b._resetDefaultValues()},[b,e.values]),Le.useEffect(()=>{b._state.mount||(b._setValid(),b._state.mount=!0),b._state.watch&&(b._state.watch=!1,b._subjects.state.next({...b._formState})),b._removeUnmounted()}),t.current.formState=S2(a,b),t.current}var Sd={exports:{}},Cd,Ax;function jN(){if(Ax)return Cd;Ax=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cd=e,Cd}var _d,Mx;function RN(){if(Mx)return _d;Mx=1;var e=jN();function t(){}function r(){}return r.resetWarningCache=t,_d=function(){function a(w,h,s,u,d,o){if(o!==e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}a.isRequired=a;function p(){return a}var b={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:p,element:a,elementType:a,instanceOf:p,node:a,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:r,resetWarningCache:t};return b.PropTypes=b,b},_d}var Dx;function PN(){return Dx||(Dx=1,Sd.exports=RN()()),Sd.exports}var LN=PN();const sn=gg(LN),au=({Icon:e,title:t="",onClick:r=()=>{},type:a="button",size:p="md",variant:b="default",iconClassName:w="",disabled:h=!1,className:s="",...u})=>{const d={sm:"p-1 text-sm",md:"p-2 text-base",lg:"p-3 text-lg"};return E.jsx("button",{type:a,title:t,onClick:r,disabled:h,className:ta("rounded-md flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",d[p],`variant-${b}`,s),...u,children:e&&E.jsx(e,{className:ta("w-5 h-5",w)})})};au.propTypes={Icon:sn.elementType.isRequired,title:sn.string,onClick:sn.func,type:sn.string,size:sn.oneOf(["sm","md","lg"]),variant:sn.oneOf(["default","primary","highlight"]),iconClassName:sn.string,disabled:sn.bool,className:sn.string};const M2=D.createContext(),NN=({children:e})=>{const[t,r]=D.useState({basler:{currentFrame:null,isConnected:!1,lastUpdate:0,frameCount:0,avgFps:0,lastFpsCalculation:0},monitoring:{currentFrame:null,isConnected:!1,lastUpdate:0,frameCount:0,avgFps:0,lastFpsCalculation:0}}),[a,p]=D.useState(null),[b,w]=D.useState([]),[h,s]=D.useState(!1),[u,d]=D.useState([]),[o,c]=D.useState([]),[f,g]=D.useState({brightness:100,contrast:100,saturation:100,zoom:1,grayscale:!1,crop:null,panOffset:{x:0,y:0}}),[y,m]=D.useState({x:0,y:0}),[x,S]=D.useState([]),[_,k]=D.useState("disconnected");D.useEffect(()=>{let Y=null,P=0,A=null,M=!1;const B=10,H=1e3,N=()=>{M||(k("connecting"),Y=new WebSocket("ws://localhost:12345"),Y.binaryType="arraybuffer",Y.onopen=()=>{M||(console.log("✅ WebSocket connected successfully"),k("connected"),r(L=>({...L,basler:{...L.basler,isConnected:!0},monitoring:{...L.monitoring,isConnected:!0}})),P=0)},Y.onmessage=L=>{if(!M)try{const I=L.data;if(typeof I=="string"&&I.startsWith("response:")){console.log("Backend Response:",I.slice(9));return}if(typeof I!="string")return;const Z=I.indexOf(":");if(Z===-1)return;const te=I.substring(0,Z),ne=I.substring(Z+1);if(!ne)return;if(!["basler","monitoring"].includes(te)){console.warn("Unknown channel:",te);return}const me=`data:image/jpeg;base64,${ne}`,xe=Date.now();r(Ee=>{const he=Ee[te],re=he.frameCount+1;let ye=he.avgFps,be=he.lastFpsCalculation;if(xe-be>=5e3){if(be>0){const ge=(xe-be)/1e3,Te=re-(he.frameCount-re+1);ye=Math.round(Te/ge*10)/10}be=xe}return{...Ee,[te]:{currentFrame:me,isConnected:!0,lastUpdate:xe,frameCount:re,avgFps:ye,lastFpsCalculation:be}}})}catch(I){console.error("❌ Error processing WebSocket message:",I)}},Y.onerror=L=>{console.error("❌ WebSocket error:",L),k("error")},Y.onclose=L=>{if(!M)if(console.warn("⚠️ WebSocket disconnected:",L.code,L.reason),k("disconnected"),r(I=>({...I,basler:{...I.basler,isConnected:!1,currentFrame:null},monitoring:{...I.monitoring,isConnected:!1,currentFrame:null}})),L.code!==1e3&&P<B){const I=Math.min(1e4,H*Math.pow(2,P));console.log(`🔄 Reconnecting in ${I/1e3}s... (attempt ${P+1}/${B})`),k("reconnecting"),A=setTimeout(()=>{M||(P++,N())},I)}else P>=B&&(console.error("❌ Max reconnection attempts reached"),k("failed"))})};return N(),()=>{M=!0,A&&clearTimeout(A),Y&&Y.readyState!==WebSocket.CLOSED&&Y.close(1e3,"Component unmounted")}},[]);const O=D.useCallback(Y=>{p(Y),console.log(`ابزار: ${Y}`)},[]),j=D.useCallback(Y=>{Y&&(Y.tool==="eraser"?F(Y):(c(P=>[...P,Y]),S(P=>[...P,{type:"tool-drawing",action:"add",drawing:Y}])))},[]),F=D.useCallback(Y=>{const P=Y.eraserRadius||15,A=Y.path||[];A.length!==0&&(c(M=>{const B=[];return M.forEach(H=>{if(H.tool==="eraser")return;let N=!1;if(H.path&&H.path.length>0)for(const L of H.path){for(const I of A)if(Math.sqrt(Math.pow(L.x-I.x,2)+Math.pow(L.y-I.y,2))<=P){N=!0;break}if(N)break}N||B.push(H)}),B}),w(M=>{const B=[];return M.forEach(H=>{let N=!1;if(H.path&&H.path.length>0)for(const L of H.path){for(const I of A)if(Math.sqrt(Math.pow(L.x-I.x,2)+Math.pow(L.y-I.y,2))<=P){N=!0;break}if(N)break}N||B.push(H)}),B}),S(M=>[...M,{type:"eraser",action:"erase",eraserDrawing:Y,eraserRadius:P}]))},[]),z=D.useCallback((Y,P)=>{if(!(!a||a==="pan")){if(a==="crop"&&f.crop){g(A=>({...A,crop:null})),p(null),S(A=>[...A,{type:"crop",action:"remove"}]);return}s(!0),d([{x:Y,y:P}])}},[a,f.crop]),U=D.useCallback((Y,P)=>{m({x:Y,y:P}),!(!h||!a)&&d(A=>[...A,{x:Y,y:P}])},[h,a]),G=D.useCallback(()=>{if(!h||u.length<2){s(!1),d([]);return}if(a==="crop"){const Y=u[0],P=u[u.length-1],A={x:Math.min(Y.x,P.x),y:Math.min(Y.y,P.y),width:Math.abs(P.x-Y.x),height:Math.abs(P.y-Y.y)};g(M=>({...M,crop:A})),S(M=>[...M,{type:"crop",action:"apply",settings:A}])}else{const Y={id:Date.now(),tool:a,path:u};w(P=>[...P,Y]),S(P=>[...P,{type:"drawing",action:"add",drawing:Y}])}s(!1),d([])},[h,u,a]),ie=D.useCallback(()=>{w([]),c([]),d([]),s(!1),g(Y=>({...Y,crop:null})),S(Y=>[...Y,{type:"clear",action:"all"}]),window.clearFabricCanvas&&window.clearFabricCanvas()},[]),se=D.useCallback(Y=>{g(P=>({...P,...Y})),S(P=>[...P,{type:"settings",action:"update",settings:Y}])},[]),ue=D.useCallback(()=>{g(Y=>{const P=!Y.grayscale;return S(A=>[...A,{type:"grayscale",action:"toggle",value:P}]),{...Y,grayscale:P}})},[]),le=D.useCallback(Y=>{g(P=>{const A=Y==="in"?P.zoom*1.2:P.zoom/1.2,M=Math.max(.2,Math.min(5,A));return S(B=>[...B,{type:"zoom",action:"change",value:M,prevValue:P.zoom}]),{...P,zoom:M}})},[]),ee=D.useCallback((Y,P)=>{g(A=>{const M={x:A.panOffset.x+Y,y:A.panOffset.y+P};return S(B=>[...B,{type:"pan",action:"move",offset:M,prevOffset:A.panOffset}]),{...A,panOffset:M}})},[]),X=D.useCallback(()=>{if(window.undoLastFabricAction){window.undoLastFabricAction();return}S(Y=>{if(Y.length===0)return Y;const P=Y[Y.length-1],A=Y.slice(0,-1);switch(P.type){case"drawing":P.action==="add"&&w(M=>M.slice(0,-1));break;case"tool-drawing":P.action==="add"&&c(M=>M.slice(0,-1));break;case"eraser":P.action==="erase"&&console.log("Undo eraser operation - complex operation");break;case"crop":P.action==="apply"?g(M=>({...M,crop:null})):P.action==="remove"&&g(M=>({...M,crop:P.settings}));break;case"grayscale":g(M=>({...M,grayscale:!P.value}));break;case"zoom":g(M=>({...M,zoom:P.prevValue}));break;case"settings":g(M=>({...M,...P.prevSettings}));break;case"pan":g(M=>({...M,panOffset:P.prevOffset}));break}return A})},[]),W={cameras:t,activeTool:a,drawings:b,toolDrawings:o,isDrawing:h,currentPath:u,imageSettings:f,cursorPosition:y,wsStatus:_,applyTool:O,startDrawing:z,continueDrawing:U,finishDrawing:G,clearDrawings:ie,addToolDrawing:j,updateImageSettings:se,toggleGrayscale:ue,zoomImage:le,panImage:ee,undoLastChange:X};return E.jsx(M2.Provider,{value:W,children:e})},Au=()=>{const e=D.useContext(M2);if(!e)throw new Error("useCamera must be used within CameraProvider");return e};var Td={};const BN={},FN=Object.freeze(Object.defineProperty({__proto__:null,default:BN},Symbol.toStringTag,{value:"Module"})),kd=q_(FN);var jx;function zN(){return jx||(jx=1,function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var r=kd,a=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=a.document,t.jsdomImplForWrapper=kd.implForWrapper,t.nodeCanvas=kd.Canvas,t.window=a,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function h(f,g){if(this.__eventListeners[f]){var y=this.__eventListeners[f];g?y[y.indexOf(g)]=!1:t.util.array.fill(y,!1)}}function s(f,g){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var y in f)this.on(y,f[y]);else this.__eventListeners[f]||(this.__eventListeners[f]=[]),this.__eventListeners[f].push(g);return this}function u(f,g){var y=(function(){g.apply(this,arguments),this.off(f,y)}).bind(this);this.on(f,y)}function d(f,g){if(arguments.length===1)for(var y in f)u.call(this,y,f[y]);else u.call(this,f,g);return this}function o(f,g){if(!this.__eventListeners)return this;if(arguments.length===0)for(f in this.__eventListeners)h.call(this,f);else if(arguments.length===1&&typeof arguments[0]=="object")for(var y in f)h.call(this,y,f[y]);else h.call(this,f,g);return this}function c(f,g){if(!this.__eventListeners)return this;var y=this.__eventListeners[f];if(!y)return this;for(var m=0,x=y.length;m<x;m++)y[m]&&y[m].call(this,g||{});return this.__eventListeners[f]=y.filter(function(S){return S!==!1}),this}t.Observable={fire:c,on:s,once:d,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var h=0,s=arguments.length;h<s;h++)this._onObjectAdded(arguments[h]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(h,s,u){var d=this._objects;return u?d[s]=h:d.splice(s,0,h),this._onObjectAdded&&this._onObjectAdded(h),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var h=this._objects,s,u=!1,d=0,o=arguments.length;d<o;d++)s=h.indexOf(arguments[d]),s!==-1&&(u=!0,h.splice(s,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(h,s){for(var u=this.getObjects(),d=0,o=u.length;d<o;d++)h.call(s,u[d],d,u);return this},getObjects:function(h){return typeof h>"u"?this._objects.concat():this._objects.filter(function(s){return s.type===h})},item:function(h){return this._objects[h]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(h,s){return this._objects.indexOf(h)>-1?!0:s?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(h,!0)}):!1},complexity:function(){return this._objects.reduce(function(h,s){return h+=s.complexity?s.complexity():0,h},0)}},t.CommonMethods={_setOptions:function(h){for(var s in h)this.set(s,h[s])},_initGradient:function(h,s){h&&h.colorStops&&!(h instanceof t.Gradient)&&this.set(s,new t.Gradient(h))},_initPattern:function(h,s,u){h&&h.source&&!(h instanceof t.Pattern)?this.set(s,new t.Pattern(h,u)):u&&u()},_setObject:function(h){for(var s in h)this._set(s,h[s])},set:function(h,s){return typeof h=="object"?this._setObject(h):this._set(h,s),this},_set:function(h,s){this[h]=s},toggle:function(h){var s=this.get(h);return typeof s=="boolean"&&this.set(h,!s),this},get:function(h){return this[h]}},function(h){var s=Math.sqrt,u=Math.atan2,d=Math.pow,o=Math.PI/180,c=Math.PI/2;t.util={cos:function(f){if(f===0)return 1;f<0&&(f=-f);var g=f/c;switch(g){case 1:case 3:return 0;case 2:return-1}return Math.cos(f)},sin:function(f){if(f===0)return 0;var g=f/c,y=1;switch(f<0&&(y=-1),g){case 1:return y;case 2:return 0;case 3:return-y}return Math.sin(f)},removeFromArray:function(f,g){var y=f.indexOf(g);return y!==-1&&f.splice(y,1),f},getRandomInt:function(f,g){return Math.floor(Math.random()*(g-f+1))+f},degreesToRadians:function(f){return f*o},radiansToDegrees:function(f){return f/o},rotatePoint:function(f,g,y){var m=new t.Point(f.x-g.x,f.y-g.y),x=t.util.rotateVector(m,y);return new t.Point(x.x,x.y).addEquals(g)},rotateVector:function(f,g){var y=t.util.sin(g),m=t.util.cos(g),x=f.x*m-f.y*y,S=f.x*y+f.y*m;return{x,y:S}},createVector:function(f,g){return new t.Point(g.x-f.x,g.y-f.y)},calcAngleBetweenVectors:function(f,g){return Math.acos((f.x*g.x+f.y*g.y)/(Math.hypot(f.x,f.y)*Math.hypot(g.x,g.y)))},getHatVector:function(f){return new t.Point(f.x,f.y).multiply(1/Math.hypot(f.x,f.y))},getBisector:function(f,g,y){var m=t.util.createVector(f,g),x=t.util.createVector(f,y),S=t.util.calcAngleBetweenVectors(m,x),_=t.util.calcAngleBetweenVectors(t.util.rotateVector(m,S),x),k=S*(_===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(m,k)),angle:S}},projectStrokeOnPoints:function(f,g,y){var m=[],x=g.strokeWidth/2,S=g.strokeUniform?new t.Point(1/g.scaleX,1/g.scaleY):new t.Point(1,1),_=function(k){var O=x/Math.hypot(k.x,k.y);return new t.Point(k.x*O*S.x,k.y*O*S.y)};return f.length<=1||f.forEach(function(k,O){var j=new t.Point(k.x,k.y),F,z;O===0?(z=f[O+1],F=y?_(t.util.createVector(z,j)).addEquals(j):f[f.length-1]):O===f.length-1?(F=f[O-1],z=y?_(t.util.createVector(F,j)).addEquals(j):f[0]):(F=f[O-1],z=f[O+1]);var U=t.util.getBisector(j,F,z),G=U.vector,ie=U.angle,se,ue;if(g.strokeLineJoin==="miter"&&(se=-x/Math.sin(ie/2),ue=new t.Point(G.x*se*S.x,G.y*se*S.y),Math.hypot(ue.x,ue.y)/x<=g.strokeMiterLimit)){m.push(j.add(ue)),m.push(j.subtract(ue));return}se=-x*Math.SQRT2,ue=new t.Point(G.x*se*S.x,G.y*se*S.y),m.push(j.add(ue)),m.push(j.subtract(ue))}),m},transformPoint:function(f,g,y){return y?new t.Point(g[0]*f.x+g[2]*f.y,g[1]*f.x+g[3]*f.y):new t.Point(g[0]*f.x+g[2]*f.y+g[4],g[1]*f.x+g[3]*f.y+g[5])},makeBoundingBoxFromPoints:function(f,g){if(g)for(var y=0;y<f.length;y++)f[y]=t.util.transformPoint(f[y],g);var m=[f[0].x,f[1].x,f[2].x,f[3].x],x=t.util.array.min(m),S=t.util.array.max(m),_=S-x,k=[f[0].y,f[1].y,f[2].y,f[3].y],O=t.util.array.min(k),j=t.util.array.max(k),F=j-O;return{left:x,top:O,width:_,height:F}},invertTransform:function(f){var g=1/(f[0]*f[3]-f[1]*f[2]),y=[g*f[3],-g*f[1],-g*f[2],g*f[0]],m=t.util.transformPoint({x:f[4],y:f[5]},y,!0);return y[4]=-m.x,y[5]=-m.y,y},toFixed:function(f,g){return parseFloat(Number(f).toFixed(g))},parseUnit:function(f,g){var y=/\D{0,2}$/.exec(f),m=parseFloat(f);switch(g||(g=t.Text.DEFAULT_SVG_FONT_SIZE),y[0]){case"mm":return m*t.DPI/25.4;case"cm":return m*t.DPI/2.54;case"in":return m*t.DPI;case"pt":return m*t.DPI/72;case"pc":return m*t.DPI/72*12;case"em":return m*g;default:return m}},falseFunction:function(){return!1},getKlass:function(f,g){return f=t.util.string.camelize(f.charAt(0).toUpperCase()+f.slice(1)),t.util.resolveNamespace(g)[f]},getSvgAttributes:function(f){var g=["instantiated_by_use","style","id","class"];switch(f){case"linearGradient":g=g.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":g=g.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":g=g.concat(["offset","stop-color","stop-opacity"]);break}return g},resolveNamespace:function(f){if(!f)return t;var g=f.split("."),y=g.length,m,x=h||t.window;for(m=0;m<y;++m)x=x[g[m]];return x},loadImage:function(f,g,y,m){if(!f){g&&g.call(y,f);return}var x=t.util.createImage(),S=function(){g&&g.call(y,x,!1),x=x.onload=x.onerror=null};x.onload=S,x.onerror=function(){t.log("Error loading "+x.src),g&&g.call(y,null,!0),x=x.onload=x.onerror=null},f.indexOf("data")!==0&&m!==void 0&&m!==null&&(x.crossOrigin=m),f.substring(0,14)==="data:image/svg"&&(x.onload=null,t.util.loadImageInDom(x,S)),x.src=f},loadImageInDom:function(f,g){var y=t.document.createElement("div");y.style.width=y.style.height="1px",y.style.left=y.style.top="-100%",y.style.position="absolute",y.appendChild(f),t.document.querySelector("body").appendChild(y),f.onload=function(){g(),y.parentNode.removeChild(y),y=null}},enlivenObjects:function(f,g,y,m){f=f||[];var x=[],S=0,_=f.length;function k(){++S===_&&g&&g(x.filter(function(O){return O}))}if(!_){g&&g(x);return}f.forEach(function(O,j){if(!O||!O.type){k();return}var F=t.util.getKlass(O.type,y);F.fromObject(O,function(z,U){U||(x[j]=z),m&&m(O,z,U),k()})})},enlivenObjectEnlivables:function(f,g,y){var m=t.Object.ENLIVEN_PROPS.filter(function(x){return!!f[x]});t.util.enlivenObjects(m.map(function(x){return f[x]}),function(x){var S={};m.forEach(function(_,k){S[_]=x[k],g&&(g[_]=x[k])}),y&&y(S)})},enlivenPatterns:function(f,g){f=f||[];function y(){++x===S&&g&&g(m)}var m=[],x=0,S=f.length;if(!S){g&&g(m);return}f.forEach(function(_,k){_&&_.source?new t.Pattern(_,function(O){m[k]=O,y()}):(m[k]=_,y())})},groupSVGElements:function(f,g,y){var m;return f&&f.length===1?(typeof y<"u"&&(f[0].sourcePath=y),f[0]):(g&&(g.width&&g.height?g.centerPoint={x:g.width/2,y:g.height/2}:(delete g.width,delete g.height)),m=new t.Group(f,g),typeof y<"u"&&(m.sourcePath=y),m)},populateWithProperties:function(f,g,y){if(y&&Array.isArray(y))for(var m=0,x=y.length;m<x;m++)y[m]in f&&(g[y[m]]=f[y[m]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(f){var g=t.util.createCanvasElement();return g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0),g},toDataURL:function(f,g,y){return f.toDataURL("image/"+g,y)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(f,g,y){return[f[0]*g[0]+f[2]*g[1],f[1]*g[0]+f[3]*g[1],f[0]*g[2]+f[2]*g[3],f[1]*g[2]+f[3]*g[3],y?0:f[0]*g[4]+f[2]*g[5]+f[4],y?0:f[1]*g[4]+f[3]*g[5]+f[5]]},qrDecompose:function(f){var g=u(f[1],f[0]),y=d(f[0],2)+d(f[1],2),m=s(y),x=(f[0]*f[3]-f[2]*f[1])/m,S=u(f[0]*f[2]+f[1]*f[3],y);return{angle:g/o,scaleX:m,scaleY:x,skewX:S/o,skewY:0,translateX:f[4],translateY:f[5]}},calcRotateMatrix:function(f){if(!f.angle)return t.iMatrix.concat();var g=t.util.degreesToRadians(f.angle),y=t.util.cos(g),m=t.util.sin(g);return[y,m,-m,y,0,0]},calcDimensionsMatrix:function(f){var g=typeof f.scaleX>"u"?1:f.scaleX,y=typeof f.scaleY>"u"?1:f.scaleY,m=[f.flipX?-g:g,0,0,f.flipY?-y:y,0,0],x=t.util.multiplyTransformMatrices,S=t.util.degreesToRadians;return f.skewX&&(m=x(m,[1,0,Math.tan(S(f.skewX)),1],!0)),f.skewY&&(m=x(m,[1,Math.tan(S(f.skewY)),0,1],!0)),m},composeMatrix:function(f){var g=[1,0,0,1,f.translateX||0,f.translateY||0],y=t.util.multiplyTransformMatrices;return f.angle&&(g=y(g,t.util.calcRotateMatrix(f))),(f.scaleX!==1||f.scaleY!==1||f.skewX||f.skewY||f.flipX||f.flipY)&&(g=y(g,t.util.calcDimensionsMatrix(f))),g},resetObjectTransform:function(f){f.scaleX=1,f.scaleY=1,f.skewX=0,f.skewY=0,f.flipX=!1,f.flipY=!1,f.rotate(0)},saveObjectTransform:function(f){return{scaleX:f.scaleX,scaleY:f.scaleY,skewX:f.skewX,skewY:f.skewY,angle:f.angle,left:f.left,flipX:f.flipX,flipY:f.flipY,top:f.top}},isTransparent:function(f,g,y,m){m>0&&(g>m?g-=m:g=0,y>m?y-=m:y=0);var x=!0,S,_,k=f.getImageData(g,y,m*2||1,m*2||1),O=k.data.length;for(S=3;S<O&&(_=k.data[S],x=_<=0,x!==!1);S+=4);return k=null,x},parsePreserveAspectRatioAttribute:function(f){var g="meet",y="Mid",m="Mid",x=f.split(" "),S;return x&&x.length&&(g=x.pop(),g!=="meet"&&g!=="slice"?(S=g,g="meet"):x.length&&(S=x.pop())),y=S!=="none"?S.slice(1,4):"none",m=S!=="none"?S.slice(5,8):"none",{meetOrSlice:g,alignX:y,alignY:m}},clearFabricFontCache:function(f){f=(f||"").toLowerCase(),f?t.charWidthsCache[f]&&delete t.charWidthsCache[f]:t.charWidthsCache={}},limitDimsByArea:function(f,g){var y=Math.sqrt(g*f),m=Math.floor(g/y);return{x:Math.floor(y),y:m}},capValue:function(f,g,y){return Math.max(f,Math.min(g,y))},findScaleToFit:function(f,g){return Math.min(g.width/f.width,g.height/f.height)},findScaleToCover:function(f,g){return Math.max(g.width/f.width,g.height/f.height)},matrixToSVG:function(f){return"matrix("+f.map(function(g){return t.util.toFixed(g,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(f,g){var y=t.util.invertTransform(g),m=t.util.multiplyTransformMatrices(y,f.calcOwnMatrix());t.util.applyTransformToObject(f,m)},addTransformToObject:function(f,g){t.util.applyTransformToObject(f,t.util.multiplyTransformMatrices(g,f.calcOwnMatrix()))},applyTransformToObject:function(f,g){var y=t.util.qrDecompose(g),m=new t.Point(y.translateX,y.translateY);f.flipX=!1,f.flipY=!1,f.set("scaleX",y.scaleX),f.set("scaleY",y.scaleY),f.skewX=y.skewX,f.skewY=y.skewY,f.angle=y.angle,f.setPositionByOrigin(m,"center","center")},sizeAfterTransform:function(f,g,y){var m=f/2,x=g/2,S=[{x:-m,y:-x},{x:m,y:-x},{x:-m,y:x},{x:m,y:x}],_=t.util.calcDimensionsMatrix(y),k=t.util.makeBoundingBoxFromPoints(S,_);return{x:k.width,y:k.height}},mergeClipPaths:function(f,g){var y=f,m=g;y.inverted&&!m.inverted&&(y=g,m=f),t.util.applyTransformToObject(m,t.util.multiplyTransformMatrices(t.util.invertTransform(y.calcTransformMatrix()),m.calcTransformMatrix()));var x=y.inverted&&m.inverted;return x&&(y.inverted=m.inverted=!1),new t.Group([y],{clipPath:m,inverted:x})},hasStyleChanged:function(f,g,y){return y=y||!1,f.fill!==g.fill||f.stroke!==g.stroke||f.strokeWidth!==g.strokeWidth||f.fontSize!==g.fontSize||f.fontFamily!==g.fontFamily||f.fontWeight!==g.fontWeight||f.fontStyle!==g.fontStyle||f.textBackgroundColor!==g.textBackgroundColor||f.deltaY!==g.deltaY||y&&(f.overline!==g.overline||f.underline!==g.underline||f.linethrough!==g.linethrough)},stylesToArray:function(y,g){for(var y=t.util.object.clone(y,!0),m=g.split(`
`),x=-1,S={},_=[],k=0;k<m.length;k++){if(!y[k]){x+=m[k].length;continue}for(var O=0;O<m[k].length;O++){x++;var j=y[k][O];if(j&&Object.keys(j).length>0){var F=t.util.hasStyleChanged(S,j,!0);F?_.push({start:x,end:x+1,style:j}):_[_.length-1].end++}S=j||{}}}return _},stylesFromArray:function(f,g){if(!Array.isArray(f))return f;for(var y=g.split(`
`),m=-1,x=0,S={},_=0;_<y.length;_++)for(var k=0;k<y[_].length;k++)m++,f[x]&&f[x].start<=m&&m<f[x].end&&(S[_]=S[_]||{},S[_][k]=Object.assign({},f[x].style),m===f[x].end-1&&x++);return S}}}(e),function(){var h=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},u={m:"l",M:"L"};function d(P,A,M,B,H,N,L,I,Z,te,ne){var me=t.util.cos(P),xe=t.util.sin(P),Ee=t.util.cos(A),he=t.util.sin(A),re=M*H*Ee-B*N*he+L,ye=B*H*Ee+M*N*he+I,be=te+Z*(-M*H*xe-B*N*me),ge=ne+Z*(-B*H*xe+M*N*me),Te=re+Z*(M*H*he+B*N*Ee),Oe=ye+Z*(B*H*he-M*N*Ee);return["C",be,ge,Te,Oe,re,ye]}function o(P,A,M,B,H,N,L){var I=Math.PI,Z=L*I/180,te=t.util.sin(Z),ne=t.util.cos(Z),me=0,xe=0;M=Math.abs(M),B=Math.abs(B);var Ee=-ne*P*.5-te*A*.5,he=-ne*A*.5+te*P*.5,re=M*M,ye=B*B,be=he*he,ge=Ee*Ee,Te=re*ye-re*be-ye*ge,Oe=0;if(Te<0){var $=Math.sqrt(1-Te/(re*ye));M*=$,B*=$}else Oe=(H===N?-1:1)*Math.sqrt(Te/(re*be+ye*ge));var Q=Oe*M*he/B,q=-Oe*B*Ee/M,ve=ne*Q-te*q+P*.5,Se=te*Q+ne*q+A*.5,Ce=c(1,0,(Ee-Q)/M,(he-q)/B),Ae=c((Ee-Q)/M,(he-q)/B,(-Ee-Q)/M,(-he-q)/B);N===0&&Ae>0?Ae-=2*I:N===1&&Ae<0&&(Ae+=2*I);for(var Me=Math.ceil(Math.abs(Ae/I*2)),ze=[],Ye=Ae/Me,un=8/3*Math.sin(Ye/4)*Math.sin(Ye/4)/Math.sin(Ye/2),Wt=Ce+Ye,fn=0;fn<Me;fn++)ze[fn]=d(Ce,Wt,ne,te,M,B,ve,Se,un,me,xe),me=ze[fn][5],xe=ze[fn][6],Ce=Wt,Wt+=Ye;return ze}function c(P,A,M,B){var H=Math.atan2(A,P),N=Math.atan2(B,M);return N>=H?N-H:2*Math.PI-(H-N)}function f(P,A,M,B,H,N,L,I){var Z;if(t.cachesBoundsOfCurve&&(Z=h.call(arguments),t.boundsOfCurveCache[Z]))return t.boundsOfCurveCache[Z];var te=Math.sqrt,ne=Math.min,me=Math.max,xe=Math.abs,Ee=[],he=[[],[]],re,ye,be,ge,Te,Oe,$,Q;ye=6*P-12*M+6*H,re=-3*P+9*M-9*H+3*L,be=3*M-3*P;for(var q=0;q<2;++q){if(q>0&&(ye=6*A-12*B+6*N,re=-3*A+9*B-9*N+3*I,be=3*B-3*A),xe(re)<1e-12){if(xe(ye)<1e-12)continue;ge=-be/ye,0<ge&&ge<1&&Ee.push(ge);continue}$=ye*ye-4*be*re,!($<0)&&(Q=te($),Te=(-ye+Q)/(2*re),0<Te&&Te<1&&Ee.push(Te),Oe=(-ye-Q)/(2*re),0<Oe&&Oe<1&&Ee.push(Oe))}for(var ve,Se,Ce=Ee.length,Ae=Ce,Me;Ce--;)ge=Ee[Ce],Me=1-ge,ve=Me*Me*Me*P+3*Me*Me*ge*M+3*Me*ge*ge*H+ge*ge*ge*L,he[0][Ce]=ve,Se=Me*Me*Me*A+3*Me*Me*ge*B+3*Me*ge*ge*N+ge*ge*ge*I,he[1][Ce]=Se;he[0][Ae]=P,he[1][Ae]=A,he[0][Ae+1]=L,he[1][Ae+1]=I;var ze=[{x:ne.apply(null,he[0]),y:ne.apply(null,he[1])},{x:me.apply(null,he[0]),y:me.apply(null,he[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[Z]=ze),ze}function g(P,A,M){for(var B=M[1],H=M[2],N=M[3],L=M[4],I=M[5],Z=M[6],te=M[7],ne=o(Z-P,te-A,B,H,L,I,N),me=0,xe=ne.length;me<xe;me++)ne[me][1]+=P,ne[me][2]+=A,ne[me][3]+=P,ne[me][4]+=A,ne[me][5]+=P,ne[me][6]+=A;return ne}function y(P){var A=0,M=0,B=P.length,H=0,N=0,L,I,Z,te=[],ne,me,xe;for(I=0;I<B;++I){switch(Z=!1,L=P[I].slice(0),L[0]){case"l":L[0]="L",L[1]+=A,L[2]+=M;case"L":A=L[1],M=L[2];break;case"h":L[1]+=A;case"H":L[0]="L",L[2]=M,A=L[1];break;case"v":L[1]+=M;case"V":L[0]="L",M=L[1],L[1]=A,L[2]=M;break;case"m":L[0]="M",L[1]+=A,L[2]+=M;case"M":A=L[1],M=L[2],H=L[1],N=L[2];break;case"c":L[0]="C",L[1]+=A,L[2]+=M,L[3]+=A,L[4]+=M,L[5]+=A,L[6]+=M;case"C":me=L[3],xe=L[4],A=L[5],M=L[6];break;case"s":L[0]="S",L[1]+=A,L[2]+=M,L[3]+=A,L[4]+=M;case"S":ne==="C"?(me=2*A-me,xe=2*M-xe):(me=A,xe=M),A=L[3],M=L[4],L[0]="C",L[5]=L[3],L[6]=L[4],L[3]=L[1],L[4]=L[2],L[1]=me,L[2]=xe,me=L[3],xe=L[4];break;case"q":L[0]="Q",L[1]+=A,L[2]+=M,L[3]+=A,L[4]+=M;case"Q":me=L[1],xe=L[2],A=L[3],M=L[4];break;case"t":L[0]="T",L[1]+=A,L[2]+=M;case"T":ne==="Q"?(me=2*A-me,xe=2*M-xe):(me=A,xe=M),L[0]="Q",A=L[1],M=L[2],L[1]=me,L[2]=xe,L[3]=A,L[4]=M;break;case"a":L[0]="A",L[6]+=A,L[7]+=M;case"A":Z=!0,te=te.concat(g(A,M,L)),A=L[6],M=L[7];break;case"z":case"Z":A=H,M=N;break}Z||te.push(L),ne=L[0]}return te}function m(P,A,M,B){return Math.sqrt((M-P)*(M-P)+(B-A)*(B-A))}function x(P){return P*P*P}function S(P){return 3*P*P*(1-P)}function _(P){return 3*P*(1-P)*(1-P)}function k(P){return(1-P)*(1-P)*(1-P)}function O(P,A,M,B,H,N,L,I){return function(Z){var te=x(Z),ne=S(Z),me=_(Z),xe=k(Z);return{x:L*te+H*ne+M*me+P*xe,y:I*te+N*ne+B*me+A*xe}}}function j(P,A,M,B,H,N,L,I){return function(Z){var te=1-Z,ne=3*te*te*(M-P)+6*te*Z*(H-M)+3*Z*Z*(L-H),me=3*te*te*(B-A)+6*te*Z*(N-B)+3*Z*Z*(I-N);return Math.atan2(me,ne)}}function F(P){return P*P}function z(P){return 2*P*(1-P)}function U(P){return(1-P)*(1-P)}function G(P,A,M,B,H,N){return function(L){var I=F(L),Z=z(L),te=U(L);return{x:H*I+M*Z+P*te,y:N*I+B*Z+A*te}}}function ie(P,A,M,B,H,N){return function(L){var I=1-L,Z=2*I*(M-P)+2*L*(H-M),te=2*I*(B-A)+2*L*(N-B);return Math.atan2(te,Z)}}function se(P,A,M){var B={x:A,y:M},H,N=0,L;for(L=1;L<=100;L+=1)H=P(L/100),N+=m(B.x,B.y,H.x,H.y),B=H;return N}function ue(P,A){for(var M=0,B=0,H=P.iterator,N={x:P.x,y:P.y},L,I,Z=.01,te=P.angleFinder,ne;B<A&&Z>1e-4;)L=H(M),ne=M,I=m(N.x,N.y,L.x,L.y),I+B>A?(M-=Z,Z/=2):(N=L,M+=Z,B+=I);return L.angle=te(ne),L}function le(P){for(var A=0,M=P.length,B,H=0,N=0,L=0,I=0,Z=[],te,ne,me,xe=0;xe<M;xe++){switch(B=P[xe],ne={x:H,y:N,command:B[0]},B[0]){case"M":ne.length=0,L=H=B[1],I=N=B[2];break;case"L":ne.length=m(H,N,B[1],B[2]),H=B[1],N=B[2];break;case"C":te=O(H,N,B[1],B[2],B[3],B[4],B[5],B[6]),me=j(H,N,B[1],B[2],B[3],B[4],B[5],B[6]),ne.iterator=te,ne.angleFinder=me,ne.length=se(te,H,N),H=B[5],N=B[6];break;case"Q":te=G(H,N,B[1],B[2],B[3],B[4]),me=ie(H,N,B[1],B[2],B[3],B[4]),ne.iterator=te,ne.angleFinder=me,ne.length=se(te,H,N),H=B[3],N=B[4];break;case"Z":case"z":ne.destX=L,ne.destY=I,ne.length=m(H,N,L,I),H=L,N=I;break}A+=ne.length,Z.push(ne)}return Z.push({length:A,x:H,y:N}),Z}function ee(P,A,M){M||(M=le(P));for(var B=0;A-M[B].length>0&&B<M.length-2;)A-=M[B].length,B++;var H=M[B],N=A/H.length,L=H.command,I=P[B],Z;switch(L){case"M":return{x:H.x,y:H.y,angle:0};case"Z":case"z":return Z=new t.Point(H.x,H.y).lerp(new t.Point(H.destX,H.destY),N),Z.angle=Math.atan2(H.destY-H.y,H.destX-H.x),Z;case"L":return Z=new t.Point(H.x,H.y).lerp(new t.Point(I[1],I[2]),N),Z.angle=Math.atan2(I[2]-H.y,I[1]-H.x),Z;case"C":return ue(H,A);case"Q":return ue(H,A)}}function X(P){var A=[],M=[],B,H,N=t.rePathCommand,L="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",I="("+L+")"+t.commaWsp,Z="([01])"+t.commaWsp+"?",te=I+"?"+I+"?"+I+Z+Z+I+"?("+L+")",ne=new RegExp(te,"g"),me,xe,Ee;if(!P||!P.match)return A;Ee=P.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var he=0,re,ye=Ee.length;he<ye;he++){B=Ee[he],xe=B.slice(1).trim(),M.length=0;var be=B.charAt(0);if(re=[be],be.toLowerCase()==="a")for(var ge;ge=ne.exec(xe);)for(var Te=1;Te<ge.length;Te++)M.push(ge[Te]);else for(;me=N.exec(xe);)M.push(me[0]);for(var Te=0,Oe=M.length;Te<Oe;Te++)H=parseFloat(M[Te]),isNaN(H)||re.push(H);var $=s[be.toLowerCase()],Q=u[be]||be;if(re.length-1>$)for(var q=1,ve=re.length;q<ve;q+=$)A.push([be].concat(re.slice(q,q+$))),be=Q;else A.push(re)}return A}function W(P,A){var M=[],B,H=new t.Point(P[0].x,P[0].y),N=new t.Point(P[1].x,P[1].y),L=P.length,I=1,Z=0,te=L>2;for(A=A||0,te&&(I=P[2].x<N.x?-1:P[2].x===N.x?0:1,Z=P[2].y<N.y?-1:P[2].y===N.y?0:1),M.push(["M",H.x-I*A,H.y-Z*A]),B=1;B<L;B++){if(!H.eq(N)){var ne=H.midPointFrom(N);M.push(["Q",H.x,H.y,ne.x,ne.y])}H=P[B],B+1<P.length&&(N=P[B+1])}return te&&(I=H.x>P[B-2].x?1:H.x===P[B-2].x?0:-1,Z=H.y>P[B-2].y?1:H.y===P[B-2].y?0:-1),M.push(["L",H.x+I*A,H.y+Z*A]),M}function Y(P,A,M){return M&&(A=t.util.multiplyTransformMatrices(A,[1,0,0,1,-M.x,-M.y])),P.map(function(B){for(var H=B.slice(0),N={},L=1;L<B.length-1;L+=2)N.x=B[L],N.y=B[L+1],N=t.util.transformPoint(N,A),H[L]=N.x,H[L+1]=N.y;return H})}t.util.joinPath=function(P){return P.map(function(A){return A.join(" ")}).join(" ")},t.util.parsePath=X,t.util.makePathSimpler=y,t.util.getSmoothPathFromPoints=W,t.util.getPathSegmentsInfo=le,t.util.getBoundsOfCurve=f,t.util.getPointOnPath=ee,t.util.transformPath=Y}(),function(){var h=Array.prototype.slice;function s(f,g){for(var y=h.call(arguments,2),m=[],x=0,S=f.length;x<S;x++)m[x]=y.length?f[x][g].apply(f[x],y):f[x][g].call(f[x]);return m}function u(f,g){return c(f,g,function(y,m){return y>=m})}function d(f,g){return c(f,g,function(y,m){return y<m})}function o(f,g){for(var y=f.length;y--;)f[y]=g;return f}function c(f,g,y){if(!(!f||f.length===0)){var m=f.length-1,x=g?f[m][g]:f[m];if(g)for(;m--;)y(f[m][g],x)&&(x=f[m][g]);else for(;m--;)y(f[m],x)&&(x=f[m]);return x}}t.util.array={fill:o,invoke:s,min:d,max:u}}(),function(){function h(u,d,o){if(o)if(!t.isLikelyNode&&d instanceof Element)u=d;else if(d instanceof Array){u=[];for(var c=0,f=d.length;c<f;c++)u[c]=h({},d[c],o)}else if(d&&typeof d=="object")for(var g in d)g==="canvas"||g==="group"?u[g]=null:d.hasOwnProperty(g)&&(u[g]=h({},d[g],o));else u=d;else for(var g in d)u[g]=d[g];return u}function s(u,d){return h({},u,d)}t.util.object={extend:h,clone:s},t.util.object.extend(t.util,t.Observable)}(),function(){function h(c){return c.replace(/-+(.)?/g,function(f,g){return g?g.toUpperCase():""})}function s(c,f){return c.charAt(0).toUpperCase()+(f?c.slice(1):c.slice(1).toLowerCase())}function u(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(c){var f=0,g,y=[];for(f=0,g;f<c.length;f++)(g=o(c,f))!==!1&&y.push(g);return y}function o(c,f){var g=c.charCodeAt(f);if(isNaN(g))return"";if(g<55296||g>57343)return c.charAt(f);if(55296<=g&&g<=56319){if(c.length<=f+1)throw"High surrogate without following low surrogate";var y=c.charCodeAt(f+1);if(56320>y||y>57343)throw"High surrogate without following low surrogate";return c.charAt(f)+c.charAt(f+1)}if(f===0)throw"Low surrogate without preceding high surrogate";var m=c.charCodeAt(f-1);if(55296>m||m>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:h,capitalize:s,escapeXml:u,graphemeSplit:d}}(),function(){var h=Array.prototype.slice,s=function(){},u=function(){for(var g in{toString:1})if(g==="toString")return!1;return!0}(),d=function(g,y,m){for(var x in y)x in g.prototype&&typeof g.prototype[x]=="function"&&(y[x]+"").indexOf("callSuper")>-1?g.prototype[x]=function(S){return function(){var _=this.constructor.superclass;this.constructor.superclass=m;var k=y[S].apply(this,arguments);if(this.constructor.superclass=_,S!=="initialize")return k}}(x):g.prototype[x]=y[x],u&&(y.toString!==Object.prototype.toString&&(g.prototype.toString=y.toString),y.valueOf!==Object.prototype.valueOf&&(g.prototype.valueOf=y.valueOf))};function o(){}function c(g){for(var y=null,m=this;m.constructor.superclass;){var x=m.constructor.superclass.prototype[g];if(m[g]!==x){y=x;break}m=m.constructor.superclass.prototype}return y?arguments.length>1?y.apply(this,h.call(arguments,1)):y.call(this):console.log("tried to callSuper "+g+", method not found in prototype chain",this)}function f(){var g=null,y=h.call(arguments,0);typeof y[0]=="function"&&(g=y.shift());function m(){this.initialize.apply(this,arguments)}m.superclass=g,m.subclasses=[],g&&(o.prototype=g.prototype,m.prototype=new o,g.subclasses.push(m));for(var x=0,S=y.length;x<S;x++)d(m,y[x],g);return m.prototype.initialize||(m.prototype.initialize=s),m.prototype.constructor=m,m.prototype.callSuper=c,m}t.util.createClass=f}(),function(){var h=!!t.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];t.util.addListener=function(d,o,c,f){d&&d.addEventListener(o,c,h?!1:f)},t.util.removeListener=function(d,o,c,f){d&&d.removeEventListener(o,c,h?!1:f)};function u(d){var o=d.changedTouches;return o&&o[0]?o[0]:d}t.util.getPointer=function(d){var o=d.target,c=t.util.getScrollLeftTop(o),f=u(d);return{x:f.clientX+c.left,y:f.clientY+c.top}},t.util.isTouchEvent=function(d){return s.indexOf(d.type)>-1||d.pointerType==="touch"}}(),function(){function h(f,g){var y=f.style;if(!y)return f;if(typeof g=="string")return f.style.cssText+=";"+g,g.indexOf("opacity")>-1?c(f,g.match(/opacity:\s*(\d?\.?\d*)/)[1]):f;for(var m in g)if(m==="opacity")c(f,g[m]);else{var x=m==="float"||m==="cssFloat"?typeof y.styleFloat>"u"?"cssFloat":"styleFloat":m;y.setProperty(x,g[m])}return f}var s=t.document.createElement("div"),u=typeof s.style.opacity=="string",d=typeof s.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(f){return f};u?c=function(f,g){return f.style.opacity=g,f}:d&&(c=function(f,g){var y=f.style;return f.currentStyle&&!f.currentStyle.hasLayout&&(y.zoom=1),o.test(y.filter)?(g=g>=.9999?"":"alpha(opacity="+g*100+")",y.filter=y.filter.replace(o,g)):y.filter+=" alpha(opacity="+g*100+")",f}),t.util.setStyle=h}(),function(){var h=Array.prototype.slice;function s(k){return typeof k=="string"?t.document.getElementById(k):k}var u,d=function(k){return h.call(k,0)};try{u=d(t.document.childNodes)instanceof Array}catch{}u||(d=function(k){for(var O=new Array(k.length),j=k.length;j--;)O[j]=k[j];return O});function o(k,O){var j=t.document.createElement(k);for(var F in O)F==="class"?j.className=O[F]:F==="for"?j.htmlFor=O[F]:j.setAttribute(F,O[F]);return j}function c(k,O){k&&(" "+k.className+" ").indexOf(" "+O+" ")===-1&&(k.className+=(k.className?" ":"")+O)}function f(k,O,j){return typeof O=="string"&&(O=o(O,j)),k.parentNode&&k.parentNode.replaceChild(O,k),O.appendChild(k),O}function g(k){for(var O=0,j=0,F=t.document.documentElement,z=t.document.body||{scrollLeft:0,scrollTop:0};k&&(k.parentNode||k.host)&&(k=k.parentNode||k.host,k===t.document?(O=z.scrollLeft||F.scrollLeft||0,j=z.scrollTop||F.scrollTop||0):(O+=k.scrollLeft||0,j+=k.scrollTop||0),!(k.nodeType===1&&k.style.position==="fixed")););return{left:O,top:j}}function y(k){var O,j=k&&k.ownerDocument,F={left:0,top:0},z={left:0,top:0},U,G={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!j)return z;for(var ie in G)z[G[ie]]+=parseInt(m(k,ie),10)||0;return O=j.documentElement,typeof k.getBoundingClientRect<"u"&&(F=k.getBoundingClientRect()),U=g(k),{left:F.left+U.left-(O.clientLeft||0)+z.left,top:F.top+U.top-(O.clientTop||0)+z.top}}var m;t.document.defaultView&&t.document.defaultView.getComputedStyle?m=function(k,O){var j=t.document.defaultView.getComputedStyle(k,null);return j?j[O]:void 0}:m=function(k,O){var j=k.style[O];return!j&&k.currentStyle&&(j=k.currentStyle[O]),j},function(){var k=t.document.documentElement.style,O="userSelect"in k?"userSelect":"MozUserSelect"in k?"MozUserSelect":"WebkitUserSelect"in k?"WebkitUserSelect":"KhtmlUserSelect"in k?"KhtmlUserSelect":"";function j(z){return typeof z.onselectstart<"u"&&(z.onselectstart=t.util.falseFunction),O?z.style[O]="none":typeof z.unselectable=="string"&&(z.unselectable="on"),z}function F(z){return typeof z.onselectstart<"u"&&(z.onselectstart=null),O?z.style[O]="":typeof z.unselectable=="string"&&(z.unselectable=""),z}t.util.makeElementUnselectable=j,t.util.makeElementSelectable=F}();function x(k){var O=t.jsdomImplForWrapper(k);return O._canvas||O._image}function S(k){if(t.isLikelyNode){var O=t.jsdomImplForWrapper(k);O&&(O._image=null,O._canvas=null,O._currentSrc=null,O._attributes=null,O._classList=null)}}function _(k,O){k.imageSmoothingEnabled=k.imageSmoothingEnabled||k.webkitImageSmoothingEnabled||k.mozImageSmoothingEnabled||k.msImageSmoothingEnabled||k.oImageSmoothingEnabled,k.imageSmoothingEnabled=O}t.util.setImageSmoothing=_,t.util.getById=s,t.util.toArray=d,t.util.addClass=c,t.util.makeElement=o,t.util.wrapElement=f,t.util.getScrollLeftTop=g,t.util.getElementOffset=y,t.util.getNodeCanvas=x,t.util.cleanUpJsdomNode=S}(),function(){function h(d,o){return d+(/\?/.test(d)?"&":"?")+o}function s(){}function u(d,o){o||(o={});var c=o.method?o.method.toUpperCase():"GET",f=o.onComplete||function(){},g=new t.window.XMLHttpRequest,y=o.body||o.parameters;return g.onreadystatechange=function(){g.readyState===4&&(f(g),g.onreadystatechange=s)},c==="GET"&&(y=null,typeof o.parameters=="string"&&(d=h(d,o.parameters))),g.open(c,d,!0),(c==="POST"||c==="PUT")&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.send(y),g}t.util.request=u}(),t.log=console.log,t.warn=console.warn,function(){var h=t.util.object.extend,s=t.util.object.clone,u=[];t.util.object.extend(u,{cancelAll:function(){var x=this.splice(0);return x.forEach(function(S){S.cancel()}),x},cancelByCanvas:function(x){if(!x)return[];var S=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===x});return S.forEach(function(_){_.cancel()}),S},cancelByTarget:function(x){var S=this.findAnimationsByTarget(x);return S.forEach(function(_){_.cancel()}),S},findAnimationIndex:function(x){return this.indexOf(this.findAnimation(x))},findAnimation:function(x){return this.find(function(S){return S.cancel===x})},findAnimationsByTarget:function(x){return x?this.filter(function(S){return S.target===x}):[]}});function d(){return!1}function o(x,S,_,k){return-_*Math.cos(x/k*(Math.PI/2))+_+S}function c(x){x||(x={});var S=!1,_,k=function(){var O=t.runningAnimations.indexOf(_);return O>-1&&t.runningAnimations.splice(O,1)[0]};return _=h(s(x),{cancel:function(){return S=!0,k()},currentValue:"startValue"in x?x.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(_),y(function(O){var j=O||+new Date,F=x.duration||500,z=j+F,U,G=x.onChange||d,ie=x.abort||d,se=x.onComplete||d,ue=x.easing||o,le="startValue"in x?x.startValue.length>0:!1,ee="startValue"in x?x.startValue:0,X="endValue"in x?x.endValue:100,W=x.byValue||(le?ee.map(function(Y,P){return X[P]-ee[P]}):X-ee);x.onStart&&x.onStart(),function Y(P){U=P||+new Date;var A=U>z?F:U-j,M=A/F,B=le?ee.map(function(N,L){return ue(A,ee[L],W[L],F)}):ue(A,ee,W,F),H=Math.abs(le?(B[0]-ee[0])/W[0]:(B-ee)/W);if(_.currentValue=le?B.slice():B,_.completionRate=H,_.durationRate=M,!S){if(ie(B,H,M)){k();return}if(U>z){_.currentValue=le?X.slice():X,_.completionRate=1,_.durationRate=1,G(le?X.slice():X,1,1),se(X,1,1),k();return}else G(B,H,M),y(Y)}}(j)}),_.cancel}var f=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(x){return t.window.setTimeout(x,1e3/60)},g=t.window.cancelAnimationFrame||t.window.clearTimeout;function y(){return f.apply(t.window,arguments)}function m(){return g.apply(t.window,arguments)}t.util.animate=c,t.util.requestAnimFrame=y,t.util.cancelAnimFrame=m,t.runningAnimations=u}(),function(){function h(u,d,o){var c="rgba("+parseInt(u[0]+o*(d[0]-u[0]),10)+","+parseInt(u[1]+o*(d[1]-u[1]),10)+","+parseInt(u[2]+o*(d[2]-u[2]),10);return c+=","+(u&&d?parseFloat(u[3]+o*(d[3]-u[3])):1),c+=")",c}function s(u,d,o,c){var f=new t.Color(u).getSource(),g=new t.Color(d).getSource(),y=c.onComplete,m=c.onChange;return c=c||{},t.util.animate(t.util.object.extend(c,{duration:o||500,startValue:f,endValue:g,byValue:g,easing:function(x,S,_,k){var O=c.colorEasing?c.colorEasing(x,k):1-Math.cos(x/k*(Math.PI/2));return h(S,_,O)},onComplete:function(x,S,_){if(y)return y(h(g,g,0),S,_)},onChange:function(x,S,_){if(m){if(Array.isArray(x))return m(h(x,x,0),S,_);m(x,S,_)}}}))}t.util.animateColor=s}(),function(){function h(P,A,M,B){return P<Math.abs(A)?(P=A,B=M/4):A===0&&P===0?B=M/(2*Math.PI)*Math.asin(1):B=M/(2*Math.PI)*Math.asin(A/P),{a:P,c:A,p:M,s:B}}function s(P,A,M){return P.a*Math.pow(2,10*(A-=1))*Math.sin((A*M-P.s)*(2*Math.PI)/P.p)}function u(P,A,M,B){return M*((P=P/B-1)*P*P+1)+A}function d(P,A,M,B){return P/=B/2,P<1?M/2*P*P*P+A:M/2*((P-=2)*P*P+2)+A}function o(P,A,M,B){return M*(P/=B)*P*P*P+A}function c(P,A,M,B){return-M*((P=P/B-1)*P*P*P-1)+A}function f(P,A,M,B){return P/=B/2,P<1?M/2*P*P*P*P+A:-M/2*((P-=2)*P*P*P-2)+A}function g(P,A,M,B){return M*(P/=B)*P*P*P*P+A}function y(P,A,M,B){return M*((P=P/B-1)*P*P*P*P+1)+A}function m(P,A,M,B){return P/=B/2,P<1?M/2*P*P*P*P*P+A:M/2*((P-=2)*P*P*P*P+2)+A}function x(P,A,M,B){return-M*Math.cos(P/B*(Math.PI/2))+M+A}function S(P,A,M,B){return M*Math.sin(P/B*(Math.PI/2))+A}function _(P,A,M,B){return-M/2*(Math.cos(Math.PI*P/B)-1)+A}function k(P,A,M,B){return P===0?A:M*Math.pow(2,10*(P/B-1))+A}function O(P,A,M,B){return P===B?A+M:M*(-Math.pow(2,-10*P/B)+1)+A}function j(P,A,M,B){return P===0?A:P===B?A+M:(P/=B/2,P<1?M/2*Math.pow(2,10*(P-1))+A:M/2*(-Math.pow(2,-10*--P)+2)+A)}function F(P,A,M,B){return-M*(Math.sqrt(1-(P/=B)*P)-1)+A}function z(P,A,M,B){return M*Math.sqrt(1-(P=P/B-1)*P)+A}function U(P,A,M,B){return P/=B/2,P<1?-M/2*(Math.sqrt(1-P*P)-1)+A:M/2*(Math.sqrt(1-(P-=2)*P)+1)+A}function G(P,A,M,B){var H=1.70158,N=0,L=M;if(P===0)return A;if(P/=B,P===1)return A+M;N||(N=B*.3);var I=h(L,M,N,H);return-s(I,P,B)+A}function ie(P,A,M,B){var H=1.70158,N=0,L=M;if(P===0)return A;if(P/=B,P===1)return A+M;N||(N=B*.3);var I=h(L,M,N,H);return I.a*Math.pow(2,-10*P)*Math.sin((P*B-I.s)*(2*Math.PI)/I.p)+I.c+A}function se(P,A,M,B){var H=1.70158,N=0,L=M;if(P===0)return A;if(P/=B/2,P===2)return A+M;N||(N=B*(.3*1.5));var I=h(L,M,N,H);return P<1?-.5*s(I,P,B)+A:I.a*Math.pow(2,-10*(P-=1))*Math.sin((P*B-I.s)*(2*Math.PI)/I.p)*.5+I.c+A}function ue(P,A,M,B,H){return H===void 0&&(H=1.70158),M*(P/=B)*P*((H+1)*P-H)+A}function le(P,A,M,B,H){return H===void 0&&(H=1.70158),M*((P=P/B-1)*P*((H+1)*P+H)+1)+A}function ee(P,A,M,B,H){return H===void 0&&(H=1.70158),P/=B/2,P<1?M/2*(P*P*(((H*=1.525)+1)*P-H))+A:M/2*((P-=2)*P*(((H*=1.525)+1)*P+H)+2)+A}function X(P,A,M,B){return M-W(B-P,0,M,B)+A}function W(P,A,M,B){return(P/=B)<1/2.75?M*(7.5625*P*P)+A:P<2/2.75?M*(7.5625*(P-=1.5/2.75)*P+.75)+A:P<2.5/2.75?M*(7.5625*(P-=2.25/2.75)*P+.9375)+A:M*(7.5625*(P-=2.625/2.75)*P+.984375)+A}function Y(P,A,M,B){return P<B/2?X(P*2,0,M,B)*.5+A:W(P*2-B,0,M,B)*.5+M*.5+A}t.util.ease={easeInQuad:function(P,A,M,B){return M*(P/=B)*P+A},easeOutQuad:function(P,A,M,B){return-M*(P/=B)*(P-2)+A},easeInOutQuad:function(P,A,M,B){return P/=B/2,P<1?M/2*P*P+A:-M/2*(--P*(P-2)-1)+A},easeInCubic:function(P,A,M,B){return M*(P/=B)*P*P+A},easeOutCubic:u,easeInOutCubic:d,easeInQuart:o,easeOutQuart:c,easeInOutQuart:f,easeInQuint:g,easeOutQuint:y,easeInOutQuint:m,easeInSine:x,easeOutSine:S,easeInOutSine:_,easeInExpo:k,easeOutExpo:O,easeInOutExpo:j,easeInCirc:F,easeOutCirc:z,easeInOutCirc:U,easeInElastic:G,easeOutElastic:ie,easeInOutElastic:se,easeInBack:ue,easeOutBack:le,easeInOutBack:ee,easeInBounce:X,easeOutBounce:W,easeInOutBounce:Y}}(),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.extend,d=s.util.object.clone,o=s.util.toFixed,c=s.util.parseUnit,f=s.util.multiplyTransformMatrices,g=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],y=["symbol","image","marker","pattern","view","svg"],m=["pattern","defs","symbol","metadata","clipPath","mask","desc"],x=["symbol","g","a","svg","clipPath","defs"],S={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},k="font-size",O="clip-path";s.svgValidTagNamesRegEx=z(g),s.svgViewBoxElementsRegEx=z(y),s.svgInvalidAncestorsRegEx=z(m),s.svgValidParentsRegEx=z(x),s.cssRules={},s.gradientDefs={},s.clipPaths={};function j(N){return N in S?S[N]:N}function F(N,L,I,Z){var te=Array.isArray(L),ne;if((N==="fill"||N==="stroke")&&L==="none")L="";else{if(N==="strokeUniform")return L==="non-scaling-stroke";if(N==="strokeDashArray")L==="none"?L=null:L=L.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(N==="transformMatrix")I&&I.transformMatrix?L=f(I.transformMatrix,s.parseTransformAttribute(L)):L=s.parseTransformAttribute(L);else if(N==="visible")L=L!=="none"&&L!=="hidden",I&&I.visible===!1&&(L=!1);else if(N==="opacity")L=parseFloat(L),I&&typeof I.opacity<"u"&&(L*=I.opacity);else if(N==="textAnchor")L=L==="start"?"left":L==="end"?"right":"center";else if(N==="charSpacing")ne=c(L,Z)/Z*1e3;else if(N==="paintFirst"){var me=L.indexOf("fill"),xe=L.indexOf("stroke"),L="fill";(me>-1&&xe>-1&&xe<me||me===-1&&xe>-1)&&(L="stroke")}else{if(N==="href"||N==="xlink:href"||N==="font")return L;if(N==="imageSmoothing")return L==="optimizeQuality";ne=te?L.map(c):c(L,Z)}}return!te&&isNaN(ne)?L:ne}function z(N){return new RegExp("^("+N.join("|")+")\\b","i")}function U(N){for(var L in _)if(!(typeof N[_[L]]>"u"||N[L]==="")){if(typeof N[L]>"u"){if(!s.Object.prototype[L])continue;N[L]=s.Object.prototype[L]}if(N[L].indexOf("url(")!==0){var I=new s.Color(N[L]);N[L]=I.setAlpha(o(I.getAlpha()*N[_[L]],2)).toRgba()}}return N}function G(N,L){var I,Z=[],te,ne,me;for(ne=0,me=L.length;ne<me;ne++)I=L[ne],te=N.getElementsByTagName(I),Z=Z.concat(Array.prototype.slice.call(te));return Z}s.parseTransformAttribute=function(){function N(q,ve){var Se=s.util.cos(ve[0]),Ce=s.util.sin(ve[0]),Ae=0,Me=0;ve.length===3&&(Ae=ve[1],Me=ve[2]),q[0]=Se,q[1]=Ce,q[2]=-Ce,q[3]=Se,q[4]=Ae-(Se*Ae-Ce*Me),q[5]=Me-(Ce*Ae+Se*Me)}function L(q,ve){var Se=ve[0],Ce=ve.length===2?ve[1]:ve[0];q[0]=Se,q[3]=Ce}function I(q,ve,Se){q[Se]=Math.tan(s.util.degreesToRadians(ve[0]))}function Z(q,ve){q[4]=ve[0],ve.length===2&&(q[5]=ve[1])}var te=s.iMatrix,ne=s.reNum,me=s.commaWsp,xe="(?:(skewX)\\s*\\(\\s*("+ne+")\\s*\\))",Ee="(?:(skewY)\\s*\\(\\s*("+ne+")\\s*\\))",he="(?:(rotate)\\s*\\(\\s*("+ne+")(?:"+me+"("+ne+")"+me+"("+ne+"))?\\s*\\))",re="(?:(scale)\\s*\\(\\s*("+ne+")(?:"+me+"("+ne+"))?\\s*\\))",ye="(?:(translate)\\s*\\(\\s*("+ne+")(?:"+me+"("+ne+"))?\\s*\\))",be="(?:(matrix)\\s*\\(\\s*("+ne+")"+me+"("+ne+")"+me+"("+ne+")"+me+"("+ne+")"+me+"("+ne+")"+me+"("+ne+")\\s*\\))",ge="(?:"+be+"|"+ye+"|"+re+"|"+he+"|"+xe+"|"+Ee+")",Te="(?:"+ge+"(?:"+me+"*"+ge+")*)",Oe="^\\s*(?:"+Te+"?)\\s*$",$=new RegExp(Oe),Q=new RegExp(ge,"g");return function(q){var ve=te.concat(),Se=[];if(!q||q&&!$.test(q))return ve;q.replace(Q,function(Ae){var Me=new RegExp(ge).exec(Ae).filter(function(un){return!!un}),ze=Me[1],Ye=Me.slice(2).map(parseFloat);switch(ze){case"translate":Z(ve,Ye);break;case"rotate":Ye[0]=s.util.degreesToRadians(Ye[0]),N(ve,Ye);break;case"scale":L(ve,Ye);break;case"skewX":I(ve,Ye,2);break;case"skewY":I(ve,Ye,1);break;case"matrix":ve=Ye;break}Se.push(ve.concat()),ve=te.concat()});for(var Ce=Se[0];Se.length>1;)Se.shift(),Ce=s.util.multiplyTransformMatrices(Ce,Se[0]);return Ce}}();function ie(N,L){var I,Z;N.replace(/;\s*$/,"").split(";").forEach(function(te){var ne=te.split(":");I=ne[0].trim().toLowerCase(),Z=ne[1].trim(),L[I]=Z})}function se(N,L){var I,Z;for(var te in N)typeof N[te]>"u"||(I=te.toLowerCase(),Z=N[te],L[I]=Z)}function ue(N,L){var I={};for(var Z in s.cssRules[L])if(le(N,Z.split(" ")))for(var te in s.cssRules[L][Z])I[te]=s.cssRules[L][Z][te];return I}function le(N,L){var I,Z=!0;return I=X(N,L.pop()),I&&L.length&&(Z=ee(N,L)),I&&Z&&L.length===0}function ee(N,L){for(var I,Z=!0;N.parentNode&&N.parentNode.nodeType===1&&L.length;)Z&&(I=L.pop()),N=N.parentNode,Z=X(N,I);return L.length===0}function X(N,L){var I=N.nodeName,Z=N.getAttribute("class"),te=N.getAttribute("id"),ne,me;if(ne=new RegExp("^"+I,"i"),L=L.replace(ne,""),te&&L.length&&(ne=new RegExp("#"+te+"(?![a-zA-Z\\-]+)","i"),L=L.replace(ne,"")),Z&&L.length)for(Z=Z.split(" "),me=Z.length;me--;)ne=new RegExp("\\."+Z[me]+"(?![a-zA-Z\\-]+)","i"),L=L.replace(ne,"");return L.length===0}function W(N,L){var I;if(N.getElementById&&(I=N.getElementById(L)),I)return I;var Z,te,ne,me=N.getElementsByTagName("*");for(te=0,ne=me.length;te<ne;te++)if(Z=me[te],L===Z.getAttribute("id"))return Z}function Y(N){for(var L=G(N,["use","svg:use"]),I=0;L.length&&I<L.length;){var Z=L[I],te=Z.getAttribute("xlink:href")||Z.getAttribute("href");if(te===null)return;var ne=te.slice(1),me=Z.getAttribute("x")||0,xe=Z.getAttribute("y")||0,Ee=W(N,ne).cloneNode(!0),he=(Ee.getAttribute("transform")||"")+" translate("+me+", "+xe+")",re,ye=L.length,be,ge,Te,Oe,$=s.svgNS;if(A(Ee),/^svg$/i.test(Ee.nodeName)){var Q=Ee.ownerDocument.createElementNS($,"g");for(ge=0,Te=Ee.attributes,Oe=Te.length;ge<Oe;ge++)be=Te.item(ge),Q.setAttributeNS($,be.nodeName,be.nodeValue);for(;Ee.firstChild;)Q.appendChild(Ee.firstChild);Ee=Q}for(ge=0,Te=Z.attributes,Oe=Te.length;ge<Oe;ge++)be=Te.item(ge),!(be.nodeName==="x"||be.nodeName==="y"||be.nodeName==="xlink:href"||be.nodeName==="href")&&(be.nodeName==="transform"?he=be.nodeValue+" "+he:Ee.setAttribute(be.nodeName,be.nodeValue));Ee.setAttribute("transform",he),Ee.setAttribute("instantiated_by_use","1"),Ee.removeAttribute("id"),re=Z.parentNode,re.replaceChild(Ee,Z),L.length===ye&&I++}}var P=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function A(N){if(!s.svgViewBoxElementsRegEx.test(N.nodeName))return{};var L=N.getAttribute("viewBox"),I=1,Z=1,te=0,ne=0,me,xe,Ee,he,re=N.getAttribute("width"),ye=N.getAttribute("height"),be=N.getAttribute("x")||0,ge=N.getAttribute("y")||0,Te=N.getAttribute("preserveAspectRatio")||"",Oe=!L||!(L=L.match(P)),$=!re||!ye||re==="100%"||ye==="100%",Q=Oe&&$,q={},ve="",Se=0,Ce=0;if(q.width=0,q.height=0,q.toBeParsed=Q,Oe&&(be||ge)&&N.parentNode&&N.parentNode.nodeName!=="#document"&&(ve=" translate("+c(be)+" "+c(ge)+") ",Ee=(N.getAttribute("transform")||"")+ve,N.setAttribute("transform",Ee),N.removeAttribute("x"),N.removeAttribute("y")),Q)return q;if(Oe)return q.width=c(re),q.height=c(ye),q;if(te=-parseFloat(L[1]),ne=-parseFloat(L[2]),me=parseFloat(L[3]),xe=parseFloat(L[4]),q.minX=te,q.minY=ne,q.viewBoxWidth=me,q.viewBoxHeight=xe,$?(q.width=me,q.height=xe):(q.width=c(re),q.height=c(ye),I=q.width/me,Z=q.height/xe),Te=s.util.parsePreserveAspectRatioAttribute(Te),Te.alignX!=="none"&&(Te.meetOrSlice==="meet"&&(Z=I=I>Z?Z:I),Te.meetOrSlice==="slice"&&(Z=I=I>Z?I:Z),Se=q.width-me*I,Ce=q.height-xe*I,Te.alignX==="Mid"&&(Se/=2),Te.alignY==="Mid"&&(Ce/=2),Te.alignX==="Min"&&(Se=0),Te.alignY==="Min"&&(Ce=0)),I===1&&Z===1&&te===0&&ne===0&&be===0&&ge===0)return q;if((be||ge)&&N.parentNode.nodeName!=="#document"&&(ve=" translate("+c(be)+" "+c(ge)+") "),Ee=ve+" matrix("+I+" 0 0 "+Z+" "+(te*I+Se)+" "+(ne*Z+Ce)+") ",N.nodeName==="svg"){for(he=N.ownerDocument.createElementNS(s.svgNS,"g");N.firstChild;)he.appendChild(N.firstChild);N.appendChild(he)}else he=N,he.removeAttribute("x"),he.removeAttribute("y"),Ee=he.getAttribute("transform")+Ee;return he.setAttribute("transform",Ee),q}function M(N,L){for(;N&&(N=N.parentNode);)if(N.nodeName&&L.test(N.nodeName.replace("svg:",""))&&!N.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(N,L,I,Z){if(N){Y(N);var te=s.Object.__uid++,ne,me,xe=A(N),Ee=s.util.toArray(N.getElementsByTagName("*"));if(xe.crossOrigin=Z&&Z.crossOrigin,xe.svgUid=te,Ee.length===0&&s.isLikelyNode){Ee=N.selectNodes('//*[name(.)!="svg"]');var he=[];for(ne=0,me=Ee.length;ne<me;ne++)he[ne]=Ee[ne];Ee=he}var re=Ee.filter(function(be){return A(be),s.svgValidTagNamesRegEx.test(be.nodeName.replace("svg:",""))&&!M(be,s.svgInvalidAncestorsRegEx)});if(!re||re&&!re.length){L&&L([],{});return}var ye={};Ee.filter(function(be){return be.nodeName.replace("svg:","")==="clipPath"}).forEach(function(be){var ge=be.getAttribute("id");ye[ge]=s.util.toArray(be.getElementsByTagName("*")).filter(function(Te){return s.svgValidTagNamesRegEx.test(Te.nodeName.replace("svg:",""))})}),s.gradientDefs[te]=s.getGradientDefs(N),s.cssRules[te]=s.getCSSRules(N),s.clipPaths[te]=ye,s.parseElements(re,function(be,ge){L&&(L(be,xe,ge,Ee),delete s.gradientDefs[te],delete s.cssRules[te],delete s.clipPaths[te])},d(xe),I,Z)}};function B(N,L){var I=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Z="xlink:href",te=L.getAttribute(Z).slice(1),ne=W(N,te);if(ne&&ne.getAttribute(Z)&&B(N,ne),I.forEach(function(xe){ne&&!L.hasAttribute(xe)&&ne.hasAttribute(xe)&&L.setAttribute(xe,ne.getAttribute(xe))}),!L.children.length)for(var me=ne.cloneNode(!0);me.firstChild;)L.appendChild(me.firstChild);L.removeAttribute(Z)}var H=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");u(s,{parseFontDeclaration:function(N,L){var I=N.match(H);if(I){var Z=I[1],te=I[3],ne=I[4],me=I[5],xe=I[6];Z&&(L.fontStyle=Z),te&&(L.fontWeight=isNaN(parseFloat(te))?te:parseFloat(te)),ne&&(L.fontSize=c(ne)),xe&&(L.fontFamily=xe),me&&(L.lineHeight=me==="normal"?1:me)}},getGradientDefs:function(N){var L=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],I=G(N,L),Z,te=0,ne={};for(te=I.length;te--;)Z=I[te],Z.getAttribute("xlink:href")&&B(N,Z),ne[Z.getAttribute("id")]=Z;return ne},parseAttributes:function(N,L,I){if(N){var Z,te={},ne,me;typeof I>"u"&&(I=N.getAttribute("svgUid")),N.parentNode&&s.svgValidParentsRegEx.test(N.parentNode.nodeName)&&(te=s.parseAttributes(N.parentNode,L,I));var xe=L.reduce(function(Te,Oe){return Z=N.getAttribute(Oe),Z&&(Te[Oe]=Z),Te},{}),Ee=u(ue(N,I),s.parseStyleAttribute(N));xe=u(xe,Ee),Ee[O]&&N.setAttribute(O,Ee[O]),ne=me=te.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,xe[k]&&(xe[k]=ne=c(xe[k],me));var he,re,ye={};for(var be in xe)he=j(be),re=F(he,xe[be],te,ne),ye[he]=re;ye&&ye.font&&s.parseFontDeclaration(ye.font,ye);var ge=u(te,ye);return s.svgValidParentsRegEx.test(N.nodeName)?ge:U(ge)}},parseElements:function(N,L,I,Z,te){new s.ElementsParser(N,L,I,Z,te).parse()},parseStyleAttribute:function(N){var L={},I=N.getAttribute("style");return I&&(typeof I=="string"?ie(I,L):se(I,L)),L},parsePointsAttribute:function(N){if(!N)return null;N=N.replace(/,/g," ").trim(),N=N.split(/\s+/);var L=[],I,Z;for(I=0,Z=N.length;I<Z;I+=2)L.push({x:parseFloat(N[I]),y:parseFloat(N[I+1])});return L},getCSSRules:function(N){var L=N.getElementsByTagName("style"),I,Z,te={},ne;for(I=0,Z=L.length;I<Z;I++){var me=L[I].textContent;me=me.replace(/\/\*[\s\S]*?\*\//g,""),me.trim()!==""&&(ne=me.split("}"),ne=ne.filter(function(xe){return xe.trim()}),ne.forEach(function(xe){var Ee=xe.split("{"),he={},re=Ee[1].trim(),ye=re.split(";").filter(function(Oe){return Oe.trim()});for(I=0,Z=ye.length;I<Z;I++){var be=ye[I].split(":"),ge=be[0].trim(),Te=be[1].trim();he[ge]=Te}xe=Ee[0].trim(),xe.split(",").forEach(function(Oe){Oe=Oe.replace(/^svg/i,"").trim(),Oe!==""&&(te[Oe]?s.util.object.extend(te[Oe],he):te[Oe]=s.util.object.clone(he))})}))}return te},loadSVGFromURL:function(N,L,I,Z){N=N.replace(/^\n\s*/,"").trim(),new s.util.request(N,{method:"get",onComplete:te});function te(ne){var me=ne.responseXML;if(!me||!me.documentElement)return L&&L(null),!1;s.parseSVGDocument(me.documentElement,function(xe,Ee,he,re){L&&L(xe,Ee,he,re)},I,Z)}},loadSVGFromString:function(N,L,I,Z){var te=new s.window.DOMParser,ne=te.parseFromString(N.trim(),"text/xml");s.parseSVGDocument(ne.documentElement,function(me,xe,Ee,he){L(me,xe,Ee,he)},I,Z)}})}(e),t.ElementsParser=function(h,s,u,d,o,c){this.elements=h,this.callback=s,this.options=u,this.reviver=d,this.svgUid=u&&u.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c},function(h){h.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},h.createObjects=function(){var s=this;this.elements.forEach(function(u,d){u.setAttribute("svgUid",s.svgUid),s.createObject(u,d)})},h.findTag=function(s){return t[t.util.string.capitalize(s.tagName.replace("svg:",""))]},h.createObject=function(s,u){var d=this.findTag(s);if(d&&d.fromElement)try{d.fromElement(s,this.createCallback(u,s),this.options)}catch(o){t.log(o)}else this.checkIfDone()},h.createCallback=function(s,u){var d=this;return function(o){var c;d.resolveGradient(o,u,"fill"),d.resolveGradient(o,u,"stroke"),o instanceof t.Image&&o._originalElement&&(c=o.parsePreserveAspectRatioAttribute(u)),o._removeTransformMatrix(c),d.resolveClipPath(o,u),d.reviver&&d.reviver(u,o),d.instances[s]=o,d.checkIfDone()}},h.extractPropertyDefinition=function(s,u,d){var o=s[u],c=this.regexUrl;if(c.test(o)){c.lastIndex=0;var f=c.exec(o)[1];return c.lastIndex=0,t[d][this.svgUid][f]}},h.resolveGradient=function(s,u,d){var o=this.extractPropertyDefinition(s,d,"gradientDefs");if(o){var c=u.getAttribute(d+"-opacity"),f=t.Gradient.fromElement(o,s,c,this.options);s.set(d,f)}},h.createClipPathCallback=function(s,u){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,u.push(d)}},h.resolveClipPath=function(s,u){var d=this.extractPropertyDefinition(s,"clipPath","clipPaths"),o,c,f,g,y,m;if(d){g=[],f=t.util.invertTransform(s.calcTransformMatrix());for(var x=d[0].parentNode,S=u;S.parentNode&&S.getAttribute("clip-path")!==s.clipPath;)S=S.parentNode;S.parentNode.appendChild(x);for(var _=0;_<d.length;_++)o=d[_],c=this.findTag(o),c.fromElement(o,this.createClipPathCallback(s,g),this.options);g.length===1?d=g[0]:d=new t.Group(g),y=t.util.multiplyTransformMatrices(f,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,S);var m=t.util.qrDecompose(y);d.flipX=!1,d.flipY=!1,d.set("scaleX",m.scaleX),d.set("scaleY",m.scaleY),d.angle=m.angle,d.skewX=m.skewX,d.skewY=0,d.setPositionByOrigin({x:m.translateX,y:m.translateY},"center","center"),s.clipPath=d}else delete s.clipPath},h.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(h){var s=h.fabric||(h.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=u;function u(d,o){this.x=d,this.y=o}u.prototype={type:"point",constructor:u,add:function(d){return new u(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new u(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new u(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new u(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new u(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new u(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new u(this.x+(d.x-this.x)*o,this.y+(d.y-this.y)*o)},distanceFrom:function(d){var o=this.x-d.x,c=this.y-d.y;return Math.sqrt(o*o+c*c)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new u(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new u(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,o){return this.x=d,this.y=o,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var o=this.x,c=this.y;this.x=d.x,this.y=d.y,d.x=o,d.y=c},clone:function(){return new u(this.x,this.y)}}}(e),function(h){var s=h.fabric||(h.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function u(d){this.status=d,this.points=[]}s.Intersection=u,s.Intersection.prototype={constructor:u,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},s.Intersection.intersectLineLine=function(d,o,c,f){var g,y=(f.x-c.x)*(d.y-c.y)-(f.y-c.y)*(d.x-c.x),m=(o.x-d.x)*(d.y-c.y)-(o.y-d.y)*(d.x-c.x),x=(f.y-c.y)*(o.x-d.x)-(f.x-c.x)*(o.y-d.y);if(x!==0){var S=y/x,_=m/x;0<=S&&S<=1&&0<=_&&_<=1?(g=new u("Intersection"),g.appendPoint(new s.Point(d.x+S*(o.x-d.x),d.y+S*(o.y-d.y)))):g=new u}else y===0||m===0?g=new u("Coincident"):g=new u("Parallel");return g},s.Intersection.intersectLinePolygon=function(d,o,c){var f=new u,g=c.length,y,m,x,S;for(S=0;S<g;S++)y=c[S],m=c[(S+1)%g],x=u.intersectLineLine(d,o,y,m),f.appendPoints(x.points);return f.points.length>0&&(f.status="Intersection"),f},s.Intersection.intersectPolygonPolygon=function(d,o){var c=new u,f=d.length,g;for(g=0;g<f;g++){var y=d[g],m=d[(g+1)%f],x=u.intersectLinePolygon(y,m,o);c.appendPoints(x.points)}return c.points.length>0&&(c.status="Intersection"),c},s.Intersection.intersectPolygonRectangle=function(d,o,c){var f=o.min(c),g=o.max(c),y=new s.Point(g.x,f.y),m=new s.Point(f.x,g.y),x=u.intersectLinePolygon(f,y,d),S=u.intersectLinePolygon(y,g,d),_=u.intersectLinePolygon(g,m,d),k=u.intersectLinePolygon(m,f,d),O=new u;return O.appendPoints(x.points),O.appendPoints(S.points),O.appendPoints(_.points),O.appendPoints(k.points),O.points.length>0&&(O.status="Intersection"),O}}(e),function(h){var s=h.fabric||(h.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function u(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}s.Color=u,s.Color.prototype={_tryParsingColor:function(o){var c;o in u.colorNameMap&&(o=u.colorNameMap[o]),o==="transparent"&&(c=[255,255,255,0]),c||(c=u.sourceFromHex(o)),c||(c=u.sourceFromRgb(o)),c||(c=u.sourceFromHsl(o)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(o,c,f){o/=255,c/=255,f/=255;var g,y,m,x=s.util.array.max([o,c,f]),S=s.util.array.min([o,c,f]);if(m=(x+S)/2,x===S)g=y=0;else{var _=x-S;switch(y=m>.5?_/(2-x-S):_/(x+S),x){case o:g=(c-f)/_+(c<f?6:0);break;case c:g=(f-o)/_+2;break;case f:g=(o-c)/_+4;break}g/=6}return[Math.round(g*360),Math.round(y*100),Math.round(m*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),c=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var o=this.getSource(),c=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),c,f,g;return c=o[0].toString(16),c=c.length===1?"0"+c:c,f=o[1].toString(16),f=f.length===1?"0"+f:f,g=o[2].toString(16),g=g.length===1?"0"+g:g,c.toUpperCase()+f.toUpperCase()+g.toUpperCase()},toHexa:function(){var o=this.getSource(),c;return c=Math.round(o[3]*255),c=c.toString(16),c=c.length===1?"0"+c:c,this.toHex()+c.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var c=this.getSource();return c[3]=o,this.setSource(c),this},toGrayscale:function(){var o=this.getSource(),c=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),f=o[3];return this.setSource([c,c,c,f]),this},toBlackWhite:function(o){var c=this.getSource(),f=(c[0]*.3+c[1]*.59+c[2]*.11).toFixed(0),g=c[3];return o=o||127,f=Number(f)<Number(o)?0:255,this.setSource([f,f,f,g]),this},overlayWith:function(o){o instanceof u||(o=new u(o));var c=[],f=this.getAlpha(),g=.5,y=this.getSource(),m=o.getSource(),x;for(x=0;x<3;x++)c.push(Math.round(y[x]*(1-g)+m[x]*g));return c[3]=f,this.setSource(c),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(o,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?o+(c-o)*6*f:f<1/2?c:f<2/3?o+(c-o)*(2/3-f)*6:o}s.Color.fromRgb=function(o){return u.fromSource(u.sourceFromRgb(o))},s.Color.sourceFromRgb=function(o){var c=o.match(u.reRGBa);if(c){var f=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),g=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),y=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(f,10),parseInt(g,10),parseInt(y,10),c[4]?parseFloat(c[4]):1]}},s.Color.fromRgba=u.fromRgb,s.Color.fromHsl=function(o){return u.fromSource(u.sourceFromHsl(o))},s.Color.sourceFromHsl=function(o){var c=o.match(u.reHSLa);if(c){var f=(parseFloat(c[1])%360+360)%360/360,g=parseFloat(c[2])/(/%$/.test(c[2])?100:1),y=parseFloat(c[3])/(/%$/.test(c[3])?100:1),m,x,S;if(g===0)m=x=S=y;else{var _=y<=.5?y*(g+1):y+g-y*g,k=y*2-_;m=d(k,_,f+1/3),x=d(k,_,f),S=d(k,_,f-1/3)}return[Math.round(m*255),Math.round(x*255),Math.round(S*255),c[4]?parseFloat(c[4]):1]}},s.Color.fromHsla=u.fromHsl,s.Color.fromHex=function(o){return u.fromSource(u.sourceFromHex(o))},s.Color.sourceFromHex=function(o){if(o.match(u.reHex)){var c=o.slice(o.indexOf("#")+1),f=c.length===3||c.length===4,g=c.length===8||c.length===4,y=f?c.charAt(0)+c.charAt(0):c.substring(0,2),m=f?c.charAt(1)+c.charAt(1):c.substring(2,4),x=f?c.charAt(2)+c.charAt(2):c.substring(4,6),S=g?f?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(y,16),parseInt(m,16),parseInt(x,16),parseFloat((parseInt(S,16)/255).toFixed(2))]}},s.Color.fromSource=function(o){var c=new u;return c.setSource(o),c}}(e),function(h){var s=h.fabric||(h.fabric={}),u=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],o={},c="left",f="top",g="right",y="bottom",m="center",x={top:y,bottom:f,left:g,right:c,center:m},S=s.util.radiansToDegrees,_=Math.sign||function(he){return(he>0)-(he<0)||+he};function k(he,re){var ye=he.angle+S(Math.atan2(re.y,re.x))+360;return Math.round(ye%360/45)}function O(he,re){var ye=re.transform.target,be=ye.canvas,ge=s.util.object.clone(re);ge.target=ye,be&&be.fire("object:"+he,ge),ye.fire(he,re)}function j(he,re){var ye=re.canvas,be=ye.uniScaleKey,ge=he[be];return ye.uniformScaling&&!ge||!ye.uniformScaling&&ge}function F(he){return he.originX===m&&he.originY===m}function z(he,re,ye){var be=he.lockScalingX,ge=he.lockScalingY;return!!(be&&ge||!re&&(be||ge)&&ye||be&&re==="x"||ge&&re==="y")}function U(he,re,ye){var be="not-allowed",ge=j(he,ye),Te="";if(re.x!==0&&re.y===0?Te="x":re.x===0&&re.y!==0&&(Te="y"),z(ye,Te,ge))return be;var Oe=k(ye,re);return u[Oe]+"-resize"}function G(he,re,ye){var be="not-allowed";if(re.x!==0&&ye.lockSkewingY||re.y!==0&&ye.lockSkewingX)return be;var ge=k(ye,re)%4;return d[ge]+"-resize"}function ie(he,re,ye){return he[ye.canvas.altActionKey]?o.skewCursorStyleHandler(he,re,ye):o.scaleCursorStyleHandler(he,re,ye)}function se(he,re,ye){var be=he[ye.canvas.altActionKey];if(re.x===0)return be?"skewX":"scaleY";if(re.y===0)return be?"skewY":"scaleX"}function ue(he,re,ye){return ye.lockRotation?"not-allowed":re.cursorStyle}function le(he,re,ye,be){return{e:he,transform:re,pointer:{x:ye,y:be}}}function ee(he){return function(re,ye,be,ge){var Te=ye.target,Oe=Te.getCenterPoint(),$=Te.translateToOriginPoint(Oe,ye.originX,ye.originY),Q=he(re,ye,be,ge);return Te.setPositionByOrigin($,ye.originX,ye.originY),Q}}function X(he,re){return function(ye,be,ge,Te){var Oe=re(ye,be,ge,Te);return Oe&&O(he,le(ye,be,ge,Te)),Oe}}function W(he,re,ye,be,ge){var Te=he.target,Oe=Te.controls[he.corner],$=Te.canvas.getZoom(),Q=Te.padding/$,q=Te.toLocalPoint(new s.Point(be,ge),re,ye);return q.x>=Q&&(q.x-=Q),q.x<=-Q&&(q.x+=Q),q.y>=Q&&(q.y-=Q),q.y<=Q&&(q.y+=Q),q.x-=Oe.offsetX,q.y-=Oe.offsetY,q}function Y(he){return he.flipX!==he.flipY}function P(he,re,ye,be,ge){if(he[re]!==0){var Te=he._getTransformedDimensions()[be],Oe=ge/Te*he[ye];he.set(ye,Oe)}}function A(he,re,ye,be){var ge=re.target,Te=ge._getTransformedDimensions(0,ge.skewY),Oe=W(re,re.originX,re.originY,ye,be),$=Math.abs(Oe.x*2)-Te.x,Q=ge.skewX,q;$<2?q=0:(q=S(Math.atan2($/ge.scaleX,Te.y/ge.scaleY)),re.originX===c&&re.originY===y&&(q=-q),re.originX===g&&re.originY===f&&(q=-q),Y(ge)&&(q=-q));var ve=Q!==q;if(ve){var Se=ge._getTransformedDimensions().y;ge.set("skewX",q),P(ge,"skewY","scaleY","y",Se)}return ve}function M(he,re,ye,be){var ge=re.target,Te=ge._getTransformedDimensions(ge.skewX,0),Oe=W(re,re.originX,re.originY,ye,be),$=Math.abs(Oe.y*2)-Te.y,Q=ge.skewY,q;$<2?q=0:(q=S(Math.atan2($/ge.scaleY,Te.x/ge.scaleX)),re.originX===c&&re.originY===y&&(q=-q),re.originX===g&&re.originY===f&&(q=-q),Y(ge)&&(q=-q));var ve=Q!==q;if(ve){var Se=ge._getTransformedDimensions().x;ge.set("skewY",q),P(ge,"skewX","scaleX","x",Se)}return ve}function B(he,re,ye,be){var ge=re.target,Te=ge.skewX,Oe,$=re.originY;if(ge.lockSkewingX)return!1;if(Te===0){var Q=W(re,m,m,ye,be);Q.x>0?Oe=c:Oe=g}else Te>0&&(Oe=$===f?c:g),Te<0&&(Oe=$===f?g:c),Y(ge)&&(Oe=Oe===c?g:c);re.originX=Oe;var q=X("skewing",ee(A));return q(he,re,ye,be)}function H(he,re,ye,be){var ge=re.target,Te=ge.skewY,Oe,$=re.originX;if(ge.lockSkewingY)return!1;if(Te===0){var Q=W(re,m,m,ye,be);Q.y>0?Oe=f:Oe=y}else Te>0&&(Oe=$===c?f:y),Te<0&&(Oe=$===c?y:f),Y(ge)&&(Oe=Oe===f?y:f);re.originY=Oe;var q=X("skewing",ee(M));return q(he,re,ye,be)}function N(he,re,ye,be){var ge=re,Te=ge.target,Oe=Te.translateToOriginPoint(Te.getCenterPoint(),ge.originX,ge.originY);if(Te.lockRotation)return!1;var $=Math.atan2(ge.ey-Oe.y,ge.ex-Oe.x),Q=Math.atan2(be-Oe.y,ye-Oe.x),q=S(Q-$+ge.theta),ve=!0;if(Te.snapAngle>0){var Se=Te.snapAngle,Ce=Te.snapThreshold||Se,Ae=Math.ceil(q/Se)*Se,Me=Math.floor(q/Se)*Se;Math.abs(q-Me)<Ce?q=Me:Math.abs(q-Ae)<Ce&&(q=Ae)}return q<0&&(q=360+q),q%=360,ve=Te.angle!==q,Te.angle=q,ve}function L(he,re,ye,be,ge){ge=ge||{};var Te=re.target,Oe=Te.lockScalingX,$=Te.lockScalingY,Q=ge.by,q,ve,Se,Ce,Ae=j(he,Te),Me=z(Te,Q,Ae),ze,Ye,un=re.gestureScale;if(Me)return!1;if(un)ve=re.scaleX*un,Se=re.scaleY*un;else{if(q=W(re,re.originX,re.originY,ye,be),ze=Q!=="y"?_(q.x):1,Ye=Q!=="x"?_(q.y):1,re.signX||(re.signX=ze),re.signY||(re.signY=Ye),Te.lockScalingFlip&&(re.signX!==ze||re.signY!==Ye))return!1;if(Ce=Te._getTransformedDimensions(),Ae&&!Q){var Wt=Math.abs(q.x)+Math.abs(q.y),fn=re.original,Jn=Math.abs(Ce.x*fn.scaleX/Te.scaleX)+Math.abs(Ce.y*fn.scaleY/Te.scaleY),Yn=Wt/Jn;ve=fn.scaleX*Yn,Se=fn.scaleY*Yn}else ve=Math.abs(q.x*Te.scaleX/Ce.x),Se=Math.abs(q.y*Te.scaleY/Ce.y);F(re)&&(ve*=2,Se*=2),re.signX!==ze&&Q!=="y"&&(re.originX=x[re.originX],ve*=-1,re.signX=ze),re.signY!==Ye&&Q!=="x"&&(re.originY=x[re.originY],Se*=-1,re.signY=Ye)}var Xn=Te.scaleX,mi=Te.scaleY;return Q?(Q==="x"&&Te.set("scaleX",ve),Q==="y"&&Te.set("scaleY",Se)):(!Oe&&Te.set("scaleX",ve),!$&&Te.set("scaleY",Se)),Xn!==Te.scaleX||mi!==Te.scaleY}function I(he,re,ye,be){return L(he,re,ye,be)}function Z(he,re,ye,be){return L(he,re,ye,be,{by:"x"})}function te(he,re,ye,be){return L(he,re,ye,be,{by:"y"})}function ne(he,re,ye,be){return he[re.target.canvas.altActionKey]?o.skewHandlerX(he,re,ye,be):o.scalingY(he,re,ye,be)}function me(he,re,ye,be){return he[re.target.canvas.altActionKey]?o.skewHandlerY(he,re,ye,be):o.scalingX(he,re,ye,be)}function xe(he,re,ye,be){var ge=re.target,Te=W(re,re.originX,re.originY,ye,be),Oe=ge.strokeWidth/(ge.strokeUniform?ge.scaleX:1),$=F(re)?2:1,Q=ge.width,q=Math.abs(Te.x*$/ge.scaleX)-Oe;return ge.set("width",Math.max(q,0)),Q!==q}function Ee(he,re,ye,be){var ge=re.target,Te=ye-re.offsetX,Oe=be-re.offsetY,$=!ge.get("lockMovementX")&&ge.left!==Te,Q=!ge.get("lockMovementY")&&ge.top!==Oe;return $&&ge.set("left",Te),Q&&ge.set("top",Oe),($||Q)&&O("moving",le(he,re,ye,be)),$||Q}o.scaleCursorStyleHandler=U,o.skewCursorStyleHandler=G,o.scaleSkewCursorStyleHandler=ie,o.rotationWithSnapping=X("rotating",ee(N)),o.scalingEqually=X("scaling",ee(I)),o.scalingX=X("scaling",ee(Z)),o.scalingY=X("scaling",ee(te)),o.scalingYOrSkewingX=ne,o.scalingXOrSkewingY=me,o.changeWidth=X("resizing",ee(xe)),o.skewHandlerX=B,o.skewHandlerY=H,o.dragHandler=Ee,o.scaleOrSkewActionName=se,o.rotationStyleHandler=ue,o.fireEvent=O,o.wrapWithFixedAnchor=ee,o.wrapWithFireEvent=X,o.getLocalPoint=W,s.controlsUtils=o}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.degreesToRadians,d=s.controlsUtils;function o(f,g,y,m,x){m=m||{};var S=this.sizeX||m.cornerSize||x.cornerSize,_=this.sizeY||m.cornerSize||x.cornerSize,k=typeof m.transparentCorners<"u"?m.transparentCorners:x.transparentCorners,O=k?"stroke":"fill",j=!k&&(m.cornerStrokeColor||x.cornerStrokeColor),F=g,z=y,U;f.save(),f.fillStyle=m.cornerColor||x.cornerColor,f.strokeStyle=m.cornerStrokeColor||x.cornerStrokeColor,S>_?(U=S,f.scale(1,_/S),z=y*S/_):_>S?(U=_,f.scale(S/_,1),F=g*_/S):U=S,f.lineWidth=1,f.beginPath(),f.arc(F,z,U/2,0,2*Math.PI,!1),f[O](),j&&f.stroke(),f.restore()}function c(f,g,y,m,x){m=m||{};var S=this.sizeX||m.cornerSize||x.cornerSize,_=this.sizeY||m.cornerSize||x.cornerSize,k=typeof m.transparentCorners<"u"?m.transparentCorners:x.transparentCorners,O=k?"stroke":"fill",j=!k&&(m.cornerStrokeColor||x.cornerStrokeColor),F=S/2,z=_/2;f.save(),f.fillStyle=m.cornerColor||x.cornerColor,f.strokeStyle=m.cornerStrokeColor||x.cornerStrokeColor,f.lineWidth=1,f.translate(g,y),f.rotate(u(x.angle)),f[O+"Rect"](-F,-z,S,_),j&&f.strokeRect(-F,-z,S,_),f.restore()}d.renderCircleControl=o,d.renderSquareControl=c}(e),function(h){var s=h.fabric||(h.fabric={});function u(d){for(var o in d)this[o]=d[o]}s.Control=u,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,o){return o.cursorStyle},getActionName:function(d,o){return o.actionName},getVisibility:function(d,o){var c=d._controlsVisibility;return c&&typeof c[o]<"u"?c[o]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,o){var c=s.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},o);return c},calcCornerCoords:function(d,o,c,f,g){var y,m,x,S,_=g?this.touchSizeX:this.sizeX,k=g?this.touchSizeY:this.sizeY;if(_&&k&&_!==k){var O=Math.atan2(k,_),j=Math.sqrt(_*_+k*k)/2,F=O-s.util.degreesToRadians(d),z=Math.PI/2-O-s.util.degreesToRadians(d);y=j*s.util.cos(F),m=j*s.util.sin(F),x=j*s.util.cos(z),S=j*s.util.sin(z)}else{var U=_&&k?_:o;j=U*.7071067812;var F=s.util.degreesToRadians(45-d);y=x=j*s.util.cos(F),m=S=j*s.util.sin(F)}return{tl:{x:c-S,y:f-x},tr:{x:c+y,y:f-m},bl:{x:c-y,y:f+m},br:{x:c+S,y:f+x}}},render:function(d,o,c,f,g){switch(f=f||{},f.cornerStyle||g.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,d,o,c,f,g);break;default:s.controlsUtils.renderSquareControl.call(this,d,o,c,f,g)}}}}(e),function(){function h(c,f){var g=c.getAttribute("style"),y=c.getAttribute("offset")||0,m,x,S,_;if(y=parseFloat(y)/(/%$/.test(y)?100:1),y=y<0?0:y>1?1:y,g){var k=g.split(/\s*;\s*/);for(k[k.length-1]===""&&k.pop(),_=k.length;_--;){var O=k[_].split(/\s*:\s*/),j=O[0].trim(),F=O[1].trim();j==="stop-color"?m=F:j==="stop-opacity"&&(S=F)}}return m||(m=c.getAttribute("stop-color")||"rgb(0,0,0)"),S||(S=c.getAttribute("stop-opacity")),m=new t.Color(m),x=m.getAlpha(),S=isNaN(parseFloat(S))?1:parseFloat(S),S*=x*f,{offset:y,color:m.toRgb(),opacity:S}}function s(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}function u(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}var d=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(c){c||(c={}),c.coords||(c.coords={});var f,g=this;Object.keys(c).forEach(function(y){g[y]=c[y]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,f={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},this.type==="radial"&&(f.r1=c.coords.r1||0,f.r2=c.coords.r2||0),this.coords=f,this.colorStops=c.colorStops.slice()},addColorStop:function(c){for(var f in c){var g=new t.Color(c[f]);this.colorStops.push({offset:parseFloat(f),color:g.toRgb(),opacity:g.getAlpha()})}return this},toObject:function(c){var f={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,f,c),f},toSVG:function(c,x){var g=d(this.coords,!0),y,m,x=x||{},S,_,k=d(this.colorStops,!0),O=g.r1>g.r2,j=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),F=-this.offsetX,z=-this.offsetY,U=!!x.additionalTransform,G=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(k.sort(function(ee,X){return ee.offset-X.offset}),G==="objectBoundingBox"?(F/=c.width,z/=c.height):(F+=c.width/2,z+=c.height/2),c.type==="path"&&this.gradientUnits!=="percentage"&&(F-=c.pathOffset.x,z-=c.pathOffset.y),j[4]-=F,j[5]-=z,_='id="SVGID_'+this.id+'" gradientUnits="'+G+'"',_+=' gradientTransform="'+(U?x.additionalTransform+" ":"")+t.util.matrixToSVG(j)+'" ',this.type==="linear"?S=["<linearGradient ",_,' x1="',g.x1,'" y1="',g.y1,'" x2="',g.x2,'" y2="',g.y2,`">
`]:this.type==="radial"&&(S=["<radialGradient ",_,' cx="',O?g.x1:g.x2,'" cy="',O?g.y1:g.y2,'" r="',O?g.r1:g.r2,'" fx="',O?g.x2:g.x1,'" fy="',O?g.y2:g.y1,`">
`]),this.type==="radial"){if(O)for(k=k.concat(),k.reverse(),y=0,m=k.length;y<m;y++)k[y].offset=1-k[y].offset;var ie=Math.min(g.r1,g.r2);if(ie>0){var se=Math.max(g.r1,g.r2),ue=ie/se;for(y=0,m=k.length;y<m;y++)k[y].offset+=ue*(1-k[y].offset)}}for(y=0,m=k.length;y<m;y++){var le=k[y];S.push("<stop ",'offset="',le.offset*100+"%",'" style="stop-color:',le.color,typeof le.opacity<"u"?";stop-opacity: "+le.opacity:";",`"/>
`)}return S.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),S.join("")},toLive:function(c){var f,g=t.util.object.clone(this.coords),y,m;if(this.type){for(this.type==="linear"?f=c.createLinearGradient(g.x1,g.y1,g.x2,g.y2):this.type==="radial"&&(f=c.createRadialGradient(g.x1,g.y1,g.r1,g.x2,g.y2,g.r2)),y=0,m=this.colorStops.length;y<m;y++){var x=this.colorStops[y].color,S=this.colorStops[y].opacity,_=this.colorStops[y].offset;typeof S<"u"&&(x=new t.Color(x).setAlpha(S).toRgba()),f.addColorStop(_,x)}return f}}}),t.util.object.extend(t.Gradient,{fromElement:function(c,f,g,y){var m=parseFloat(g)/(/%$/.test(g)?100:1);m=m<0?0:m>1?1:m,isNaN(m)&&(m=1);var x=c.getElementsByTagName("stop"),S,_=c.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",k=c.getAttribute("gradientTransform")||"",O=[],j,F,z=0,U=0,G;for(c.nodeName==="linearGradient"||c.nodeName==="LINEARGRADIENT"?(S="linear",j=s(c)):(S="radial",j=u(c)),F=x.length;F--;)O.push(h(x[F],m));G=t.parseTransformAttribute(k),o(f,j,y,_),_==="pixels"&&(z=-f.left,U=-f.top);var ie=new t.Gradient({id:c.getAttribute("id"),type:S,coords:j,colorStops:O,gradientUnits:_,gradientTransform:G,offsetX:z,offsetY:U});return ie}});function o(c,f,g,y){var m,x;Object.keys(f).forEach(function(S){m=f[S],m==="Infinity"?x=1:m==="-Infinity"?x=0:(x=parseFloat(f[S],10),typeof m=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(m)&&(x*=.01,y==="pixels"&&((S==="x1"||S==="x2"||S==="r2")&&(x*=g.viewBoxWidth||g.width),(S==="y1"||S==="y2")&&(x*=g.viewBoxHeight||g.height)))),f[S]=x})}}(),function(){var h=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(s,u){if(s||(s={}),this.id=t.Object.__uid++,this.setOptions(s),!s.source||s.source&&typeof s.source!="string"){u&&u(this);return}else{var d=this;this.source=t.util.createImage(),t.util.loadImage(s.source,function(o,c){d.source=o,u&&u(d,c)},null,this.crossOrigin)}},toObject:function(s){var u=t.Object.NUM_FRACTION_DIGITS,d,o;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),o={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:h(this.offsetX,u),offsetY:h(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,s),o},toSVG:function(s){var u=typeof this.source=="function"?this.source():this.source,d=u.width/s.width,o=u.height/s.height,c=this.offsetX/s.width,f=this.offsetY/s.height,g="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,f&&(o+=Math.abs(f))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,c&&(d+=Math.abs(c))),u.src?g=u.src:u.toDataURL&&(g=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+f+'" width="'+d+'" height="'+o+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+g+`"></image>
</pattern>
`},setOptions:function(s){for(var u in s)this[u]=s[u]},toLive:function(s){var u=this.source;return!u||typeof u.src<"u"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":s.createPattern(u,this.repeat)}})}(),function(h){var s=h.fabric||(h.fabric={}),u=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var o in d)this[o]=d[o];this.id=s.Object.__uid++},_parseShadow:function(d){var o=d.trim(),c=s.Shadow.reOffsetsAndBlur.exec(o)||[],f=o.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:f.trim(),offsetX:parseFloat(c[1],10)||0,offsetY:parseFloat(c[2],10)||0,blur:parseFloat(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var o=40,c=40,f=s.Object.NUM_FRACTION_DIGITS,g=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-d.angle)),y=20,m=new s.Color(this.color);return d.width&&d.height&&(o=u((Math.abs(g.x)+this.blur)/d.width,f)*100+y,c=u((Math.abs(g.y)+this.blur)/d.height,f)*100+y),d.flipX&&(g.x*=-1),d.flipY&&(g.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+u(this.blur?this.blur/2:0,f)+`"></feGaussianBlur>
	<feOffset dx="`+u(g.x,f)+'" dy="'+u(g.y,f)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+m.toRgb()+'" flood-opacity="'+m.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},o=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(c){this[c]!==o[c]&&(d[c]=this[c])},this),d}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var h=t.util.object.extend,s=t.util.getElementOffset,u=t.util.removeFromArray,d=t.util.toFixed,o=t.util.transformPoint,c=t.util.invertTransform,f=t.util.getNodeCanvas,g=t.util.createCanvasElement,y=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(m,x){x||(x={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(m,x)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(m,x){var S=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(m),this._initOptions(x),this.interactive||this._initRetinaScaling(),x.overlayImage&&this.setOverlayImage(x.overlayImage,S),x.backgroundImage&&this.setBackgroundImage(x.backgroundImage,S),x.backgroundColor&&this.setBackgroundColor(x.backgroundColor,S),x.overlayColor&&this.setOverlayColor(x.overlayColor,S),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var m=t.devicePixelRatio;this.__initRetinaScaling(m,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(m,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(m,x,S){x.setAttribute("width",this.width*m),x.setAttribute("height",this.height*m),S.scale(m,m)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(m,x,S){return this.__setBgOverlayImage("overlayImage",m,x,S)},setBackgroundImage:function(m,x,S){return this.__setBgOverlayImage("backgroundImage",m,x,S)},setOverlayColor:function(m,x){return this.__setBgOverlayColor("overlayColor",m,x)},setBackgroundColor:function(m,x){return this.__setBgOverlayColor("backgroundColor",m,x)},__setBgOverlayImage:function(m,x,S,_){return typeof x=="string"?t.util.loadImage(x,function(k,O){if(k){var j=new t.Image(k,_);this[m]=j,j.canvas=this}S&&S(k,O)},this,_&&_.crossOrigin):(_&&x.setOptions(_),this[m]=x,x&&(x.canvas=this),S&&S(x,!1)),this},__setBgOverlayColor:function(m,x,S){return this[m]=x,this._initGradient(x,m),this._initPattern(x,m,S),this},_createCanvasElement:function(){var m=g();if(!m||(m.style||(m.style={}),typeof m.getContext>"u"))throw y;return m},_initOptions:function(m){var x=this.lowerCanvasEl;this._setOptions(m),this.width=this.width||parseInt(x.width,10)||0,this.height=this.height||parseInt(x.height,10)||0,this.lowerCanvasEl.style&&(x.width=this.width,x.height=this.height,x.style.width=this.width+"px",x.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(m){m&&m.getContext?this.lowerCanvasEl=m:this.lowerCanvasEl=t.util.getById(m)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(m,x){return this.setDimensions({width:m},x)},setHeight:function(m,x){return this.setDimensions({height:m},x)},setDimensions:function(m,x){var S;x=x||{};for(var _ in m)S=m[_],x.cssOnly||(this._setBackstoreDimension(_,m[_]),S+="px",this.hasLostContext=!0),x.backstoreOnly||this._setCssDimension(_,S);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),x.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(m,x){return this.lowerCanvasEl[m]=x,this.upperCanvasEl&&(this.upperCanvasEl[m]=x),this.cacheCanvasEl&&(this.cacheCanvasEl[m]=x),this[m]=x,this},_setCssDimension:function(m,x){return this.lowerCanvasEl.style[m]=x,this.upperCanvasEl&&(this.upperCanvasEl.style[m]=x),this.wrapperEl&&(this.wrapperEl.style[m]=x),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(m){var x=this._activeObject,S=this.backgroundImage,_=this.overlayImage,k,O,j;for(this.viewportTransform=m,O=0,j=this._objects.length;O<j;O++)k=this._objects[O],k.group||k.setCoords(!0);return x&&x.setCoords(),S&&S.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(m,x){var S=m,_=this.viewportTransform.slice(0);m=o(m,c(this.viewportTransform)),_[0]=x,_[3]=x;var k=o(m,_);return _[4]+=S.x-k.x,_[5]+=S.y-k.y,this.setViewportTransform(_)},setZoom:function(m){return this.zoomToPoint(new t.Point(0,0),m),this},absolutePan:function(m){var x=this.viewportTransform.slice(0);return x[4]=-m.x,x[5]=-m.y,this.setViewportTransform(x)},relativePan:function(m){return this.absolutePan(new t.Point(-m.x-this.viewportTransform[4],-m.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(m){this.stateful&&m.setupState(),m._set("canvas",this),m.setCoords(),this.fire("object:added",{target:m}),m.fire("added")},_onObjectRemoved:function(m){this.fire("object:removed",{target:m}),m.fire("removed"),delete m.canvas},clearContext:function(m){return m.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var m=this.contextContainer;return this.renderCanvas(m,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var m={},x=this.width,S=this.height,_=c(this.viewportTransform);return m.tl=o({x:0,y:0},_),m.br=o({x,y:S},_),m.tr=new t.Point(m.br.x,m.tl.y),m.bl=new t.Point(m.tl.x,m.br.y),this.vptCoords=m,m},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(m,x){var S=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(m),t.util.setImageSmoothing(m,this.imageSmoothingEnabled),this.fire("before:render",{ctx:m}),this._renderBackground(m),m.save(),m.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._renderObjects(m,x),m.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(m)),this._renderOverlay(m),this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),this.fire("after:render",{ctx:m})},drawClipPathOnCanvas:function(m){var x=this.viewportTransform,S=this.clipPath;m.save(),m.transform(x[0],x[1],x[2],x[3],x[4],x[5]),m.globalCompositeOperation="destination-in",S.transform(m),m.scale(1/S.zoomX,1/S.zoomY),m.drawImage(S._cacheCanvas,-S.cacheTranslationX,-S.cacheTranslationY),m.restore()},_renderObjects:function(m,x){var S,_;for(S=0,_=x.length;S<_;++S)x[S]&&x[S].render(m)},_renderBackgroundOrOverlay:function(m,x){var S=this[x+"Color"],_=this[x+"Image"],k=this.viewportTransform,O=this[x+"Vpt"];if(!(!S&&!_)){if(S){m.save(),m.beginPath(),m.moveTo(0,0),m.lineTo(this.width,0),m.lineTo(this.width,this.height),m.lineTo(0,this.height),m.closePath(),m.fillStyle=S.toLive?S.toLive(m,this):S,O&&m.transform(k[0],k[1],k[2],k[3],k[4],k[5]),m.transform(1,0,0,1,S.offsetX||0,S.offsetY||0);var j=S.gradientTransform||S.patternTransform;j&&m.transform(j[0],j[1],j[2],j[3],j[4],j[5]),m.fill(),m.restore()}_&&(m.save(),O&&m.transform(k[0],k[1],k[2],k[3],k[4],k[5]),_.render(m),m.restore())}},_renderBackground:function(m){this._renderBackgroundOrOverlay(m,"background")},_renderOverlay:function(m){this._renderBackgroundOrOverlay(m,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(m){return this._centerObject(m,new t.Point(this.getCenterPoint().x,m.getCenterPoint().y))},centerObjectV:function(m){return this._centerObject(m,new t.Point(m.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(m){var x=this.getCenterPoint();return this._centerObject(m,x)},viewportCenterObject:function(m){var x=this.getVpCenter();return this._centerObject(m,x)},viewportCenterObjectH:function(m){var x=this.getVpCenter();return this._centerObject(m,new t.Point(x.x,m.getCenterPoint().y)),this},viewportCenterObjectV:function(m){var x=this.getVpCenter();return this._centerObject(m,new t.Point(m.getCenterPoint().x,x.y))},getVpCenter:function(){var m=this.getCenterPoint(),x=c(this.viewportTransform);return o(m,x)},_centerObject:function(m,x){return m.setPositionByOrigin(x,"center","center"),m.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(m){return this.toDatalessObject(m)},toObject:function(m){return this._toObjectMethod("toObject",m)},toDatalessObject:function(m){return this._toObjectMethod("toDatalessObject",m)},_toObjectMethod:function(m,x){var S=this.clipPath,_={version:t.version,objects:this._toObjects(m,x)};return S&&!S.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,m,x)),h(_,this.__serializeBgOverlay(m,x)),t.util.populateWithProperties(this,_,x),_},_toObjects:function(m,x){return this._objects.filter(function(S){return!S.excludeFromExport}).map(function(S){return this._toObject(S,m,x)},this)},_toObject:function(m,x,S){var _;this.includeDefaultValues||(_=m.includeDefaultValues,m.includeDefaultValues=!1);var k=m[x](S);return this.includeDefaultValues||(m.includeDefaultValues=_),k},__serializeBgOverlay:function(m,x){var S={},_=this.backgroundImage,k=this.overlayImage,O=this.backgroundColor,j=this.overlayColor;return O&&O.toObject?O.excludeFromExport||(S.background=O.toObject(x)):O&&(S.background=O),j&&j.toObject?j.excludeFromExport||(S.overlay=j.toObject(x)):j&&(S.overlay=j),_&&!_.excludeFromExport&&(S.backgroundImage=this._toObject(_,m,x)),k&&!k.excludeFromExport&&(S.overlayImage=this._toObject(k,m,x)),S},svgViewportTransformation:!0,toSVG:function(m,x){m||(m={}),m.reviver=x;var S=[];return this._setSVGPreamble(S,m),this._setSVGHeader(S,m),this.clipPath&&S.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(S,"background"),this._setSVGBgOverlayImage(S,"backgroundImage",x),this._setSVGObjects(S,x),this.clipPath&&S.push(`</g>
`),this._setSVGBgOverlayColor(S,"overlay"),this._setSVGBgOverlayImage(S,"overlayImage",x),S.push("</svg>"),S.join("")},_setSVGPreamble:function(m,x){x.suppressPreamble||m.push('<?xml version="1.0" encoding="',x.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(m,x){var S=x.width||this.width,_=x.height||this.height,k,O='viewBox="0 0 '+this.width+" "+this.height+'" ',j=t.Object.NUM_FRACTION_DIGITS;x.viewBox?O='viewBox="'+x.viewBox.x+" "+x.viewBox.y+" "+x.viewBox.width+" "+x.viewBox.height+'" ':this.svgViewportTransformation&&(k=this.viewportTransform,O='viewBox="'+d(-k[4]/k[0],j)+" "+d(-k[5]/k[3],j)+" "+d(this.width/k[0],j)+" "+d(this.height/k[3],j)+'" '),m.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',S,'" ','height="',_,'" ',O,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(x),`</defs>
`)},createSVGClipPathMarkup:function(m){var x=this.clipPath;return x?(x.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+x.clipPathId+`" >
`+this.clipPath.toClipPathSVG(m.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var m=this,x=["background","overlay"].map(function(S){var _=m[S+"Color"];if(_&&_.toLive){var k=m[S+"Vpt"],O=m.viewportTransform,j={width:m.width/(k?O[0]:1),height:m.height/(k?O[3]:1)};return _.toSVG(j,{additionalTransform:k?t.util.matrixToSVG(O):""})}});return x.join("")},createSVGFontFacesMarkup:function(){var m="",x={},S,_,k,O,j,F,z,U,G,ie=t.fontPaths,se=[];for(this._objects.forEach(function le(ee){se.push(ee),ee._objects&&ee._objects.forEach(le)}),U=0,G=se.length;U<G;U++)if(S=se[U],_=S.fontFamily,!(S.type.indexOf("text")===-1||x[_]||!ie[_])&&(x[_]=!0,!!S.styles)){k=S.styles;for(j in k){O=k[j];for(z in O)F=O[z],_=F.fontFamily,!x[_]&&ie[_]&&(x[_]=!0)}}for(var ue in x)m+=[`		@font-face {
`,"			font-family: '",ue,`';
`,"			src: url('",ie[ue],`');
`,`		}
`].join("");return m&&(m=['	<style type="text/css">',`<![CDATA[
`,m,"]]>",`</style>
`].join("")),m},_setSVGObjects:function(m,x){var S,_,k,O=this._objects;for(_=0,k=O.length;_<k;_++)S=O[_],!S.excludeFromExport&&this._setSVGObject(m,S,x)},_setSVGObject:function(m,x,S){m.push(x.toSVG(S))},_setSVGBgOverlayImage:function(m,x,S){this[x]&&!this[x].excludeFromExport&&this[x].toSVG&&m.push(this[x].toSVG(S))},_setSVGBgOverlayColor:function(m,x){var S=this[x+"Color"],_=this.viewportTransform,k=this.width,O=this.height;if(S)if(S.toLive){var j=S.repeat,F=t.util.invertTransform(_),z=this[x+"Vpt"],U=z?t.util.matrixToSVG(F):"";m.push('<rect transform="'+U+" translate(",k/2,",",O/2,')"',' x="',S.offsetX-k/2,'" y="',S.offsetY-O/2,'" ','width="',j==="repeat-y"||j==="no-repeat"?S.source.width:k,'" height="',j==="repeat-x"||j==="no-repeat"?S.source.height:O,'" fill="url(#SVGID_'+S.id+')"',`></rect>
`)}else m.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',S,'"',`></rect>
`)},sendToBack:function(m){if(!m)return this;var x=this._activeObject,S,_,k;if(m===x&&m.type==="activeSelection")for(k=x._objects,S=k.length;S--;)_=k[S],u(this._objects,_),this._objects.unshift(_);else u(this._objects,m),this._objects.unshift(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(m){if(!m)return this;var x=this._activeObject,S,_,k;if(m===x&&m.type==="activeSelection")for(k=x._objects,S=0;S<k.length;S++)_=k[S],u(this._objects,_),this._objects.push(_);else u(this._objects,m),this._objects.push(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(m,x){if(!m)return this;var S=this._activeObject,_,k,O,j,F,z=0;if(m===S&&m.type==="activeSelection")for(F=S._objects,_=0;_<F.length;_++)k=F[_],O=this._objects.indexOf(k),O>0+z&&(j=O-1,u(this._objects,k),this._objects.splice(j,0,k)),z++;else O=this._objects.indexOf(m),O!==0&&(j=this._findNewLowerIndex(m,O,x),u(this._objects,m),this._objects.splice(j,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(m,x,S){var _,k;if(S)for(_=x,k=x-1;k>=0;--k){var O=m.intersectsWithObject(this._objects[k])||m.isContainedWithinObject(this._objects[k])||this._objects[k].isContainedWithinObject(m);if(O){_=k;break}}else _=x-1;return _},bringForward:function(m,x){if(!m)return this;var S=this._activeObject,_,k,O,j,F,z=0;if(m===S&&m.type==="activeSelection")for(F=S._objects,_=F.length;_--;)k=F[_],O=this._objects.indexOf(k),O<this._objects.length-1-z&&(j=O+1,u(this._objects,k),this._objects.splice(j,0,k)),z++;else O=this._objects.indexOf(m),O!==this._objects.length-1&&(j=this._findNewUpperIndex(m,O,x),u(this._objects,m),this._objects.splice(j,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(m,x,S){var _,k,O;if(S)for(_=x,k=x+1,O=this._objects.length;k<O;++k){var j=m.intersectsWithObject(this._objects[k])||m.isContainedWithinObject(this._objects[k])||this._objects[k].isContainedWithinObject(m);if(j){_=k;break}}else _=x+1;return _},moveTo:function(m,x){return u(this._objects,m),this._objects.splice(x,0,m),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(m){m.dispose&&m.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),h(t.StaticCanvas.prototype,t.Observable),h(t.StaticCanvas.prototype,t.Collection),h(t.StaticCanvas.prototype,t.DataURLExporter),h(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(m){var x=g();if(!x||!x.getContext)return null;var S=x.getContext("2d");if(!S)return null;switch(m){case"setLineDash":return typeof S.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var m=f(this.lowerCanvasEl);return m&&m.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(m){var x=f(this.lowerCanvasEl);return x&&x.createJPEGStream(m)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(h){h.strokeStyle=this.color,h.lineWidth=this.width,h.lineCap=this.strokeLineCap,h.miterLimit=this.strokeMiterLimit,h.lineJoin=this.strokeLineJoin,h.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(h){var s=this.canvas.viewportTransform;h.save(),h.transform(s[0],s[1],s[2],s[3],s[4],s[5])},_setShadow:function(){if(this.shadow){var h=this.canvas,s=this.shadow,u=h.contextTop,d=h.getZoom();h&&h._isRetinaScaling()&&(d*=t.devicePixelRatio),u.shadowColor=s.color,u.shadowBlur=s.blur*d,u.shadowOffsetX=s.offsetX*d,u.shadowOffsetY=s.offsetY*d}},needsFullRender:function(){var h=new t.Color(this.color);return h.getAlpha()<1||!!this.shadow},_resetShadow:function(){var h=this.canvas.contextTop;h.shadowColor="",h.shadowBlur=h.shadowOffsetX=h.shadowOffsetY=0},_isOutSideCanvas:function(h){return h.x<0||h.x>this.canvas.getWidth()||h.y<0||h.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(h){this.canvas=h,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(h,s,u){var d=s.midPointFrom(u);return h.quadraticCurveTo(s.x,s.y,d.x,d.y),d},onMouseDown:function(h,s){this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],this._prepareForDrawing(h),this._captureDrawingPath(h),this._render())},onMouseMove:function(h,s){if(this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h))&&this._captureDrawingPath(h)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,d=u.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,u[d-2],u[d-1],!0),o.stroke(),o.restore()}},onMouseUp:function(h){return this.canvas._isMainEvent(h.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(h){var s=new t.Point(h.x,h.y);this._reset(),this._addPoint(s),this.canvas.contextTop.moveTo(s.x,s.y)},_addPoint:function(h){return this._points.length>1&&h.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(h),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(h){var s=new t.Point(h.x,h.y);return this._addPoint(s)},_render:function(h){var s,u,d=this._points[0],o=this._points[1];if(h=h||this.canvas.contextTop,this._saveAndTransform(h),h.beginPath(),this._points.length===2&&d.x===o.x&&d.y===o.y){var c=this.width/1e3;d=new t.Point(d.x,d.y),o=new t.Point(o.x,o.y),d.x-=c,o.x+=c}for(h.moveTo(d.x,d.y),s=1,u=this._points.length;s<u;s++)this._drawSegment(h,d,o),d=this._points[s],o=this._points[s+1];h.lineTo(d.x,d.y),h.stroke(),h.restore()},convertPointsToSVGPath:function(h){var s=this.width/1e3;return t.util.getSmoothPathFromPoints(h,s)},_isEmptySVGPath:function(h){var s=t.util.joinPath(h);return s==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(h){var s=new t.Path(h,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,s.shadow=new t.Shadow(this.shadow)),s},decimatePoints:function(h,s){if(h.length<=2)return h;var u=this.canvas.getZoom(),d=Math.pow(s/u,2),o,c=h.length-1,f=h[0],g=[f],y;for(o=1;o<c-1;o++)y=Math.pow(f.x-h[o].x,2)+Math.pow(f.y-h[o].y,2),y>=d&&(f=h[o],g.push(f));return g.push(h[c]),g},_finalizeAndAddPath:function(){var h=this.canvas.contextTop;h.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var s=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(s)){this.canvas.requestRenderAll();return}var u=this.createPath(s);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(h){this.canvas=h,this.points=[]},drawDot:function(h){var s=this.addPoint(h),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,s),u.restore()},dot:function(h,s){h.fillStyle=s.fill,h.beginPath(),h.arc(s.x,s.y,s.radius,0,Math.PI*2,!1),h.closePath(),h.fill()},onMouseDown:function(h){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(h)},_render:function(){var h=this.canvas.contextTop,s,u,d=this.points;for(this._saveAndTransform(h),s=0,u=d.length;s<u;s++)this.dot(h,d[s]);h.restore()},onMouseMove:function(h){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(h),this._render()):this.drawDot(h))},onMouseUp:function(){var h=this.canvas.renderOnAddRemove,s,u;this.canvas.renderOnAddRemove=!1;var d=[];for(s=0,u=this.points.length;s<u;s++){var o=this.points[s],c=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(c.shadow=new t.Shadow(this.shadow)),d.push(c)}var f=new t.Group(d);f.canvas=this.canvas,this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.fire("path:created",{path:f}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=h,this.canvas.requestRenderAll()},addPoint:function(h){var s=new t.Point(h.x,h.y),u=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return s.radius=u,s.fill=d,this.points.push(s),s}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(h){this.canvas=h,this.sprayChunks=[]},onMouseDown:function(h){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(h),this.render(this.sprayChunkPoints)},onMouseMove:function(h){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h)||(this.addSprayChunk(h),this.render(this.sprayChunkPoints))},onMouseUp:function(){var h=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var s=[],u=0,d=this.sprayChunks.length;u<d;u++)for(var o=this.sprayChunks[u],c=0,f=o.length;c<f;c++){var g=new t.Rect({width:o[c].width,height:o[c].width,left:o[c].x+1,top:o[c].y+1,originX:"center",originY:"center",fill:this.color});s.push(g)}this.optimizeOverlapping&&(s=this._getOptimizedRects(s));var y=new t.Group(s);this.shadow&&y.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:y}),this.canvas.add(y),this.canvas.fire("path:created",{path:y}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=h,this.canvas.requestRenderAll()},_getOptimizedRects:function(h){var s={},u,d,o;for(d=0,o=h.length;d<o;d++)u=h[d].left+""+h[d].top,s[u]||(s[u]=h[d]);var c=[];for(u in s)c.push(s[u]);return c},render:function(h){var s=this.canvas.contextTop,u,d;for(s.fillStyle=this.color,this._saveAndTransform(s),u=0,d=h.length;u<d;u++){var o=h[u];typeof o.opacity<"u"&&(s.globalAlpha=o.opacity),s.fillRect(o.x,o.y,o.width,o.width)}s.restore()},_render:function(){var h=this.canvas.contextTop,s,u;for(h.fillStyle=this.color,this._saveAndTransform(h),s=0,u=this.sprayChunks.length;s<u;s++)this.render(this.sprayChunks[s]);h.restore()},addSprayChunk:function(h){this.sprayChunkPoints=[];var s,u,d,o=this.width/2,c;for(c=0;c<this.density;c++){s=t.util.getRandomInt(h.x-o,h.x+o),u=t.util.getRandomInt(h.y-o,h.y+o),this.dotWidthVariance?d=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var f=new t.Point(s,u);f.width=d,this.randomOpacity&&(f.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(f)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var h=20,s=5,u=t.util.createCanvasElement(),d=u.getContext("2d");return u.width=u.height=h+s,d.fillStyle=this.color,d.beginPath(),d.arc(h/2,h/2,h/2,0,Math.PI*2,!1),d.closePath(),d.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(h){return h.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(h){this.callSuper("_setBrushStyles",h),h.strokeStyle=this.getPattern(h)},createPath:function(h){var s=this.callSuper("createPath",h),u=s._getLeftTopCoords().scalarAdd(s.strokeWidth/2);return s.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),s}}),function(){var h=t.util.getPointer,s=t.util.degreesToRadians,u=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,c){c||(c={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,c),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),c,f,g;if(o.length>0&&!this.preserveObjectStacking){f=[],g=[];for(var y=0,m=this._objects.length;y<m;y++)c=this._objects[y],o.indexOf(c)===-1?f.push(c):g.push(c);o.length>1&&(this._activeObject._objects=g),f.push.apply(f,g)}else f=this._objects;return f},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,c){var f=o.calcTransformMatrix(),g=t.util.invertTransform(f),y=this.restorePointerVpt(c);return t.util.transformPoint(y,g)},isTargetTransparent:function(o,c,f){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var g=this._normalizePointer(o,{x:c,y:f}),y=Math.max(o.cacheTranslationX+g.x*o.zoomX,0),m=Math.max(o.cacheTranslationY+g.y*o.zoomY,0),k=t.util.isTransparent(o._cacheContext,Math.round(y),Math.round(m),this.targetFindTolerance);return k}var x=this.contextCache,S=o.selectionBackgroundColor,_=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(x),x.save(),x.transform(_[0],_[1],_[2],_[3],_[4],_[5]),o.render(x),x.restore(),o.selectionBackgroundColor=S;var k=t.util.isTransparent(x,c,f,this.targetFindTolerance);return k},_isSelectionKeyPressed:function(o){var c=!1;return Array.isArray(this.selectionKey)?c=!!this.selectionKey.find(function(f){return o[f]===!0}):c=o[this.selectionKey],c},_shouldClearSelection:function(o,c){var f=this.getActiveObjects(),g=this._activeObject;return!c||c&&g&&f.length>1&&f.indexOf(c)===-1&&g!==c&&!this._isSelectionKeyPressed(o)||c&&!c.evented||c&&!c.selectable&&g&&g!==c},_shouldCenterTransform:function(o,c,f){if(o){var g;return c==="scale"||c==="scaleX"||c==="scaleY"||c==="resizing"?g=this.centeredScaling||o.centeredScaling:c==="rotate"&&(g=this.centeredRotation||o.centeredRotation),g?!f:f}},_getOriginFromCorner:function(o,c){var f={x:o.originX,y:o.originY};return c==="ml"||c==="tl"||c==="bl"?f.x="right":(c==="mr"||c==="tr"||c==="br")&&(f.x="left"),c==="tl"||c==="mt"||c==="tr"?f.y="bottom":(c==="bl"||c==="mb"||c==="br")&&(f.y="top"),f},_getActionFromCorner:function(o,c,f,g){if(!c||!o)return"drag";var y=g.controls[c];return y.getActionName(f,y,g)},_setupCurrentTransform:function(o,c,f){if(c){var g=this.getPointer(o),y=c.__corner,m=c.controls[y],x=f&&y?m.getActionHandler(o,c,m):t.controlsUtils.dragHandler,S=this._getActionFromCorner(f,y,o,c),_=this._getOriginFromCorner(c,y),k=o[this.centeredKey],O={target:c,action:S,actionHandler:x,corner:y,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,offsetX:g.x-c.left,offsetY:g.y-c.top,originX:_.x,originY:_.y,ex:g.x,ey:g.y,lastX:g.x,lastY:g.y,theta:s(c.angle),width:c.width*c.scaleX,shiftKey:o.shiftKey,altKey:k,original:t.util.saveObjectTransform(c)};this._shouldCenterTransform(c,S,k)&&(O.originX="center",O.originY="center"),O.original.originX=_.x,O.original.originY=_.y,this._currentTransform=O,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var c=this._groupSelector,f=new t.Point(c.ex,c.ey),g=t.util.transformPoint(f,this.viewportTransform),y=new t.Point(c.ex+c.left,c.ey+c.top),m=t.util.transformPoint(y,this.viewportTransform),x=Math.min(g.x,m.x),S=Math.min(g.y,m.y),_=Math.max(g.x,m.x),k=Math.max(g.y,m.y),O=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(x,S,_-x,k-S)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,x+=O,S+=O,_-=O,k-=O,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(x,S,_-x,k-S))},findTarget:function(o,c){if(!this.skipTargetFind){var f=!0,g=this.getPointer(o,f),y=this._activeObject,m=this.getActiveObjects(),x,S,_=u(o),k=m.length>1&&!c||m.length===1;if(this.targets=[],k&&y._findTargetCorner(g,_)||m.length>1&&!c&&y===this._searchPossibleTargets([y],g))return y;if(m.length===1&&y===this._searchPossibleTargets([y],g))if(this.preserveObjectStacking)x=y,S=this.targets,this.targets=[];else return y;var O=this._searchPossibleTargets(this._objects,g);return o[this.altSelectionKey]&&O&&x&&O!==x&&(O=x,this.targets=S),O}},_checkTarget:function(o,c,f){if(c&&c.visible&&c.evented&&c.containsPoint(o))if((this.perPixelTargetFind||c.perPixelTargetFind)&&!c.isEditing){var g=this.isTargetTransparent(c,f.x,f.y);if(!g)return!0}else return!0},_searchPossibleTargets:function(o,c){for(var f,g=o.length,y;g--;){var m=o[g],x=m.group?this._normalizePointer(m.group,c):c;if(this._checkTarget(x,m,c)){f=o[g],f.subTargetCheck&&f instanceof t.Group&&(y=this._searchPossibleTargets(f._objects,c),y&&this.targets.push(y));break}}return f},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,c){if(this._absolutePointer&&!c)return this._absolutePointer;if(this._pointer&&c)return this._pointer;var f=h(o),g=this.upperCanvasEl,y=g.getBoundingClientRect(),m=y.width||0,x=y.height||0,S;(!m||!x)&&("top"in y&&"bottom"in y&&(x=Math.abs(y.top-y.bottom)),"right"in y&&"left"in y&&(m=Math.abs(y.right-y.left))),this.calcOffset(),f.x=f.x-this._offset.left,f.y=f.y-this._offset.top,c||(f=this.restorePointerVpt(f));var _=this.getRetinaScaling();return _!==1&&(f.x/=_,f.y/=_),m===0||x===0?S={width:1,height:1}:S={width:g.width/m,height:g.height/x},{x:f.x*S.width,y:f.y*S.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),c=this.lowerCanvasEl,f=this.upperCanvasEl;f?f.className="":(f=this._createCanvasElement(),this.upperCanvasEl=f),t.util.addClass(f,"upper-canvas "+o),this.wrapperEl.appendChild(f),this._copyCanvasStyle(c,f),this._applyCanvasStyle(f),this.contextTop=f.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var c=this.width||o.width,f=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:c+"px",height:f+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=c,o.height=f,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,c){c.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,c){var f=!1,g=this.getActiveObjects(),y=[],m=[];o.forEach(function(x){g.indexOf(x)===-1&&(f=!0,x.fire("deselected",{e:c,target:x}),m.push(x))}),g.forEach(function(x){o.indexOf(x)===-1&&(f=!0,x.fire("selected",{e:c,target:x}),y.push(x))}),o.length>0&&g.length>0?f&&this.fire("selection:updated",{e:c,selected:y,deselected:m}):g.length>0?this.fire("selection:created",{e:c,selected:y}):o.length>0&&this.fire("selection:cleared",{e:c,deselected:m})},setActiveObject:function(o,c){var f=this.getActiveObjects();return this._setActiveObject(o,c),this._fireSelectionEvents(f,c),this},_setActiveObject:function(o,c){return this._activeObject===o||!this._discardActiveObject(c,o)||o.onSelect({e:c})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,c){var f=this._activeObject;if(f){if(f.onDeselect({e:o,object:c}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var c=this.getActiveObjects(),f=this.getActiveObject();return c.length&&this.fire("before:selection:cleared",{target:f,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(c,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var c=this._activeObject;c&&c._renderControls(o)},_toObject:function(o,c,f){var g=this._realizeGroupTransformOnObject(o),y=this.callSuper("_toObject",o,c,f);return this._unwindGroupTransformOnObject(o,g),y},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var c=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],f={};return c.forEach(function(g){f[g]=o[g]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),f}else return null},_unwindGroupTransformOnObject:function(o,c){c&&o.set(c)},_setSVGObject:function(o,c,f){var g=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",o,c,f),this._unwindGroupTransformOnObject(c,g)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var d in t.StaticCanvas)d!=="prototype"&&(t.Canvas[d]=t.StaticCanvas[d])}(),function(){var h=t.util.addListener,s=t.util.removeListener,u=3,d=2,o=1,c={passive:!1};function f(g,y){return g.button&&g.button===y-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(h,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(g,y){var m=this.upperCanvasEl,x=this._getEventPrefix();g(t.window,"resize",this._onResize),g(m,x+"down",this._onMouseDown),g(m,x+"move",this._onMouseMove,c),g(m,x+"out",this._onMouseOut),g(m,x+"enter",this._onMouseEnter),g(m,"wheel",this._onMouseWheel),g(m,"contextmenu",this._onContextMenu),g(m,"dblclick",this._onDoubleClick),g(m,"dragover",this._onDragOver),g(m,"dragenter",this._onDragEnter),g(m,"dragleave",this._onDragLeave),g(m,"drop",this._onDrop),this.enablePointerEvents||g(m,"touchstart",this._onTouchStart,c),typeof eventjs<"u"&&y in eventjs&&(eventjs[y](m,"gesture",this._onGesture),eventjs[y](m,"drag",this._onDrag),eventjs[y](m,"orientation",this._onOrientationChange),eventjs[y](m,"shake",this._onShake),eventjs[y](m,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var g=this._getEventPrefix();s(t.document,g+"up",this._onMouseUp),s(t.document,"touchend",this._onTouchEnd,c),s(t.document,g+"move",this._onMouseMove,c),s(t.document,"touchmove",this._onMouseMove,c)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(g,y){this.__onTransformGesture&&this.__onTransformGesture(g,y)},_onDrag:function(g,y){this.__onDrag&&this.__onDrag(g,y)},_onMouseWheel:function(g){this.__onMouseWheel(g)},_onMouseOut:function(g){var y=this._hoveredTarget;this.fire("mouse:out",{target:y,e:g}),this._hoveredTarget=null,y&&y.fire("mouseout",{e:g});var m=this;this._hoveredTargets.forEach(function(x){m.fire("mouse:out",{target:y,e:g}),x&&y.fire("mouseout",{e:g})}),this._hoveredTargets=[]},_onMouseEnter:function(g){!this._currentTransform&&!this.findTarget(g)&&(this.fire("mouse:over",{target:null,e:g}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(g,y){this.__onOrientationChange&&this.__onOrientationChange(g,y)},_onShake:function(g,y){this.__onShake&&this.__onShake(g,y)},_onLongPress:function(g,y){this.__onLongPress&&this.__onLongPress(g,y)},_onDragOver:function(g){g.preventDefault();var y=this._simpleEventHandler("dragover",g);this._fireEnterLeaveEvents(y,g)},_onDrop:function(g){return this._simpleEventHandler("drop:before",g),this._simpleEventHandler("drop",g)},_onContextMenu:function(g){return this.stopContextMenu&&(g.stopPropagation(),g.preventDefault()),!1},_onDoubleClick:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"dblclick"),this._resetTransformEventData(g)},getPointerId:function(g){var y=g.changedTouches;return y?y[0]&&y[0].identifier:this.enablePointerEvents?g.pointerId:-1},_isMainEvent:function(g){return g.isPrimary===!0?!0:g.isPrimary===!1?!1:g.type==="touchend"&&g.touches.length===0?!0:g.changedTouches?g.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(g){g.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(g)),this.__onMouseDown(g),this._resetTransformEventData();var y=this.upperCanvasEl,m=this._getEventPrefix();h(t.document,"touchend",this._onTouchEnd,c),h(t.document,"touchmove",this._onMouseMove,c),s(y,m+"down",this._onMouseDown)},_onMouseDown:function(g){this.__onMouseDown(g),this._resetTransformEventData();var y=this.upperCanvasEl,m=this._getEventPrefix();s(y,m+"move",this._onMouseMove,c),h(t.document,m+"up",this._onMouseUp),h(t.document,m+"move",this._onMouseMove,c)},_onTouchEnd:function(g){if(!(g.touches.length>0)){this.__onMouseUp(g),this._resetTransformEventData(),this.mainTouchId=null;var y=this._getEventPrefix();s(t.document,"touchend",this._onTouchEnd,c),s(t.document,"touchmove",this._onMouseMove,c);var m=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){h(m.upperCanvasEl,y+"down",m._onMouseDown),m._willAddMouseDown=0},400)}},_onMouseUp:function(g){this.__onMouseUp(g),this._resetTransformEventData();var y=this.upperCanvasEl,m=this._getEventPrefix();this._isMainEvent(g)&&(s(t.document,m+"up",this._onMouseUp),s(t.document,m+"move",this._onMouseMove,c),h(y,m+"move",this._onMouseMove,c))},_onMouseMove:function(g){!this.allowTouchScrolling&&g.preventDefault&&g.preventDefault(),this.__onMouseMove(g)},_onResize:function(){this.calcOffset()},_shouldRender:function(g){var y=this._activeObject;return!!y!=!!g||y&&g&&y!==g?!0:(y&&y.isEditing,!1)},__onMouseUp:function(g){var y,m=this._currentTransform,x=this._groupSelector,S=!1,_=!x||x.left===0&&x.top===0;if(this._cacheTransformEventData(g),y=this._target,this._handleEvent(g,"up:before"),f(g,u)){this.fireRightClick&&this._handleEvent(g,"up",u,_);return}if(f(g,d)){this.fireMiddleClick&&this._handleEvent(g,"up",d,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(g);return}if(this._isMainEvent(g)){if(m&&(this._finalizeCurrentTransform(g),S=m.actionPerformed),!_){var k=y===this._activeObject;this._maybeGroupObjects(g),S||(S=this._shouldRender(y)||!k&&y===this._activeObject)}var O,j;if(y){if(O=y._findTargetCorner(this.getPointer(g,!0),t.util.isTouchEvent(g)),y.selectable&&y!==this._activeObject&&y.activeOn==="up")this.setActiveObject(y,g),S=!0;else{var F=y.controls[O],z=F&&F.getMouseUpHandler(g,y,F);z&&(j=this.getPointer(g),z(g,m,j.x,j.y))}y.isMoving=!1}if(m&&(m.target!==y||m.corner!==O)){var U=m.target&&m.target.controls[m.corner],G=U&&U.getMouseUpHandler(g,y,F);j=j||this.getPointer(g),G&&G(g,m,j.x,j.y)}this._setCursorFromEvent(g,y),this._handleEvent(g,"up",o,_),this._groupSelector=null,this._currentTransform=null,y&&(y.__corner=0),S?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(g,y){var m=this.findTarget(y),x=this.targets,S={e:y,target:m,subTargets:x};if(this.fire(g,S),m&&m.fire(g,S),!x)return m;for(var _=0;_<x.length;_++)x[_].fire(g,S);return m},_handleEvent:function(g,y,m,x){var S=this._target,_=this.targets||[],k={e:g,target:S,subTargets:_,button:m||o,isClick:x||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};y==="up"&&(k.currentTarget=this.findTarget(g),k.currentSubTargets=this.targets),this.fire("mouse:"+y,k),S&&S.fire("mouse"+y,k);for(var O=0;O<_.length;O++)_[O].fire("mouse"+y,k)},_finalizeCurrentTransform:function(g){var y=this._currentTransform,m=y.target,x={e:g,target:m,transform:y,action:y.action};m._scaling&&(m._scaling=!1),m.setCoords(),(y.actionPerformed||this.stateful&&m.hasStateChanged())&&this._fire("modified",x)},_onMouseDownInDrawingMode:function(g){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(g).requestRenderAll();var y=this.getPointer(g);this.freeDrawingBrush.onMouseDown(y,{e:g,pointer:y}),this._handleEvent(g,"down")},_onMouseMoveInDrawingMode:function(g){if(this._isCurrentlyDrawing){var y=this.getPointer(g);this.freeDrawingBrush.onMouseMove(y,{e:g,pointer:y})}this.setCursor(this.freeDrawingCursor),this._handleEvent(g,"move")},_onMouseUpInDrawingMode:function(g){var y=this.getPointer(g);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:g,pointer:y}),this._handleEvent(g,"up")},__onMouseDown:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"down:before");var y=this._target;if(f(g,u)){this.fireRightClick&&this._handleEvent(g,"down",u);return}if(f(g,d)){this.fireMiddleClick&&this._handleEvent(g,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(g);return}if(this._isMainEvent(g)&&!this._currentTransform){var m=this._pointer;this._previousPointer=m;var x=this._shouldRender(y),S=this._shouldGroup(g,y);if(this._shouldClearSelection(g,y)?this.discardActiveObject(g):S&&(this._handleGrouping(g,y),y=this._activeObject),this.selection&&(!y||!y.selectable&&!y.isEditing&&y!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),y){var _=y===this._activeObject;y.selectable&&y.activeOn==="down"&&this.setActiveObject(y,g);var k=y._findTargetCorner(this.getPointer(g,!0),t.util.isTouchEvent(g));if(y.__corner=k,y===this._activeObject&&(k||!S)){this._setupCurrentTransform(g,y,_);var O=y.controls[k],m=this.getPointer(g),j=O&&O.getMouseDownHandler(g,y,O);j&&j(g,this._currentTransform,m.x,m.y)}}this._handleEvent(g,"down"),(x||S)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(g){this._resetTransformEventData(),this._pointer=this.getPointer(g,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(g)||null},_beforeTransform:function(g){var y=this._currentTransform;this.stateful&&y.target.saveState(),this.fire("before:transform",{e:g,transform:y})},__onMouseMove:function(g){this._handleEvent(g,"move:before"),this._cacheTransformEventData(g);var y,m;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(g);return}if(this._isMainEvent(g)){var x=this._groupSelector;x?(m=this._absolutePointer,x.left=m.x-x.ex,x.top=m.y-x.ey,this.renderTop()):this._currentTransform?this._transformObject(g):(y=this.findTarget(g)||null,this._setCursorFromEvent(g,y),this._fireOverOutEvents(y,g)),this._handleEvent(g,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(g,y){var m=this._hoveredTarget,x=this._hoveredTargets,S=this.targets,_=Math.max(x.length,S.length);this.fireSyntheticInOutEvents(g,y,{oldTarget:m,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var k=0;k<_;k++)this.fireSyntheticInOutEvents(S[k],y,{oldTarget:x[k],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=g,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(g,y){var m=this._draggedoverTarget,x=this._hoveredTargets,S=this.targets,_=Math.max(x.length,S.length);this.fireSyntheticInOutEvents(g,y,{oldTarget:m,evtOut:"dragleave",evtIn:"dragenter"});for(var k=0;k<_;k++)this.fireSyntheticInOutEvents(S[k],y,{oldTarget:x[k],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=g},fireSyntheticInOutEvents:function(g,y,m){var x,S,_=m.oldTarget,k,O,j=_!==g,F=m.canvasEvtIn,z=m.canvasEvtOut;j&&(x={e:y,target:g,previousTarget:_},S={e:y,target:_,nextTarget:g}),O=g&&j,k=_&&j,k&&(z&&this.fire(z,S),_.fire(m.evtOut,S)),O&&(F&&this.fire(F,x),g.fire(m.evtIn,x))},__onMouseWheel:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"wheel"),this._resetTransformEventData()},_transformObject:function(g){var y=this.getPointer(g),m=this._currentTransform;m.reset=!1,m.shiftKey=g.shiftKey,m.altKey=g[this.centeredKey],this._performTransformAction(g,m,y),m.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(g,y,m){var x=m.x,S=m.y,_=y.action,k=!1,O=y.actionHandler;O&&(k=O(g,y,x,S)),_==="drag"&&k&&(y.target.isMoving=!0,this.setCursor(y.target.moveCursor||this.moveCursor)),y.actionPerformed=y.actionPerformed||k},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(g,y){if(!y)return this.setCursor(this.defaultCursor),!1;var m=y.hoverCursor||this.hoverCursor,x=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,S=(!x||!x.contains(y))&&y._findTargetCorner(this.getPointer(g,!0));S?this.setCursor(this.getCornerCursor(S,y,g)):(y.subTargetCheck&&this.targets.concat().reverse().map(function(_){m=_.hoverCursor||m}),this.setCursor(m))},getCornerCursor:function(g,y,m){var x=y.controls[g];return x.cursorStyleHandler(m,x,y)}})}(),function(){var h=Math.min,s=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(u,d){var o=this._activeObject;return o&&this._isSelectionKeyPressed(u)&&d&&d.selectable&&this.selection&&(o!==d||o.type==="activeSelection")&&!d.onSelect({e:u})},_handleGrouping:function(u,d){var o=this._activeObject;o.__corner||d===o&&(d=this.findTarget(u,!0),!d||!d.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(d,u):this._createActiveSelection(d,u))},_updateActiveSelection:function(u,d){var o=this._activeObject,c=o._objects.slice(0);o.contains(u)?(o.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),d)):(o.addWithUpdate(u),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(c,d)},_createActiveSelection:function(u,d){var o=this.getActiveObjects(),c=this._createGroup(u);this._hoveredTarget=c,this._setActiveObject(c,d),this._fireSelectionEvents(o,d)},_createGroup:function(u){var d=this._objects,o=d.indexOf(this._activeObject)<d.indexOf(u),c=o?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(c,{canvas:this})},_groupSelectedObjects:function(u){var d=this._collectObjects(u),o;d.length===1?this.setActiveObject(d[0],u):d.length>1&&(o=new t.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(o,u))},_collectObjects:function(u){for(var d=[],o,c=this._groupSelector.ex,f=this._groupSelector.ey,g=c+this._groupSelector.left,y=f+this._groupSelector.top,m=new t.Point(h(c,g),h(f,y)),x=new t.Point(s(c,g),s(f,y)),S=!this.selectionFullyContained,_=c===g&&f===y,k=this._objects.length;k--&&(o=this._objects[k],!(!(!o||!o.selectable||!o.visible)&&(S&&o.intersectsWithRect(m,x,!0)||o.isContainedWithinRect(m,x,!0)||S&&o.containsPoint(m,null,!0)||S&&o.containsPoint(x,null,!0))&&(d.push(o),_))););return d.length>1&&(d=d.filter(function(O){return!O.onSelect({e:u})})),d},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(h){h||(h={});var s=h.format||"png",u=h.quality||1,d=(h.multiplier||1)*(h.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(d,h);return t.util.toDataURL(o,s,u)},toCanvasElement:function(h,s){h=h||1,s=s||{};var u=(s.width||this.width)*h,d=(s.height||this.height)*h,o=this.getZoom(),c=this.width,f=this.height,g=o*h,y=this.viewportTransform,m=(y[4]-(s.left||0))*h,x=(y[5]-(s.top||0))*h,S=this.interactive,_=[g,0,0,g,m,x],k=this.enableRetinaScaling,O=t.util.createCanvasElement(),j=this.contextTop;return O.width=u,O.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=u,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(O.getContext("2d"),this._objects),this.viewportTransform=y,this.width=c,this.height=f,this.calcViewportBoundaries(),this.interactive=S,this.enableRetinaScaling=k,this.contextTop=j,O}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(h,s,u){if(h){var d=typeof h=="string"?JSON.parse(h):t.util.object.clone(h),o=this,c=d.clipPath,f=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(g){o.clear(),o._setBgOverlay(d,function(){c?o._enlivenObjects([c],function(y){o.clipPath=y[0],o.__setupCanvas.call(o,d,g,f,s)}):o.__setupCanvas.call(o,d,g,f,s)})},u),this}},__setupCanvas:function(h,s,u,d){var o=this;s.forEach(function(c,f){o.insertAt(c,f)}),this.renderOnAddRemove=u,delete h.objects,delete h.backgroundImage,delete h.overlayImage,delete h.background,delete h.overlay,this._setOptions(h),this.renderAll(),d&&d()},_setBgOverlay:function(h,s){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!h.backgroundImage&&!h.overlayImage&&!h.background&&!h.overlay){s&&s();return}var d=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&s&&s()};this.__setBgOverlay("backgroundImage",h.backgroundImage,u,d),this.__setBgOverlay("overlayImage",h.overlayImage,u,d),this.__setBgOverlay("backgroundColor",h.background,u,d),this.__setBgOverlay("overlayColor",h.overlay,u,d)},__setBgOverlay:function(h,s,u,d){var o=this;if(!s){u[h]=!0,d&&d();return}h==="backgroundImage"||h==="overlayImage"?t.util.enlivenObjects([s],function(c){o[h]=c[0],u[h]=!0,d&&d()}):this["set"+t.util.string.capitalize(h,!0)](s,function(){u[h]=!0,d&&d()})},_enlivenObjects:function(h,s,u){if(!h||h.length===0){s&&s([]);return}t.util.enlivenObjects(h,function(d){s&&s(d)},null,u)},_toDataURL:function(h,s){this.clone(function(u){s(u.toDataURL(h))})},_toDataURLWithMultiplier:function(h,s,u){this.clone(function(d){u(d.toDataURLWithMultiplier(h,s))})},clone:function(h,s){var u=JSON.stringify(this.toJSON(s));this.cloneWithoutData(function(d){d.loadFromJSON(u,function(){h&&h(d)})})},cloneWithoutData:function(h){var s=t.util.createCanvasElement();s.width=this.width,s.height=this.height;var u=new t.Canvas(s);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),h&&h(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):h&&h(u)}}),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.extend,d=s.util.object.clone,o=s.util.toFixed,c=s.util.string.capitalize,f=s.util.degreesToRadians,g=!s.isLikelyNode,y=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:g,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(m){m&&this.setOptions(m)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(m){var x=s.perfLimitSizeTotal,S=m.width,_=m.height,k=s.maxCacheSideLimit,O=s.minCacheSideLimit;if(S<=k&&_<=k&&S*_<=x)return S<O&&(m.width=O),_<O&&(m.height=O),m;var j=S/_,F=s.util.limitDimsByArea(j,x),z=s.util.capValue,U=z(O,F.x,k),G=z(O,F.y,k);return S>U&&(m.zoomX/=S/U,m.width=U,m.capped=!0),_>G&&(m.zoomY/=_/G,m.height=G,m.capped=!0),m},_getCacheCanvasDimensions:function(){var m=this.getTotalObjectScaling(),x=this._getTransformedDimensions(0,0),S=x.x*m.scaleX/this.scaleX,_=x.y*m.scaleY/this.scaleY;return{width:S+y,height:_+y,zoomX:m.scaleX,zoomY:m.scaleY,x:S,y:_}},_updateCacheCanvas:function(){var m=this.canvas;if(this.noScaleCache&&m&&m._currentTransform){var x=m._currentTransform.target,S=m._currentTransform.action;if(this===x&&S.slice&&S.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,k=this._limitCacheSize(this._getCacheCanvasDimensions()),O=s.minCacheSideLimit,j=k.width,F=k.height,z,U,G=k.zoomX,ie=k.zoomY,se=j!==this.cacheWidth||F!==this.cacheHeight,ue=this.zoomX!==G||this.zoomY!==ie,le=se||ue,ee=0,X=0,W=!1;if(se){var Y=this._cacheCanvas.width,P=this._cacheCanvas.height,A=j>Y||F>P,M=(j<Y*.9||F<P*.9)&&Y>O&&P>O;W=A||M,A&&!k.capped&&(j>O||F>O)&&(ee=j*.1,X=F*.1)}return this instanceof s.Text&&this.path&&(le=!0,W=!0,ee+=this.getHeightOfLine(0)*this.zoomX,X+=this.getHeightOfLine(0)*this.zoomY),le?(W?(_.width=Math.ceil(j+ee),_.height=Math.ceil(F+X)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),z=k.x/2,U=k.y/2,this.cacheTranslationX=Math.round(_.width/2-z)+z,this.cacheTranslationY=Math.round(_.height/2-U)+U,this.cacheWidth=j,this.cacheHeight=F,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(G,ie),this.zoomX=G,this.zoomY=ie,!0):!1},setOptions:function(m){this._setOptions(m),this._initGradient(m.fill,"fill"),this._initGradient(m.stroke,"stroke"),this._initPattern(m.fill,"fill"),this._initPattern(m.stroke,"stroke")},transform:function(m){var x=this.group&&!this.group._transformDone||this.group&&this.canvas&&m===this.canvas.contextTop,S=this.calcTransformMatrix(!x);m.transform(S[0],S[1],S[2],S[3],S[4],S[5])},toObject:function(m){var x=s.Object.NUM_FRACTION_DIGITS,S={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:o(this.left,x),top:o(this.top,x),width:o(this.width,x),height:o(this.height,x),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,x),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,x),scaleX:o(this.scaleX,x),scaleY:o(this.scaleY,x),angle:o(this.angle,x),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,x),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,x),skewY:o(this.skewY,x)};return this.clipPath&&!this.clipPath.excludeFromExport&&(S.clipPath=this.clipPath.toObject(m),S.clipPath.inverted=this.clipPath.inverted,S.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,S,m),this.includeDefaultValues||(S=this._removeDefaultValues(S)),S},toDatalessObject:function(m){return this.toObject(m)},_removeDefaultValues:function(m){var x=s.util.getKlass(m.type).prototype,S=x.stateProperties;return S.forEach(function(_){_==="left"||_==="top"||(m[_]===x[_]&&delete m[_],Array.isArray(m[_])&&Array.isArray(x[_])&&m[_].length===0&&x[_].length===0&&delete m[_])}),m},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var m=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(m.scaleX),scaleY:Math.abs(m.scaleY)}},getTotalObjectScaling:function(){var m=this.getObjectScaling(),x=m.scaleX,S=m.scaleY;if(this.canvas){var _=this.canvas.getZoom(),k=this.canvas.getRetinaScaling();x*=_*k,S*=_*k}return{scaleX:x,scaleY:S}},getObjectOpacity:function(){var m=this.opacity;return this.group&&(m*=this.group.getObjectOpacity()),m},_set:function(m,x){var S=m==="scaleX"||m==="scaleY",_=this[m]!==x,k=!1;return S&&(x=this._constrainScale(x)),m==="scaleX"&&x<0?(this.flipX=!this.flipX,x*=-1):m==="scaleY"&&x<0?(this.flipY=!this.flipY,x*=-1):m==="shadow"&&x&&!(x instanceof s.Shadow)?x=new s.Shadow(x):m==="dirty"&&this.group&&this.group.set("dirty",x),this[m]=x,_&&(k=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(m)>-1?(this.dirty=!0,k&&this.group.set("dirty",!0)):k&&this.stateProperties.indexOf(m)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(m){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(m.save(),this._setupCompositeOperation(m),this.drawSelectionBackground(m),this.transform(m),this._setOpacity(m),this._setShadow(m,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(m)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(m),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),m.restore())},renderCache:function(m){m=m||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,m.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(m,x){if(m.save(),x.inverted?m.globalCompositeOperation="destination-out":m.globalCompositeOperation="destination-in",x.absolutePositioned){var S=s.util.invertTransform(this.calcTransformMatrix());m.transform(S[0],S[1],S[2],S[3],S[4],S[5])}x.transform(m),m.scale(1/x.zoomX,1/x.zoomY),m.drawImage(x._cacheCanvas,-x.cacheTranslationX,-x.cacheTranslationY),m.restore()},drawObject:function(m,x){var S=this.fill,_=this.stroke;x?(this.fill="black",this.stroke="",this._setClippingProperties(m)):this._renderBackground(m),this._render(m),this._drawClipPath(m,this.clipPath),this.fill=S,this.stroke=_},_drawClipPath:function(m,x){x&&(x.canvas=this.canvas,x.shouldCache(),x._transformDone=!0,x.renderCache({forClipping:!0}),this.drawClipPathOnCache(m,x))},drawCacheOnCanvas:function(m){m.scale(1/this.zoomX,1/this.zoomY),m.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(m){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!m&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!m){var x=this.cacheWidth/this.zoomX,S=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-x/2,-S/2,x,S)}return!0}return!1},_renderBackground:function(m){if(this.backgroundColor){var x=this._getNonTransformedDimensions();m.fillStyle=this.backgroundColor,m.fillRect(-x.x/2,-x.y/2,x.x,x.y),this._removeShadow(m)}},_setOpacity:function(m){this.group&&!this.group._transformDone?m.globalAlpha=this.getObjectOpacity():m.globalAlpha*=this.opacity},_setStrokeStyles:function(m,x){var S=x.stroke;S&&(m.lineWidth=x.strokeWidth,m.lineCap=x.strokeLineCap,m.lineDashOffset=x.strokeDashOffset,m.lineJoin=x.strokeLineJoin,m.miterLimit=x.strokeMiterLimit,S.toLive?S.gradientUnits==="percentage"||S.gradientTransform||S.patternTransform?this._applyPatternForTransformedGradient(m,S):(m.strokeStyle=S.toLive(m,this),this._applyPatternGradientTransform(m,S)):m.strokeStyle=x.stroke)},_setFillStyles:function(m,x){var S=x.fill;S&&(S.toLive?(m.fillStyle=S.toLive(m,this),this._applyPatternGradientTransform(m,x.fill)):m.fillStyle=S)},_setClippingProperties:function(m){m.globalAlpha=1,m.strokeStyle="transparent",m.fillStyle="#000000"},_setLineDash:function(m,x){!x||x.length===0||(1&x.length&&x.push.apply(x,x),m.setLineDash(x))},_renderControls:function(m,x){var S=this.getViewportTransform(),_=this.calcTransformMatrix(),k,O,j;x=x||{},O=typeof x.hasBorders<"u"?x.hasBorders:this.hasBorders,j=typeof x.hasControls<"u"?x.hasControls:this.hasControls,_=s.util.multiplyTransformMatrices(S,_),k=s.util.qrDecompose(_),m.save(),m.translate(k.translateX,k.translateY),m.lineWidth=1*this.borderScaleFactor,this.group||(m.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(k.angle-=180),m.rotate(f(this.group?k.angle:this.angle)),x.forActiveSelection||this.group?O&&this.drawBordersInGroup(m,k,x):O&&this.drawBorders(m,x),j&&this.drawControls(m,x),m.restore()},_setShadow:function(m){if(this.shadow){var x=this.shadow,S=this.canvas,_,k=S&&S.viewportTransform[0]||1,O=S&&S.viewportTransform[3]||1;x.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),S&&S._isRetinaScaling()&&(k*=s.devicePixelRatio,O*=s.devicePixelRatio),m.shadowColor=x.color,m.shadowBlur=x.blur*s.browserShadowBlurConstant*(k+O)*(_.scaleX+_.scaleY)/4,m.shadowOffsetX=x.offsetX*k*_.scaleX,m.shadowOffsetY=x.offsetY*O*_.scaleY}},_removeShadow:function(m){this.shadow&&(m.shadowColor="",m.shadowBlur=m.shadowOffsetX=m.shadowOffsetY=0)},_applyPatternGradientTransform:function(m,x){if(!x||!x.toLive)return{offsetX:0,offsetY:0};var S=x.gradientTransform||x.patternTransform,_=-this.width/2+x.offsetX||0,k=-this.height/2+x.offsetY||0;return x.gradientUnits==="percentage"?m.transform(this.width,0,0,this.height,_,k):m.transform(1,0,0,1,_,k),S&&m.transform(S[0],S[1],S[2],S[3],S[4],S[5]),{offsetX:_,offsetY:k}},_renderPaintInOrder:function(m){this.paintFirst==="stroke"?(this._renderStroke(m),this._renderFill(m)):(this._renderFill(m),this._renderStroke(m))},_render:function(){},_renderFill:function(m){this.fill&&(m.save(),this._setFillStyles(m,this),this.fillRule==="evenodd"?m.fill("evenodd"):m.fill(),m.restore())},_renderStroke:function(m){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(m),m.save(),this.strokeUniform&&this.group){var x=this.getObjectScaling();m.scale(1/x.scaleX,1/x.scaleY)}else this.strokeUniform&&m.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(m,this.strokeDashArray),this._setStrokeStyles(m,this),m.stroke(),m.restore()}},_applyPatternForTransformedGradient:function(m,x){var S=this._limitCacheSize(this._getCacheCanvasDimensions()),_=s.util.createCanvasElement(),k,O=this.canvas.getRetinaScaling(),j=S.x/this.scaleX/O,F=S.y/this.scaleY/O;_.width=j,_.height=F,k=_.getContext("2d"),k.beginPath(),k.moveTo(0,0),k.lineTo(j,0),k.lineTo(j,F),k.lineTo(0,F),k.closePath(),k.translate(j/2,F/2),k.scale(S.zoomX/this.scaleX/O,S.zoomY/this.scaleY/O),this._applyPatternGradientTransform(k,x),k.fillStyle=x.toLive(m),k.fill(),m.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),m.scale(O*this.scaleX/S.zoomX,O*this.scaleY/S.zoomY),m.strokeStyle=k.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var m=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",m.scaleX),this.set("scaleY",m.scaleY),this.angle=m.angle,this.skewX=m.skewX,this.skewY=0}},_removeTransformMatrix:function(m){var x=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),x=s.util.transformPoint(x,this.transformMatrix)),this.transformMatrix=null,m&&(this.scaleX*=m.scaleX,this.scaleY*=m.scaleY,this.cropX=m.cropX,this.cropY=m.cropY,x.x+=m.offsetLeft,x.y+=m.offsetTop,this.width=m.width,this.height=m.height),this.setPositionByOrigin(x,"center","center")},clone:function(m,x){var S=this.toObject(x);this.constructor.fromObject?this.constructor.fromObject(S,m):s.Object._fromObject("Object",S,m)},cloneAsImage:function(m,x){var S=this.toCanvasElement(x);return m&&m(new s.Image(S)),this},toCanvasElement:function(m){m||(m={});var x=s.util,S=x.saveObjectTransform(this),_=this.group,k=this.shadow,O=Math.abs,j=(m.multiplier||1)*(m.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,m.withoutTransform&&x.resetObjectTransform(this),m.withoutShadow&&(this.shadow=null);var F=s.util.createCanvasElement(),z=this.getBoundingRect(!0,!0),U=this.shadow,G,ie={x:0,y:0},se,ue,le;U&&(se=U.blur,U.nonScaling?G={scaleX:1,scaleY:1}:G=this.getObjectScaling(),ie.x=2*Math.round(O(U.offsetX)+se)*O(G.scaleX),ie.y=2*Math.round(O(U.offsetY)+se)*O(G.scaleY)),ue=z.width+ie.x,le=z.height+ie.y,F.width=Math.ceil(ue),F.height=Math.ceil(le);var ee=new s.StaticCanvas(F,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});m.format==="jpeg"&&(ee.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point(ee.width/2,ee.height/2),"center","center");var X=this.canvas;ee.add(this);var W=ee.toCanvasElement(j||1,m);return this.shadow=k,this.set("canvas",X),_&&(this.group=_),this.set(S).setCoords(),ee._objects=[],ee.dispose(),ee=null,W},toDataURL:function(m){return m||(m={}),s.util.toDataURL(this.toCanvasElement(m),m.format||"png",m.quality||1)},isType:function(m){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===m},complexity:function(){return 1},toJSON:function(m){return this.toObject(m)},rotate:function(m){var x=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return x&&this._setOriginToCenter(),this.set("angle",m),x&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(m,x){x=x||this.canvas.getPointer(m);var S=new s.Point(x.x,x.y),_=this._getLeftTopCoords();return this.angle&&(S=s.util.rotatePoint(S,_,f(-this.angle))),{x:S.x-_.x,y:S.y-_.y}},_setupCompositeOperation:function(m){this.globalCompositeOperation&&(m.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){s.runningAnimations&&s.runningAnimations.cancelByTarget(this)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),u(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object.ENLIVEN_PROPS=["clipPath"],s.Object._fromObject=function(m,x,S,_){var k=s[m];x=d(x,!0),s.util.enlivenPatterns([x.fill,x.stroke],function(O){typeof O[0]<"u"&&(x.fill=O[0]),typeof O[1]<"u"&&(x.stroke=O[1]),s.util.enlivenObjectEnlivables(x,x,function(){var j=_?new k(x[_],x):new k(x);S&&S(j)})})},s.Object.__uid=0)}(e),function(){var h=t.util.degreesToRadians,s={left:-.5,center:0,right:.5},u={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(d,o,c,f,g){var y=d.x,m=d.y,x,S,_;return typeof o=="string"?o=s[o]:o-=.5,typeof f=="string"?f=s[f]:f-=.5,x=f-o,typeof c=="string"?c=u[c]:c-=.5,typeof g=="string"?g=u[g]:g-=.5,S=g-c,(x||S)&&(_=this._getTransformedDimensions(),y=d.x+x*_.x,m=d.y+S*_.y),new t.Point(y,m)},translateToCenterPoint:function(d,o,c){var f=this.translateToGivenOrigin(d,o,c,"center","center");return this.angle?t.util.rotatePoint(f,d,h(this.angle)):f},translateToOriginPoint:function(d,o,c){var f=this.translateToGivenOrigin(d,"center","center",o,c);return this.angle?t.util.rotatePoint(f,d,h(this.angle)):f},getCenterPoint:function(){var d=new t.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,o){var c=this.getCenterPoint();return this.translateToOriginPoint(c,d,o)},toLocalPoint:function(d,o,c){var f=this.getCenterPoint(),g,y;return typeof o<"u"&&typeof c<"u"?g=this.translateToGivenOrigin(f,"center","center",o,c):g=new t.Point(this.left,this.top),y=new t.Point(d.x,d.y),this.angle&&(y=t.util.rotatePoint(y,f,-h(this.angle))),y.subtractEquals(g)},setPositionByOrigin:function(d,o,c){var f=this.translateToCenterPoint(d,o,c),g=this.translateToOriginPoint(f,this.originX,this.originY);this.set("left",g.x),this.set("top",g.y)},adjustPosition:function(d){var o=h(this.angle),c=this.getScaledWidth(),f=t.util.cos(o)*c,g=t.util.sin(o)*c,y,m;typeof this.originX=="string"?y=s[this.originX]:y=this.originX-.5,typeof d=="string"?m=s[d]:m=d-.5,this.left+=f*(m-y),this.top+=g*(m-y),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function h(c){return[new t.Point(c.tl.x,c.tl.y),new t.Point(c.tr.x,c.tr.y),new t.Point(c.br.x,c.br.y),new t.Point(c.bl.x,c.bl.y)]}var s=t.util,u=s.degreesToRadians,d=s.multiplyTransformMatrices,o=s.transformPoint;s.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(c,f){return f?c?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),c?this.aCoords:this.lineCoords)},getCoords:function(c,f){return h(this._getCoords(c,f))},intersectsWithRect:function(c,f,g,y){var m=this.getCoords(g,y),x=t.Intersection.intersectPolygonRectangle(m,c,f);return x.status==="Intersection"},intersectsWithObject:function(c,f,g){var y=t.Intersection.intersectPolygonPolygon(this.getCoords(f,g),c.getCoords(f,g));return y.status==="Intersection"||c.isContainedWithinObject(this,f,g)||this.isContainedWithinObject(c,f,g)},isContainedWithinObject:function(c,f,g){for(var y=this.getCoords(f,g),m=f?c.aCoords:c.lineCoords,x=0,S=c._getImageLines(m);x<4;x++)if(!c.containsPoint(y[x],S))return!1;return!0},isContainedWithinRect:function(c,f,g,y){var m=this.getBoundingRect(g,y);return m.left>=c.x&&m.left+m.width<=f.x&&m.top>=c.y&&m.top+m.height<=f.y},containsPoint:function(c,x,g,y){var m=this._getCoords(g,y),x=x||this._getImageLines(m),S=this._findCrossPoints(c,x);return S!==0&&S%2===1},isOnScreen:function(c){if(!this.canvas)return!1;var f=this.canvas.vptCoords.tl,g=this.canvas.vptCoords.br,y=this.getCoords(!0,c);return y.some(function(m){return m.x<=g.x&&m.x>=f.x&&m.y<=g.y&&m.y>=f.y})||this.intersectsWithRect(f,g,!0,c)?!0:this._containsCenterOfCanvas(f,g,c)},_containsCenterOfCanvas:function(c,f,g){var y={x:(c.x+f.x)/2,y:(c.y+f.y)/2};return!!this.containsPoint(y,null,!0,g)},isPartiallyOnScreen:function(c){if(!this.canvas)return!1;var f=this.canvas.vptCoords.tl,g=this.canvas.vptCoords.br;if(this.intersectsWithRect(f,g,!0,c))return!0;var y=this.getCoords(!0,c).every(function(m){return(m.x>=g.x||m.x<=f.x)&&(m.y>=g.y||m.y<=f.y)});return y&&this._containsCenterOfCanvas(f,g,c)},_getImageLines:function(c){var f={topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}};return f},_findCrossPoints:function(c,f){var g,y,m,x,S,_=0,k;for(var O in f)if(k=f[O],!(k.o.y<c.y&&k.d.y<c.y)&&!(k.o.y>=c.y&&k.d.y>=c.y)&&(k.o.x===k.d.x&&k.o.x>=c.x?S=k.o.x:(g=0,y=(k.d.y-k.o.y)/(k.d.x-k.o.x),m=c.y-g*c.x,x=k.o.y-y*k.o.x,S=-(m-x)/(g-y)),S>=c.x&&(_+=1),_===2))break;return _},getBoundingRect:function(c,f){var g=this.getCoords(c,f);return s.makeBoundingBoxFromPoints(g)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?c<0?-this.minScaleLimit:this.minScaleLimit:c===0?1e-4:c},scale:function(c){return this._set("scaleX",c),this._set("scaleY",c),this.setCoords()},scaleToWidth:function(c,f){var g=this.getBoundingRect(f).width/this.getScaledWidth();return this.scale(c/this.width/g)},scaleToHeight:function(c,f){var g=this.getBoundingRect(f).height/this.getScaledHeight();return this.scale(c/this.height/g)},calcLineCoords:function(){var c=this.getViewportTransform(),f=this.padding,g=u(this.angle),y=s.cos(g),m=s.sin(g),x=y*f,S=m*f,_=x+S,k=x-S,O=this.calcACoords(),j={tl:o(O.tl,c),tr:o(O.tr,c),bl:o(O.bl,c),br:o(O.br,c)};return f&&(j.tl.x-=k,j.tl.y-=_,j.tr.x+=_,j.tr.y-=k,j.bl.x-=_,j.bl.y+=k,j.br.x+=k,j.br.y+=_),j},calcOCoords:function(){var c=this._calcRotateMatrix(),f=this._calcTranslateMatrix(),g=this.getViewportTransform(),y=d(g,f),m=d(y,c),m=d(m,[1/g[0],0,0,1/g[3],0,0]),x=this._calculateCurrentDimensions(),S={};return this.forEachControl(function(_,k,O){S[k]=_.positionHandler(x,m,O)}),S},calcACoords:function(){var c=this._calcRotateMatrix(),f=this._calcTranslateMatrix(),g=d(f,c),y=this._getTransformedDimensions(),m=y.x/2,x=y.y/2;return{tl:o({x:-m,y:-x},g),tr:o({x:m,y:-x},g),bl:o({x:-m,y:x},g),br:o({x:m,y:x},g)}},setCoords:function(c){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),c?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var c=this.getCenterPoint();return[1,0,0,1,c.x,c.y]},transformMatrixKey:function(c){var f="_",g="";return!c&&this.group&&(g=this.group.transformMatrixKey(c)+f),g+this.top+f+this.left+f+this.scaleX+f+this.scaleY+f+this.skewX+f+this.skewY+f+this.angle+f+this.originX+f+this.originY+f+this.width+f+this.height+f+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(c){var f=this.calcOwnMatrix();if(c||!this.group)return f;var g=this.transformMatrixKey(c),y=this.matrixCache||(this.matrixCache={});return y.key===g?y.value:(this.group&&(f=d(this.group.calcTransformMatrix(!1),f)),y.key=g,y.value=f,f)},calcOwnMatrix:function(){var c=this.transformMatrixKey(!0),f=this.ownMatrixCache||(this.ownMatrixCache={});if(f.key===c)return f.value;var g=this._calcTranslateMatrix(),y={angle:this.angle,translateX:g[4],translateY:g[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return f.key=c,f.value=s.composeMatrix(y),f.value},_getNonTransformedDimensions:function(){var c=this.strokeWidth,f=this.width+c,g=this.height+c;return{x:f,y:g}},_getTransformedDimensions:function(c,f){typeof c>"u"&&(c=this.skewX),typeof f>"u"&&(f=this.skewY);var g,y,m,x=c===0&&f===0;if(this.strokeUniform?(y=this.width,m=this.height):(g=this._getNonTransformedDimensions(),y=g.x,m=g.y),x)return this._finalizeDimensions(y*this.scaleX,m*this.scaleY);var S=s.sizeAfterTransform(y,m,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:c,skewY:f});return this._finalizeDimensions(S.x,S.y)},_finalizeDimensions:function(c,f){return this.strokeUniform?{x:c+this.strokeWidth,y:f+this.strokeWidth}:{x:c,y:f}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),f=this._getTransformedDimensions(),g=o(f,c,!0);return g.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(h){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,h):this.canvas&&this.canvas.sendBackwards(this,h),this},bringForward:function(h){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,h):this.canvas&&this.canvas.bringForward(this,h),this},moveTo:function(h){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,h):this.canvas&&this.canvas.moveTo(this,h),this}}),function(){function h(u,d){if(d){if(d.toLive)return u+": url(#SVGID_"+d.id+"); ";var o=new t.Color(d),c=u+": "+o.toRgb()+"; ",f=o.getAlpha();return f!==1&&(c+=u+"-opacity: "+f.toString()+"; "),c}else return u+": none; "}var s=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(u){var d=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",f=this.strokeDashOffset?this.strokeDashOffset:"0",g=this.strokeLineCap?this.strokeLineCap:"butt",y=this.strokeLineJoin?this.strokeLineJoin:"miter",m=this.strokeMiterLimit?this.strokeMiterLimit:"4",x=typeof this.opacity<"u"?this.opacity:"1",S=this.visible?"":" visibility: hidden;",_=u?"":this.getSvgFilter(),k=h("fill",this.fill),O=h("stroke",this.stroke);return[O,"stroke-width: ",o,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",g,"; ","stroke-dashoffset: ",f,"; ","stroke-linejoin: ",y,"; ","stroke-miterlimit: ",m,"; ",k,"fill-rule: ",d,"; ","opacity: ",x,";",_,S].join("")},getSvgSpanStyles:function(u,d){var o="; ",f=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+o:"",c=u.strokeWidth?"stroke-width: "+u.strokeWidth+o:"",f=f,g=u.fontSize?"font-size: "+u.fontSize+"px"+o:"",y=u.fontStyle?"font-style: "+u.fontStyle+o:"",m=u.fontWeight?"font-weight: "+u.fontWeight+o:"",x=u.fill?h("fill",u.fill):"",S=u.stroke?h("stroke",u.stroke):"",_=this.getSvgTextDecoration(u),k=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return _&&(_="text-decoration: "+_+o),[S,c,f,g,y,m,_,x,k,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(d){return u[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,d){var o=u?this.calcTransformMatrix():this.calcOwnMatrix(),c='transform="'+t.util.matrixToSVG(o);return c+(d||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var d=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,d),'" y="',s(-this.height/2,d),'" width="',s(this.width,d),'" height="',s(this.height,d),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,d){d=d||{};var o=d.reviver,c=d.additionalTransform||"",f=[this.getSvgTransform(!0,c),this.getSvgCommons()].join(""),g=u.indexOf("COMMON_PARTS");return u[g]=f,o?o(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,d){d=d||{};var o=d.noStyle,c=d.reviver,f=o?"":'style="'+this.getSvgStyles()+'" ',g=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",y=this.clipPath,m=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",x=y&&y.absolutePositioned,S=this.stroke,_=this.fill,k=this.shadow,O,j=[],F,z=u.indexOf("COMMON_PARTS"),U=d.additionalTransform;return y&&(y.clipPathId="CLIPPATH_"+t.Object.__uid++,F='<clipPath id="'+y.clipPathId+`" >
`+y.toClipPathSVG(c)+`</clipPath>
`),x&&j.push("<g ",g,this.getSvgCommons(),` >
`),j.push("<g ",this.getSvgTransform(!1),x?"":g+this.getSvgCommons(),` >
`),O=[f,m,o?"":this.addPaintOrder()," ",U?'transform="'+U+'" ':""].join(""),u[z]=O,_&&_.toLive&&j.push(_.toSVG(this)),S&&S.toLive&&j.push(S.toSVG(this)),k&&j.push(k.toSVG(this)),y&&j.push(F),j.push(u.join("")),j.push(`</g>
`),x&&j.push(`</g>
`),c?c(j.join("")):j.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var h=t.util.object.extend,s="stateProperties";function u(o,c,f){var g={},y=!0;f.forEach(function(m){g[m]=o[m]}),h(o[c],g,y)}function d(o,c,f){if(o===c)return!0;if(Array.isArray(o)){if(!Array.isArray(c)||o.length!==c.length)return!1;for(var g=0,y=o.length;g<y;g++)if(!d(o[g],c[g]))return!1;return!0}else if(o&&typeof o=="object"){var m=Object.keys(o),x;if(!c||typeof c!="object"||!f&&m.length!==Object.keys(c).length)return!1;for(var g=0,y=m.length;g<y;g++)if(x=m[g],!(x==="canvas"||x==="group")&&!d(o[x],c[x]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||s;var c="_"+o;return Object.keys(this[c]).length<this[o].length?!0:!d(this[c],this,!0)},saveState:function(o){var c=o&&o.propertySet||s,f="_"+c;return this[f]?(u(this,f,this[c]),o&&o.stateProperties&&u(this,f,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var c=o.propertySet||s;return o.propertySet=c,this["_"+c]={},this.saveState(o),this}})}(),function(){var h=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(s,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=s.x,o=s.y,c,f,g=Object.keys(this.oCoords),y=g.length-1,m;for(this.__corner=0;y>=0;y--)if(m=g[y],!!this.isControlVisible(m)&&(f=this._getImageLines(u?this.oCoords[m].touchCorner:this.oCoords[m].corner),c=this._findCrossPoints({x:d,y:o},f),c!==0&&c%2===1))return this.__corner=m,m;return!1},forEachControl:function(s){for(var u in this.controls)s(this.controls[u],u,this)},_setCornerCoords:function(){var s=this.oCoords;for(var u in s){var d=this.controls[u];s[u].corner=d.calcCornerCoords(this.angle,this.cornerSize,s[u].x,s[u].y,!1),s[u].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,s[u].x,s[u].y,!0)}},drawSelectionBackground:function(s){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;s.save();var u=this.getCenterPoint(),d=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return s.translate(u.x,u.y),s.scale(1/o[0],1/o[3]),s.rotate(h(this.angle)),s.fillStyle=this.selectionBackgroundColor,s.fillRect(-d.x/2,-d.y/2,d.x,d.y),s.restore(),this},drawBorders:function(s,u){u=u||{};var d=this._calculateCurrentDimensions(),o=this.borderScaleFactor,c=d.x+o,f=d.y+o,g=typeof u.hasControls<"u"?u.hasControls:this.hasControls,y=!1;return s.save(),s.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(s,u.borderDashArray||this.borderDashArray),s.strokeRect(-c/2,-f/2,c,f),g&&(s.beginPath(),this.forEachControl(function(m,x,S){m.withConnection&&m.getVisibility(S,x)&&(y=!0,s.moveTo(m.x*c,m.y*f),s.lineTo(m.x*c+m.offsetX,m.y*f+m.offsetY))}),y&&s.stroke()),s.restore(),this},drawBordersInGroup:function(s,u,d){d=d||{};var o=t.util.sizeAfterTransform(this.width,this.height,u),c=this.strokeWidth,f=this.strokeUniform,g=this.borderScaleFactor,y=o.x+c*(f?this.canvas.getZoom():u.scaleX)+g,m=o.y+c*(f?this.canvas.getZoom():u.scaleY)+g;return s.save(),this._setLineDash(s,d.borderDashArray||this.borderDashArray),s.strokeStyle=d.borderColor||this.borderColor,s.strokeRect(-y/2,-m/2,y,m),s.restore(),this},drawControls:function(s,u){u=u||{},s.save();var d=this.canvas.getRetinaScaling(),o,c;return s.setTransform(d,0,0,d,0,0),s.strokeStyle=s.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(s.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(s,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(f,g,y){c=y.oCoords[g],f.getVisibility(y,g)&&(o&&(c=t.util.transformPoint(c,o)),f.render(s,c.x,c.y,u,y))}),s.restore(),this},isControlVisible:function(s){return this.controls[s]&&this.controls[s].getVisibility(this,s)},setControlVisible:function(s,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[s]=u,this},setControlsVisibility:function(s){s||(s={});for(var u in s)this.setControlVisible(u,s[u]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(h,s){s=s||{};var u=function(){},d=s.onComplete||u,o=s.onChange||u,c=this;return t.util.animate({target:this,startValue:h.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(f){h.set("left",f),c.requestRenderAll(),o()},onComplete:function(){h.setCoords(),d()}})},fxCenterObjectV:function(h,s){s=s||{};var u=function(){},d=s.onComplete||u,o=s.onChange||u,c=this;return t.util.animate({target:this,startValue:h.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(f){h.set("top",f),c.requestRenderAll(),o()},onComplete:function(){h.setCoords(),d()}})},fxRemove:function(h,s){s=s||{};var u=function(){},d=s.onComplete||u,o=s.onChange||u,c=this;return t.util.animate({target:this,startValue:h.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(f){h.set("opacity",f),c.requestRenderAll(),o()},onComplete:function(){c.remove(h),d()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var h=[],s,u,d=[];for(s in arguments[0])h.push(s);for(var o=0,c=h.length;o<c;o++)s=h[o],u=o!==c-1,d.push(this._animate(s,arguments[0][s],arguments[1],u));return d}else return this._animate.apply(this,arguments)},_animate:function(h,s,u,d){var o=this,c;s=s.toString(),u?u=t.util.object.clone(u):u={},~h.indexOf(".")&&(c=h.split("."));var f=o.colorProperties.indexOf(h)>-1||c&&o.colorProperties.indexOf(c[1])>-1,g=c?this.get(c[0])[c[1]]:this.get(h);"from"in u||(u.from=g),f||(~s.indexOf("=")?s=g+parseFloat(s.replace("=","")):s=parseFloat(s));var y={target:this,startValue:u.from,endValue:s,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(m,x,S){return u.abort.call(o,m,x,S)},onChange:function(m,x,S){c?o[c[0]][c[1]]=m:o.set(h,m),!d&&u.onChange&&u.onChange(m,x,S)},onComplete:function(m,x,S){d||(o.setCoords(),u.onComplete&&u.onComplete(m,x,S))}};return f?t.util.animateColor(y.startValue,y.endValue,y.duration,y):t.util.animate(y)}}),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.extend,d=s.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(f,g){f||(f=[0,0,0,0]),this.callSuper("initialize",g),this.set("x1",f[0]),this.set("y1",f[1]),this.set("x2",f[2]),this.set("y2",f[3]),this._setWidthHeight(g)},_setWidthHeight:function(f){f||(f={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in f?f.left:this._getLeftToOriginX(),this.top="top"in f?f.top:this._getTopToOriginY()},_set:function(f,g){return this.callSuper("_set",f,g),typeof o[f]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(f){f.beginPath();var g=this.calcLinePoints();f.moveTo(g.x1,g.y1),f.lineTo(g.x2,g.y2),f.lineWidth=this.strokeWidth;var y=f.strokeStyle;f.strokeStyle=this.stroke||f.fillStyle,this.stroke&&this._renderStroke(f),f.strokeStyle=y},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(f){return u(this.callSuper("toObject",f),this.calcLinePoints())},_getNonTransformedDimensions:function(){var f=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(f.y-=this.strokeWidth),this.height===0&&(f.x-=this.strokeWidth)),f},calcLinePoints:function(){var f=this.x1<=this.x2?-1:1,g=this.y1<=this.y2?-1:1,y=f*this.width*.5,m=g*this.height*.5,x=f*this.width*-.5,S=g*this.height*-.5;return{x1:y,x2:x,y1:m,y2:S}},_toSVG:function(){var f=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',f.x1,'" y1="',f.y1,'" x2="',f.x2,'" y2="',f.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(f,g,y){y=y||{};var m=s.parseAttributes(f,s.Line.ATTRIBUTE_NAMES),x=[m.x1||0,m.y1||0,m.x2||0,m.y2||0];g(new s.Line(x,u(m,y)))},s.Line.fromObject=function(f,g){function y(x){delete x.points,g&&g(x)}var m=d(f,!0);m.points=[f.x1,f.y1,f.x2,f.y2],s.Object._fromObject("Line",m,y,"points")};function c(f,g){var y=f.origin,m=f.axis1,x=f.axis2,S=f.dimension,_=g.nearest,k=g.center,O=g.farthest;return function(){switch(this.get(y)){case _:return Math.min(this.get(m),this.get(x));case k:return Math.min(this.get(m),this.get(x))+.5*this.get(S);case O:return Math.max(this.get(m),this.get(x))}}}}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.degreesToRadians;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,c){return this.callSuper("_set",o,c),o==="radius"&&this.setRadius(c),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,c=0,f=0,g=(this.endAngle-this.startAngle)%360;if(g===0)o=["<circle ","COMMON_PARTS",'cx="'+c+'" cy="'+f+'" ','r="',this.radius,`" />
`];else{var y=u(this.startAngle),m=u(this.endAngle),x=this.radius,S=s.util.cos(y)*x,_=s.util.sin(y)*x,k=s.util.cos(m)*x,O=s.util.sin(m)*x,j=g>180?"1":"0";o=['<path d="M '+S+" "+_," A "+x+" "+x," 0 ",+j+" 1"," "+k+" "+O,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,u(this.startAngle),u(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(o,c){var f=s.parseAttributes(o,s.Circle.ATTRIBUTE_NAMES);if(!d(f))throw new Error("value of `r` attribute is required and can not be negative");f.left=(f.left||0)-f.radius,f.top=(f.top||0)-f.radius,c(new s.Circle(f))};function d(o){return"radius"in o&&o.radius>=0}s.Circle.fromObject=function(o,c){s.Object._fromObject("Circle",o,c)}}(e),function(h){var s=h.fabric||(h.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(u){var d=this.width/2,o=this.height/2;u.beginPath(),u.moveTo(-d,o),u.lineTo(0,-o),u.lineTo(d,o),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,d=this.height/2,o=[-u+" "+d,"0 "+-d,u+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),s.Triangle.fromObject=function(u,d){return s.Object._fromObject("Triangle",u,d)}}(e),function(h){var s=h.fabric||(h.fabric={}),u=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,o){switch(this.callSuper("_set",d,o),d){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,u,!1),d.restore(),this._renderPaintInOrder(d)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(d,o){var c=s.parseAttributes(d,s.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,o(new s.Ellipse(c))},s.Ellipse.fromObject=function(d,o){s.Object._fromObject("Ellipse",d,o)}}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var o=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,f=this.width,g=this.height,y=-this.width/2,m=-this.height/2,x=o!==0||c!==0,S=1-.5522847498;d.beginPath(),d.moveTo(y+o,m),d.lineTo(y+f-o,m),x&&d.bezierCurveTo(y+f-S*o,m,y+f,m+S*c,y+f,m+c),d.lineTo(y+f,m+g-c),x&&d.bezierCurveTo(y+f,m+g-S*c,y+f-S*o,m+g,y+f-o,m+g),d.lineTo(y+o,m+g),x&&d.bezierCurveTo(y+S*o,m+g,y,m+g-S*c,y,m+g-c),d.lineTo(y,m+c),x&&d.bezierCurveTo(y,m+S*c,y+S*o,m,y+o,m),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(d,o,c){if(!d)return o(null);c=c||{};var f=s.parseAttributes(d,s.Rect.ATTRIBUTE_NAMES);f.left=f.left||0,f.top=f.top||0,f.height=f.height||0,f.width=f.width||0;var g=new s.Rect(u(c?s.util.object.clone(c):{},f));g.visible=g.visible&&g.width>0&&g.height>0,o(g)},s.Rect.fromObject=function(d,o){return s.Object._fromObject("Rect",d,o)}}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.extend,d=s.util.array.min,o=s.util.array.max,c=s.util.toFixed,f=s.util.projectStrokeOnPoints;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(g,y){y=y||{},this.points=g||[],this.callSuper("initialize",y),this._setPositionDimensions(y)},_projectStrokeOnPoints:function(){return f(this.points,this,!0)},_setPositionDimensions:function(g){var y=this._calcDimensions(g),m,x=this.exactBoundingBox?this.strokeWidth:0;this.width=y.width-x,this.height=y.height-x,g.fromSVG||(m=this.translateToGivenOrigin({x:y.left-this.strokeWidth/2+x/2,y:y.top-this.strokeWidth/2+x/2},"left","top",this.originX,this.originY)),typeof g.left>"u"&&(this.left=g.fromSVG?y.left:m.x),typeof g.top>"u"&&(this.top=g.fromSVG?y.top:m.y),this.pathOffset={x:y.left+this.width/2+x/2,y:y.top+this.height/2+x/2}},_calcDimensions:function(){var g=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,y=d(g,"x")||0,m=d(g,"y")||0,x=o(g,"x")||0,S=o(g,"y")||0,_=x-y,k=S-m;return{left:y,top:m,width:_,height:k}},toObject:function(g){return u(this.callSuper("toObject",g),{points:this.points.concat()})},_toSVG:function(){for(var g=[],y=this.pathOffset.x,m=this.pathOffset.y,x=s.Object.NUM_FRACTION_DIGITS,S=0,_=this.points.length;S<_;S++)g.push(c(this.points[S].x-y,x),",",c(this.points[S].y-m,x)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',g.join(""),`" />
`]},commonRender:function(g){var y,m=this.points.length,x=this.pathOffset.x,S=this.pathOffset.y;if(!m||isNaN(this.points[m-1].y))return!1;g.beginPath(),g.moveTo(this.points[0].x-x,this.points[0].y-S);for(var _=0;_<m;_++)y=this.points[_],g.lineTo(y.x-x,y.y-S);return!0},_render:function(g){this.commonRender(g)&&this._renderPaintInOrder(g)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(g){return function(y,m,x){if(!y)return m(null);x||(x={});var S=s.parsePointsAttribute(y.getAttribute("points")),_=s.parseAttributes(y,s[g].ATTRIBUTE_NAMES);_.fromSVG=!0,m(new s[g](S,u(_,x)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(g,y){return s.Object._fromObject("Polyline",g,y,"points")}}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.projectStrokeOnPoints;if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return u(this.points,this)},_render:function(d){this.commonRender(d)&&(d.closePath(),this._renderPaintInOrder(d))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(d,o){s.Object._fromObject("Polygon",d,o,"points")}}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.array.min,d=s.util.array.max,o=s.util.object.extend,c=s.util.object.clone,f=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(g,y){y=c(y||{}),delete y.path,this.callSuper("initialize",y),this._setPath(g||[],y)},_setPath:function(g,y){this.path=s.util.makePathSimpler(Array.isArray(g)?g:s.util.parsePath(g)),s.Polyline.prototype._setPositionDimensions.call(this,y||{})},_renderPathCommands:function(g){var y,m=0,x=0,S=0,_=0,k=0,O=0,j=-this.pathOffset.x,F=-this.pathOffset.y;g.beginPath();for(var z=0,U=this.path.length;z<U;++z)switch(y=this.path[z],y[0]){case"L":S=y[1],_=y[2],g.lineTo(S+j,_+F);break;case"M":S=y[1],_=y[2],m=S,x=_,g.moveTo(S+j,_+F);break;case"C":S=y[5],_=y[6],k=y[3],O=y[4],g.bezierCurveTo(y[1]+j,y[2]+F,k+j,O+F,S+j,_+F);break;case"Q":g.quadraticCurveTo(y[1]+j,y[2]+F,y[3]+j,y[4]+F),S=y[3],_=y[4],k=y[1],O=y[2];break;case"z":case"Z":S=m,_=x,g.closePath();break}},_render:function(g){this._renderPathCommands(g),this._renderPaintInOrder(g)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(g){return o(this.callSuper("toObject",g),{path:this.path.map(function(y){return y.slice()})})},toDatalessObject:function(g){var y=this.toObject(["sourcePath"].concat(g));return y.sourcePath&&delete y.path,y},_toSVG:function(){var g=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',g,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var g=s.Object.NUM_FRACTION_DIGITS;return" translate("+f(-this.pathOffset.x,g)+", "+f(-this.pathOffset.y,g)+")"},toClipPathSVG:function(g){var y=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:g,additionalTransform:y})},toSVG:function(g){var y=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:g,additionalTransform:y})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var g=[],y=[],m,x=0,S=0,_=0,k=0,O,j=0,F=this.path.length;j<F;++j){switch(m=this.path[j],m[0]){case"L":_=m[1],k=m[2],O=[];break;case"M":_=m[1],k=m[2],x=_,S=k,O=[];break;case"C":O=s.util.getBoundsOfCurve(_,k,m[1],m[2],m[3],m[4],m[5],m[6]),_=m[5],k=m[6];break;case"Q":O=s.util.getBoundsOfCurve(_,k,m[1],m[2],m[1],m[2],m[3],m[4]),_=m[3],k=m[4];break;case"z":case"Z":_=x,k=S;break}O.forEach(function(le){g.push(le.x),y.push(le.y)}),g.push(_),y.push(k)}var z=u(g)||0,U=u(y)||0,G=d(g)||0,ie=d(y)||0,se=G-z,ue=ie-U;return{left:z,top:U,width:se,height:ue}}}),s.Path.fromObject=function(g,y){if(typeof g.sourcePath=="string"){var m=g.sourcePath;s.loadSVGFromURL(m,function(x){var S=x[0];S.setOptions(g),g.clipPath?s.util.enlivenObjects([g.clipPath],function(_){S.clipPath=_[0],y&&y(S)}):y&&y(S)})}else s.Object._fromObject("Path",g,y,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(g,y,m){var x=s.parseAttributes(g,s.Path.ATTRIBUTE_NAMES);x.fromSVG=!0,y(new s.Path(x.d,o(x,m)))}}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.array.min,d=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,c,f){c=c||{},this._objects=[],f&&this.callSuper("initialize",c),this._objects=o||[];for(var g=this._objects.length;g--;)this._objects[g].group=this;if(f)this._updateObjectsACoords();else{var y=c&&c.centerPoint;c.originX!==void 0&&(this.originX=c.originX),c.originY!==void 0&&(this.originY=c.originY),y||this._calcBounds(),this._updateObjectsCoords(y),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,c=this._objects.length;c--;)this._objects[c].setCoords(o)},_updateObjectsCoords:function(c){for(var c=c||this.getCenterPoint(),f=this._objects.length;f--;)this._updateObjectCoords(this._objects[f],c)},_updateObjectCoords:function(o,c){var f=o.left,g=o.top,y=!0;o.set({left:f-c.x,top:g-c.y}),o.group=this,o.setCoords(y)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var c=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),o&&(c&&s.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,c?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,c){var f=this._objects.length;if(this.useSetOnGroup)for(;f--;)this._objects[f].setOnGroup(o,c);if(o==="canvas")for(;f--;)this._objects[f]._set(o,c);s.Object.prototype._set.call(this,o,c)},toObject:function(o){var c=this.includeDefaultValues,f=this._objects.filter(function(y){return!y.excludeFromExport}).map(function(y){var m=y.includeDefaultValues;y.includeDefaultValues=c;var x=y.toObject(o);return y.includeDefaultValues=m,x}),g=s.Object.prototype.toObject.call(this,o);return g.objects=f,g},toDatalessObject:function(o){var c,f=this.sourcePath;if(f)c=f;else{var g=this.includeDefaultValues;c=this._objects.map(function(m){var x=m.includeDefaultValues;m.includeDefaultValues=g;var S=m.toDatalessObject(o);return m.includeDefaultValues=x,S})}var y=s.Object.prototype.toDatalessObject.call(this,o);return y.objects=c,y},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=s.Object.prototype.shouldCache.call(this);if(o){for(var c=0,f=this._objects.length;c<f;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,c=this._objects.length;o<c;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var c=0,f=this._objects.length;c<f;c++)this._objects[c].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var c=0,f=this._objects.length;c<f;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var g=this.cacheWidth/this.zoomX,y=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-y/2,g,y)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(c){s.util.addTransformToObject(c,o),delete c.group,c.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,c=this.canvas;this._objects=[];var f=this.toObject();delete f.objects;var g=new s.ActiveSelection([]);return g.set(f),g.type="activeSelection",c.remove(this),o.forEach(function(y){y.group=g,y.dirty=!0,c.add(y)}),g.canvas=c,g._objects=o,c._activeObject=g,g.setCoords(),g}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(c){c.setCoords(o)}),this},_calcBounds:function(o){for(var c=[],f=[],g,y,m,x=["tr","br","bl","tl"],S=0,_=this._objects.length,k,O=x.length;S<_;++S){for(g=this._objects[S],m=g.calcACoords(),k=0;k<O;k++)y=x[k],c.push(m[y].x),f.push(m[y].y);g.aCoords=m}this._getBounds(c,f,o)},_getBounds:function(o,c,f){var g=new s.Point(u(o),u(c)),y=new s.Point(d(o),d(c)),m=g.y||0,x=g.x||0,S=y.x-g.x||0,_=y.y-g.y||0;this.width=S,this.height=_,f||this.setPositionByOrigin({x,y:m},"left","top")},_toSVG:function(o){for(var c=["<g ","COMMON_PARTS",` >
`],f=0,g=this._objects.length;f<g;f++)c.push("		",this._objects[f].toSVG(o));return c.push(`</g>
`),c},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",c=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),c].join("")},toClipPathSVG:function(o){for(var c=[],f=0,g=this._objects.length;f<g;f++)c.push("	",this._objects[f].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(c,{reviver:o})}}),s.Group.fromObject=function(o,c){var f=o.objects,g=s.util.object.clone(o,!0);if(delete g.objects,typeof f=="string"){s.loadSVGFromURL(f,function(y){var m=s.util.groupSVGElements(y,o,f),x=g.clipPath;delete g.clipPath,m.set(g),x?s.util.enlivenObjects([x],function(S){m.clipPath=S[0],c&&c(m)}):c&&c(m)});return}s.util.enlivenObjects(f,function(y){s.util.enlivenObjectEnlivables(o,g,function(){c&&c(new s.Group(y,g,!0))})})})}(e),function(h){var s=h.fabric||(h.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(u,d){d=d||{},this._objects=u||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var d=s.Object.prototype.toObject.call(this),o=new s.Group([]);if(delete d.type,o.set(d),u.forEach(function(f){f.canvas.remove(f),f.group=o}),o._objects=u,!this.canvas)return o;var c=this.canvas;return c.add(o),c._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,d,o){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",u,d),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var c=0,f=this._objects.length;c<f;c++)this._objects[c]._renderControls(u,o);u.restore()}}),s.ActiveSelection.fromObject=function(u,d){s.util.enlivenObjects(u.objects,function(o){delete u.objects,d&&d(new s.ActiveSelection(o,u,!0))})})}(e),function(h){var s=t.util.object.extend;if(h.fabric||(h.fabric={}),h.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,d){d||(d={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",d),this._initElement(u,d)},getElement:function(){return this._element||{}},setElement:function(u,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var d=t.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(u)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,o=this.height/2;u.beginPath(),u.moveTo(-d,-o),u.lineTo(d,-o),u.lineTo(d,o),u.lineTo(-d,o),u.lineTo(-d,-o),u.closePath()}},toObject:function(u){var d=[];this.filters.forEach(function(c){c&&d.push(c.toObject())});var o=s(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],d=[],o,c=this._element,f=-this.width/2,g=-this.height/2,y="",m="";if(!c)return[];if(this.hasCrop()){var x=t.Object.__uid++;u.push('<clipPath id="imageCrop_'+x+`">
`,'	<rect x="'+f+'" y="'+g+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),y=' clip-path="url(#imageCrop_'+x+')" '}if(this.imageSmoothing||(m='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',f-this.cropX,'" y="',g-this.cropY,'" width="',c.width||c.naturalWidth,'" height="',c.height||c.height,m,'"',y,`></image>
`),this.stroke||this.strokeDashArray){var S=this.fill;this.fill=null,o=["	<rect ",'x="',f,'" y="',g,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=S}return this.paintFirst!=="fill"?u=u.concat(o,d):u=u.concat(d,o),u},getSrc:function(u){var d=u?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(u,d,o){return t.util.loadImage(u,function(c,f){this.setElement(c,o),this._setWidthHeight(),d&&d(this,f)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,d=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),c=o.scaleX,f=o.scaleY,g=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||c>d&&f>d){this._element=g,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,this._lastScaleY=f;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var y=t.util.createCanvasElement(),m=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,x=g.width,S=g.height;y.width=x,y.height=S,this._element=y,this._lastScaleX=u.scaleX=c,this._lastScaleY=u.scaleY=f,t.filterBackend.applyFilters([u],g,x,S,this._element,m),this._filterScalingX=y.width/this._originalElement.width,this._filterScalingY=y.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(g){return g&&!g.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,o=d.naturalWidth||d.width,c=d.naturalHeight||d.height;if(this._element===this._originalElement){var f=t.util.createCanvasElement();f.width=o,f.height=c,this._element=f,this._filteredEl=f}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,c),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(u,this._originalElement,o,c,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var d=this._element;if(d){var o=this._filterScalingX,c=this._filterScalingY,f=this.width,g=this.height,y=Math.min,m=Math.max,x=m(this.cropX,0),S=m(this.cropY,0),_=d.naturalWidth||d.width,k=d.naturalHeight||d.height,O=x*o,j=S*c,F=y(f*o,_-O),z=y(g*c,k-j),U=-f/2,G=-g/2,ie=y(f,_/o-x),se=y(g,k/c-S);d&&u.drawImage(d,O,j,F,z,U,G,ie,se)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,d){this.setElement(t.util.getById(u),d),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,d){u&&u.length?t.util.enlivenObjects(u,function(o){d&&d(o)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(u){u||(u={});var d=this.getElement();this.width=u.width||d.naturalWidth||d.width||0,this.height=u.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var u=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,o=this._element.height,c=1,f=1,g=0,y=0,m=0,x=0,S,_=this.width,k=this.height,O={width:_,height:k};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(c=f=t.util.findScaleToFit(this._element,O),S=(_-d*c)/2,u.alignX==="Min"&&(g=-S),u.alignX==="Max"&&(g=S),S=(k-o*f)/2,u.alignY==="Min"&&(y=-S),u.alignY==="Max"&&(y=S)),u.meetOrSlice==="slice"&&(c=f=t.util.findScaleToCover(this._element,O),S=d-_/c,u.alignX==="Mid"&&(m=S/2),u.alignX==="Max"&&(m=S),S=o-k/f,u.alignY==="Mid"&&(x=S/2),u.alignY==="Max"&&(x=S),d=_/c,o=k/f)):(c=_/d,f=k/o),{width:d,height:o,scaleX:c,scaleY:f,offsetLeft:g,offsetTop:y,cropX:m,cropY:x}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(u,d){var o=t.util.object.clone(u);t.util.loadImage(o.src,function(c,f){if(f){d&&d(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(g){o.filters=g||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(y){o.resizeFilter=y[0],t.util.enlivenObjectEnlivables(o,o,function(){var m=new t.Image(c,o);d(m,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(u,d,o){t.util.loadImage(u,function(c,f){d&&d(new t.Image(c,o),f)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(u,d,o){var c=t.parseAttributes(u,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(c["xlink:href"],d,s(o?t.util.object.clone(o):{},c))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var h=this.angle%360;return h>0?Math.round((h-1)/90)*90:Math.round(h/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(h){h=h||{};var s=function(){},u=h.onComplete||s,d=h.onChange||s,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){o.rotate(c),d()},onComplete:function(){o.setCoords(),u()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(h){return h.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(h){return h.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function h(u,d){var o="precision "+d+` float;
void main(){}`,c=u.createShader(u.FRAGMENT_SHADER);return u.shaderSource(c,o),u.compileShader(c),!!u.getShaderParameter(c,u.COMPILE_STATUS)}t.isWebglSupported=function(u){if(t.isLikelyNode)return!1;u=u||t.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),o=d.getContext("webgl")||d.getContext("experimental-webgl"),c=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),c=t.maxTextureSize>=u;for(var f=["highp","mediump","lowp"],g=0;g<3;g++)if(h(o,f[g])){t.webGlPrecision=f[g];break}}return this.isSupported=c,c},t.WebglFilterBackend=s;function s(u){u&&u.tileSize&&(this.tileSize=u.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(u,d){this.dispose(),this.createWebGLCanvas(u,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,d)},chooseFastestCopyGLTo2DMethod:function(u,d){var o=typeof window.performance<"u",c;try{new ImageData(1,1),c=!0}catch{c=!1}var f=typeof ArrayBuffer<"u",g=typeof Uint8ClampedArray<"u";if(o&&c&&f&&g){var y=t.util.createCanvasElement(),m=new ArrayBuffer(u*d*4);if(t.forceGLPutImageData){this.imageBuffer=m,this.copyGLTo2D=w;return}var x={imageBuffer:m,destinationWidth:u,destinationHeight:d,targetCanvas:y},S,_,k;y.width=u,y.height=d,S=window.performance.now(),b.call(x,this.gl,x),_=window.performance.now()-S,S=window.performance.now(),w.call(x,this.gl,x),k=window.performance.now()-S,_>k?(this.imageBuffer=m,this.copyGLTo2D=w):this.copyGLTo2D=b}},createWebGLCanvas:function(u,d){var o=t.util.createCanvasElement();o.width=u,o.height=d;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},f=o.getContext("webgl",c);f||(f=o.getContext("experimental-webgl",c)),f&&(f.clearColor(0,0,0,0),this.canvas=o,this.gl=f)},applyFilters:function(u,d,o,c,f,g){var y=this.gl,m;g&&(m=this.getCachedTexture(g,d));var x={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:o,sourceHeight:c,destinationWidth:o,destinationHeight:c,context:y,sourceTexture:this.createTexture(y,o,c,!m&&d),targetTexture:this.createTexture(y,o,c),originalTexture:m||this.createTexture(y,o,c,!m&&d),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:f},S=y.createFramebuffer();return y.bindFramebuffer(y.FRAMEBUFFER,S),u.forEach(function(_){_&&_.applyTo(x)}),p(x),this.copyGLTo2D(y,x),y.bindTexture(y.TEXTURE_2D,null),y.deleteTexture(x.sourceTexture),y.deleteTexture(x.targetTexture),y.deleteFramebuffer(S),f.getContext("2d").setTransform(1,0,0,1,0,0),x},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,d,o,c,f){var g=u.createTexture();return u.bindTexture(u.TEXTURE_2D,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,f||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,f||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),c?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,c):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,d,o,0,u.RGBA,u.UNSIGNED_BYTE,null),g},getCachedTexture:function(u,d){if(this.textureCache[u])return this.textureCache[u];var o=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[u]=o,o},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:b,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,d={renderer:"",vendor:""};if(!u)return d;var o=u.getExtension("WEBGL_debug_renderer_info");if(o){var c=u.getParameter(o.UNMASKED_RENDERER_WEBGL),f=u.getParameter(o.UNMASKED_VENDOR_WEBGL);c&&(d.renderer=c.toLowerCase()),f&&(d.vendor=f.toLowerCase())}return this.gpuInfo=d,d}}}();function p(h){var s=h.targetCanvas,u=s.width,d=s.height,o=h.destinationWidth,c=h.destinationHeight;(u!==o||d!==c)&&(s.width=o,s.height=c)}function b(h,s){var u=h.canvas,d=s.targetCanvas,o=d.getContext("2d");o.translate(0,d.height),o.scale(1,-1);var c=u.height-d.height;o.drawImage(u,0,c,d.width,d.height,0,0,d.width,d.height)}function w(h,s){var u=s.targetCanvas,d=u.getContext("2d"),o=s.destinationWidth,c=s.destinationHeight,f=o*c*4,g=new Uint8Array(this.imageBuffer,0,f),y=new Uint8ClampedArray(this.imageBuffer,0,f);h.readPixels(0,0,o,c,h.RGBA,h.UNSIGNED_BYTE,g);var m=new ImageData(y,o,c);d.putImageData(m,0,0)}(function(){var h=function(){};t.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:h,dispose:h,clearWebGLCaches:h,resources:{},applyFilters:function(u,d,o,c,f){var g=f.getContext("2d");g.drawImage(d,0,0,o,c);var y=g.getImageData(0,0,o,c),m=g.getImageData(0,0,o,c),x={sourceWidth:o,sourceHeight:c,imageData:y,originalEl:d,originalImageData:m,canvasEl:f,ctx:g,filterBackend:this};return u.forEach(function(S){S.applyTo(x)}),(x.imageData.width!==o||x.imageData.height!==c)&&(f.width=x.imageData.width,f.height=x.imageData.height),g.putImageData(x.imageData,0,0),x}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(h){h&&this.setOptions(h)},setOptions:function(h){for(var s in h)this[s]=h[s]},createProgram:function(h,s,u){s=s||this.fragmentSource,u=u||this.vertexSource,t.webGlPrecision!=="highp"&&(s=s.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var d=h.createShader(h.VERTEX_SHADER);if(h.shaderSource(d,u),h.compileShader(d),!h.getShaderParameter(d,h.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+h.getShaderInfoLog(d));var o=h.createShader(h.FRAGMENT_SHADER);if(h.shaderSource(o,s),h.compileShader(o),!h.getShaderParameter(o,h.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+h.getShaderInfoLog(o));var c=h.createProgram();if(h.attachShader(c,d),h.attachShader(c,o),h.linkProgram(c),!h.getProgramParameter(c,h.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+h.getProgramInfoLog(c));var f=this.getAttributeLocations(h,c),g=this.getUniformLocations(h,c)||{};return g.uStepW=h.getUniformLocation(c,"uStepW"),g.uStepH=h.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:f,uniformLocations:g}},getAttributeLocations:function(h,s){return{aPosition:h.getAttribLocation(s,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(h,s,u){var d=s.aPosition,o=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,o),h.enableVertexAttribArray(d),h.vertexAttribPointer(d,2,h.FLOAT,!1,0,0),h.bufferData(h.ARRAY_BUFFER,u,h.STATIC_DRAW)},_setupFrameBuffer:function(h){var s=h.context,u,d;h.passes>1?(u=h.destinationWidth,d=h.destinationHeight,(h.sourceWidth!==u||h.sourceHeight!==d)&&(s.deleteTexture(h.targetTexture),h.targetTexture=h.filterBackend.createTexture(s,u,d)),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,h.targetTexture,0)):(s.bindFramebuffer(s.FRAMEBUFFER,null),s.finish())},_swapTextures:function(h){h.passes--,h.pass++;var s=h.targetTexture;h.targetTexture=h.sourceTexture,h.sourceTexture=s},isNeutralState:function(){var h=this.mainParameter,s=t.Image.filters[this.type].prototype;if(h)if(Array.isArray(s[h])){for(var u=s[h].length;u--;)if(this[h][u]!==s[h][u])return!1;return!0}else return s[h]===this[h];else return!1},applyTo:function(h){h.webgl?(this._setupFrameBuffer(h),this.applyToWebGL(h),this._swapTextures(h)):this.applyTo2d(h)},retrieveShader:function(h){return h.programCache.hasOwnProperty(this.type)||(h.programCache[this.type]=this.createProgram(h.context)),h.programCache[this.type]},applyToWebGL:function(h){var s=h.context,u=this.retrieveShader(h);h.pass===0&&h.originalTexture?s.bindTexture(s.TEXTURE_2D,h.originalTexture):s.bindTexture(s.TEXTURE_2D,h.sourceTexture),s.useProgram(u.program),this.sendAttributeData(s,u.attributeLocations,h.aPosition),s.uniform1f(u.uniformLocations.uStepW,1/h.sourceWidth),s.uniform1f(u.uniformLocations.uStepH,1/h.sourceHeight),this.sendUniformData(s,u.uniformLocations),s.viewport(0,0,h.destinationWidth,h.destinationHeight),s.drawArrays(s.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(h,s,u){h.activeTexture(u),h.bindTexture(h.TEXTURE_2D,s),h.activeTexture(h.TEXTURE0)},unbindAdditionalTexture:function(h,s){h.activeTexture(s),h.bindTexture(h.TEXTURE_2D,null),h.activeTexture(h.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(h){this[this.mainParameter]=h},sendUniformData:function(){},createHelpLayer:function(h){if(!h.helpLayer){var s=document.createElement("canvas");s.width=h.sourceWidth,s.height=h.sourceHeight,h.helpLayer=s}},toObject:function(){var h={type:this.type},s=this.mainParameter;return s&&(h[s]=this[s]),h},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(h,s){var u=new t.Image.filters[h.type](h);return s&&s(u),u},function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.ColorMatrix=d(u.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var c=o.imageData,f=c.data,g=f.length,y=this.matrix,m,x,S,_,k,O=this.colorsOnly;for(k=0;k<g;k+=4)m=f[k],x=f[k+1],S=f[k+2],O?(f[k]=m*y[0]+x*y[1]+S*y[2]+y[4]*255,f[k+1]=m*y[5]+x*y[6]+S*y[7]+y[9]*255,f[k+2]=m*y[10]+x*y[11]+S*y[12]+y[14]*255):(_=f[k+3],f[k]=m*y[0]+x*y[1]+S*y[2]+_*y[3]+y[4]*255,f[k+1]=m*y[5]+x*y[6]+S*y[7]+_*y[8]+y[9]*255,f[k+2]=m*y[10]+x*y[11]+S*y[12]+_*y[13]+y[14]*255,f[k+3]=m*y[15]+x*y[16]+S*y[17]+_*y[18]+y[19]*255)},getUniformLocations:function(o,c){return{uColorMatrix:o.getUniformLocation(c,"uColorMatrix"),uConstants:o.getUniformLocation(c,"uConstants")}},sendUniformData:function(o,c){var f=this.matrix,g=[f[0],f[1],f[2],f[3],f[5],f[6],f[7],f[8],f[10],f[11],f[12],f[13],f[15],f[16],f[17],f[18]],y=[f[4],f[9],f[14],f[19]];o.uniformMatrix4fv(c.uColorMatrix,!1,g),o.uniform4fv(c.uConstants,y)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Brightness=d(u.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var c=o.imageData,f=c.data,g,y=f.length,m=Math.round(this.brightness*255);for(g=0;g<y;g+=4)f[g]=f[g]+m,f[g+1]=f[g+1]+m,f[g+2]=f[g+2]+m}},getUniformLocations:function(o,c){return{uBrightness:o.getUniformLocation(c,"uBrightness")}},sendUniformData:function(o,c){o.uniform1f(c.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.extend,d=s.Image.filters,o=s.util.createClass;d.Convolute=o(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(c){var f=Math.sqrt(this.matrix.length),g=this.type+"_"+f+"_"+(this.opaque?1:0),y=this.fragmentSource[g];return c.programCache.hasOwnProperty(g)||(c.programCache[g]=this.createProgram(c.context,y)),c.programCache[g]},applyTo2d:function(c){var f=c.imageData,g=f.data,y=this.matrix,m=Math.round(Math.sqrt(y.length)),x=Math.floor(m/2),S=f.width,_=f.height,k=c.ctx.createImageData(S,_),O=k.data,j=this.opaque?1:0,F,z,U,G,ie,se,ue,le,ee,X,W,Y,P;for(W=0;W<_;W++)for(X=0;X<S;X++){for(ie=(W*S+X)*4,F=0,z=0,U=0,G=0,P=0;P<m;P++)for(Y=0;Y<m;Y++)ue=W+P-x,se=X+Y-x,!(ue<0||ue>=_||se<0||se>=S)&&(le=(ue*S+se)*4,ee=y[P*m+Y],F+=g[le]*ee,z+=g[le+1]*ee,U+=g[le+2]*ee,j||(G+=g[le+3]*ee));O[ie]=F,O[ie+1]=z,O[ie+2]=U,j?O[ie+3]=g[ie+3]:O[ie+3]=G}c.imageData=k},getUniformLocations:function(c,f){return{uMatrix:c.getUniformLocation(f,"uMatrix"),uOpaque:c.getUniformLocation(f,"uOpaque"),uHalfSize:c.getUniformLocation(f,"uHalfSize"),uSize:c.getUniformLocation(f,"uSize")}},sendUniformData:function(c,f){c.uniform1fv(f.uMatrix,this.matrix)},toObject:function(){return u(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Grayscale=d(u.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var c=o.imageData,f=c.data,g,y=f.length,m,x=this.mode;for(g=0;g<y;g+=4)x==="average"?m=(f[g]+f[g+1]+f[g+2])/3:x==="lightness"?m=(Math.min(f[g],f[g+1],f[g+2])+Math.max(f[g],f[g+1],f[g+2]))/2:x==="luminosity"&&(m=.21*f[g]+.72*f[g+1]+.07*f[g+2]),f[g]=m,f[g+1]=m,f[g+2]=m},retrieveShader:function(o){var c=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(c)){var f=this.fragmentSource[this.mode];o.programCache[c]=this.createProgram(o.context,f)}return o.programCache[c]},getUniformLocations:function(o,c){return{uMode:o.getUniformLocation(c,"uMode")}},sendUniformData:function(o,c){var f=1;o.uniform1i(c.uMode,f)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Invert=d(u.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var c=o.imageData,f=c.data,g,y=f.length;for(g=0;g<y;g+=4)f[g]=255-f[g],f[g+1]=255-f[g+1],f[g+2]=255-f[g+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,c){return{uInvert:o.getUniformLocation(c,"uInvert")}},sendUniformData:function(o,c){o.uniform1i(c.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.extend,d=s.Image.filters,o=s.util.createClass;d.Noise=o(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(c){if(this.noise!==0){var f=c.imageData,g=f.data,y,m=g.length,x=this.noise,S;for(y=0,m=g.length;y<m;y+=4)S=(.5-Math.random())*x,g[y]+=S,g[y+1]+=S,g[y+2]+=S}},getUniformLocations:function(c,f){return{uNoise:c.getUniformLocation(f,"uNoise"),uSeed:c.getUniformLocation(f,"uSeed")}},sendUniformData:function(c,f){c.uniform1f(f.uNoise,this.noise/255),c.uniform1f(f.uSeed,Math.random())},toObject:function(){return u(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Pixelate=d(u.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var c=o.imageData,f=c.data,g=c.height,y=c.width,m,x,S,_,k,O,j,F,z,U,G;for(x=0;x<g;x+=this.blocksize)for(S=0;S<y;S+=this.blocksize)for(m=x*4*y+S*4,_=f[m],k=f[m+1],O=f[m+2],j=f[m+3],U=Math.min(x+this.blocksize,g),G=Math.min(S+this.blocksize,y),F=x;F<U;F++)for(z=S;z<G;z++)m=F*4*y+z*4,f[m]=_,f[m+1]=k,f[m+2]=O,f[m+3]=j},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,c){return{uBlocksize:o.getUniformLocation(c,"uBlocksize"),uStepW:o.getUniformLocation(c,"uStepW"),uStepH:o.getUniformLocation(c,"uStepH")}},sendUniformData:function(o,c){o.uniform1f(c.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.extend,d=s.Image.filters,o=s.util.createClass;d.RemoveColor=o(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(c){var f=c.imageData,g=f.data,y,m=this.distance*255,x,S,_,k=new s.Color(this.color).getSource(),O=[k[0]-m,k[1]-m,k[2]-m],j=[k[0]+m,k[1]+m,k[2]+m];for(y=0;y<g.length;y+=4)x=g[y],S=g[y+1],_=g[y+2],x>O[0]&&S>O[1]&&_>O[2]&&x<j[0]&&S<j[1]&&_<j[2]&&(g[y+3]=0)},getUniformLocations:function(c,f){return{uLow:c.getUniformLocation(f,"uLow"),uHigh:c.getUniformLocation(f,"uHigh")}},sendUniformData:function(c,f){var g=new s.Color(this.color).getSource(),y=parseFloat(this.distance),m=[0+g[0]/255-y,0+g[1]/255-y,0+g[2]/255-y,1],x=[g[0]/255+y,g[1]/255+y,g[2]/255+y,1];c.uniform4fv(f.uLow,m),c.uniform4fv(f.uHigh,x)},toObject:function(){return u(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in o)u[c]=d(u.ColorMatrix,{type:c,matrix:o[c],mainParameter:!1,colorsOnly:!0}),s.Image.filters[c].fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric,u=s.Image.filters,d=s.util.createClass;u.BlendColor=d(u.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var c=this.type+"_"+this.mode,f;return o.programCache.hasOwnProperty(c)||(f=this.buildSource(this.mode),o.programCache[c]=this.createProgram(o.context,f)),o.programCache[c]},applyTo2d:function(o){var c=o.imageData,f=c.data,g=f.length,y,m,x,S,_,k,O,j=1-this.alpha;O=new s.Color(this.color).getSource(),y=O[0]*this.alpha,m=O[1]*this.alpha,x=O[2]*this.alpha;for(var F=0;F<g;F+=4)switch(S=f[F],_=f[F+1],k=f[F+2],this.mode){case"multiply":f[F]=S*y/255,f[F+1]=_*m/255,f[F+2]=k*x/255;break;case"screen":f[F]=255-(255-S)*(255-y)/255,f[F+1]=255-(255-_)*(255-m)/255,f[F+2]=255-(255-k)*(255-x)/255;break;case"add":f[F]=S+y,f[F+1]=_+m,f[F+2]=k+x;break;case"diff":case"difference":f[F]=Math.abs(S-y),f[F+1]=Math.abs(_-m),f[F+2]=Math.abs(k-x);break;case"subtract":f[F]=S-y,f[F+1]=_-m,f[F+2]=k-x;break;case"darken":f[F]=Math.min(S,y),f[F+1]=Math.min(_,m),f[F+2]=Math.min(k,x);break;case"lighten":f[F]=Math.max(S,y),f[F+1]=Math.max(_,m),f[F+2]=Math.max(k,x);break;case"overlay":f[F]=y<128?2*S*y/255:255-2*(255-S)*(255-y)/255,f[F+1]=m<128?2*_*m/255:255-2*(255-_)*(255-m)/255,f[F+2]=x<128?2*k*x/255:255-2*(255-k)*(255-x)/255;break;case"exclusion":f[F]=y+S-2*y*S/255,f[F+1]=m+_-2*m*_/255,f[F+2]=x+k-2*x*k/255;break;case"tint":f[F]=y+S*j,f[F+1]=m+_*j,f[F+2]=x+k*j}},getUniformLocations:function(o,c){return{uColor:o.getUniformLocation(c,"uColor")}},sendUniformData:function(o,c){var f=new s.Color(this.color).getSource();f[0]=this.alpha*f[0]/255,f[1]=this.alpha*f[1]/255,f[2]=this.alpha*f[2]/255,f[3]=this.alpha,o.uniform4fv(c.uColor,f)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric,u=s.Image.filters,d=s.util.createClass;u.BlendImage=d(u.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var c=this.type+"_"+this.mode,f=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(c)||(o.programCache[c]=this.createProgram(o.context,f)),o.programCache[c]},applyToWebGL:function(o){var c=o.context,f=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(c,f,c.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(c,c.TEXTURE1)},createTexture:function(o,c){return o.getCachedTexture(c.cacheKey,c._element)},calculateMatrix:function(){var o=this.image,c=o._element.width,f=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/c,-o.top/f,1]},applyTo2d:function(o){var c=o.imageData,f=o.filterBackend.resources,g=c.data,y=g.length,m=c.width,x=c.height,S,_,k,O,j,F,z,U,G,ie,se=this.image,ue;f.blendImage||(f.blendImage=s.util.createCanvasElement()),G=f.blendImage,ie=G.getContext("2d"),G.width!==m||G.height!==x?(G.width=m,G.height=x):ie.clearRect(0,0,m,x),ie.setTransform(se.scaleX,0,0,se.scaleY,se.left,se.top),ie.drawImage(se._element,0,0,m,x),ue=ie.getImageData(0,0,m,x).data;for(var le=0;le<y;le+=4)switch(j=g[le],F=g[le+1],z=g[le+2],U=g[le+3],S=ue[le],_=ue[le+1],k=ue[le+2],O=ue[le+3],this.mode){case"multiply":g[le]=j*S/255,g[le+1]=F*_/255,g[le+2]=z*k/255,g[le+3]=U*O/255;break;case"mask":g[le+3]=O;break}},getUniformLocations:function(o,c){return{uTransformMatrix:o.getUniformLocation(c,"uTransformMatrix"),uImage:o.getUniformLocation(c,"uImage")}},sendUniformData:function(o,c){var f=this.calculateMatrix();o.uniform1i(c.uImage,1),o.uniformMatrix3fv(c.uTransformMatrix,!1,f)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(o,c){s.Image.fromObject(o.image,function(f){var g=s.util.object.clone(o);g.image=f,c(new s.Image.filters.BlendImage(g))})}}(e),function(h){var s=h.fabric||(h.fabric={}),u=Math.pow,d=Math.floor,o=Math.sqrt,c=Math.abs,f=Math.round,g=Math.sin,y=Math.ceil,m=s.Image.filters,x=s.util.createClass;m.Resize=x(m.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(S,_){return{uDelta:S.getUniformLocation(_,"uDelta"),uTaps:S.getUniformLocation(_,"uTaps")}},sendUniformData:function(S,_){S.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),S.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(S){var _=this.getFilterWindow(),k=this.type+"_"+_;if(!S.programCache.hasOwnProperty(k)){var O=this.generateShader(_);S.programCache[k]=this.createProgram(S.context,O)}return S.programCache[k]},getFilterWindow:function(){var S=this.tempScale;return Math.ceil(this.lanczosLobes/S)},getTaps:function(){for(var S=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,k=this.getFilterWindow(),O=new Array(k),j=1;j<=k;j++)O[j-1]=S(j*_);return O},generateShader:function(O){for(var _=new Array(O),k=this.fragmentSourceTOP,O,j=1;j<=O;j++)_[j-1]=j+".0 * uDelta";return k+="uniform float uTaps["+O+`];
`,k+=`void main() {
`,k+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,k+=`  float sum = 1.0;
`,_.forEach(function(F,z){k+="  color += texture2D(uTexture, vTexCoord + "+F+") * uTaps["+z+`];
`,k+="  color += texture2D(uTexture, vTexCoord - "+F+") * uTaps["+z+`];
`,k+="  sum += 2.0 * uTaps["+z+`];
`}),k+=`  gl_FragColor = color / sum;
`,k+="}",k},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(S){S.webgl?(S.passes++,this.width=S.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=S.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),S.destinationWidth=this.dW,this._setupFrameBuffer(S),this.applyToWebGL(S),this._swapTextures(S),S.sourceWidth=S.destinationWidth,this.height=S.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),S.destinationHeight=this.dH,this._setupFrameBuffer(S),this.applyToWebGL(S),this._swapTextures(S),S.sourceHeight=S.destinationHeight):this.applyTo2d(S)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(S){return function(_){if(_>=S||_<=-S)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var k=_/S;return g(_)/_*g(k)/k}},applyTo2d:function(S){var _=S.imageData,k=this.scaleX,O=this.scaleY;this.rcpScaleX=1/k,this.rcpScaleY=1/O;var j=_.width,F=_.height,z=f(j*k),U=f(F*O),G;this.resizeType==="sliceHack"?G=this.sliceByTwo(S,j,F,z,U):this.resizeType==="hermite"?G=this.hermiteFastResize(S,j,F,z,U):this.resizeType==="bilinear"?G=this.bilinearFiltering(S,j,F,z,U):this.resizeType==="lanczos"&&(G=this.lanczosResize(S,j,F,z,U)),S.imageData=G},sliceByTwo:function(S,_,k,O,j){var F=S.imageData,z=.5,U=!1,G=!1,ie=_*z,se=k*z,ue=s.filterBackend.resources,le,ee,X=0,W=0,Y=_,P=0;for(ue.sliceByTwo||(ue.sliceByTwo=document.createElement("canvas")),le=ue.sliceByTwo,(le.width<_*1.5||le.height<k)&&(le.width=_*1.5,le.height=k),ee=le.getContext("2d"),ee.clearRect(0,0,_*1.5,k),ee.putImageData(F,0,0),O=d(O),j=d(j);!U||!G;)_=ie,k=se,O<d(ie*z)?ie=d(ie*z):(ie=O,U=!0),j<d(se*z)?se=d(se*z):(se=j,G=!0),ee.drawImage(le,X,W,_,k,Y,P,ie,se),X=Y,W=P,P+=se;return ee.getImageData(X,W,O,j)},lanczosResize:function(S,_,k,O,j){function F(M){var B,H,N,L,I,Z,te,ne,me,xe,Ee;for(P.x=(M+.5)*se,A.x=d(P.x),B=0;B<j;B++){for(P.y=(B+.5)*ue,A.y=d(P.y),I=0,Z=0,te=0,ne=0,me=0,H=A.x-X;H<=A.x+X;H++)if(!(H<0||H>=_)){xe=d(1e3*c(H-P.x)),Y[xe]||(Y[xe]={});for(var he=A.y-W;he<=A.y+W;he++)he<0||he>=k||(Ee=d(1e3*c(he-P.y)),Y[xe][Ee]||(Y[xe][Ee]=ie(o(u(xe*le,2)+u(Ee*ee,2))/1e3)),N=Y[xe][Ee],N>0&&(L=(he*_+H)*4,I+=N,Z+=N*z[L],te+=N*z[L+1],ne+=N*z[L+2],me+=N*z[L+3]))}L=(B*O+M)*4,G[L]=Z/I,G[L+1]=te/I,G[L+2]=ne/I,G[L+3]=me/I}return++M<O?F(M):U}var z=S.imageData.data,U=S.ctx.createImageData(O,j),G=U.data,ie=this.lanczosCreate(this.lanczosLobes),se=this.rcpScaleX,ue=this.rcpScaleY,le=2/this.rcpScaleX,ee=2/this.rcpScaleY,X=y(se*this.lanczosLobes/2),W=y(ue*this.lanczosLobes/2),Y={},P={},A={};return F(0)},bilinearFiltering:function(S,_,k,O,j){var F,z,U,G,ie,se,ue,le,ee,X,W,Y,P=0,A,M=this.rcpScaleX,B=this.rcpScaleY,H=4*(_-1),N=S.imageData,L=N.data,I=S.ctx.createImageData(O,j),Z=I.data;for(ue=0;ue<j;ue++)for(le=0;le<O;le++)for(ie=d(M*le),se=d(B*ue),ee=M*le-ie,X=B*ue-se,A=4*(se*_+ie),W=0;W<4;W++)F=L[A+W],z=L[A+4+W],U=L[A+H+W],G=L[A+H+4+W],Y=F*(1-ee)*(1-X)+z*ee*(1-X)+U*X*(1-ee)+G*ee*X,Z[P++]=Y;return I},hermiteFastResize:function(S,_,k,O,j){for(var F=this.rcpScaleX,z=this.rcpScaleY,U=y(F/2),G=y(z/2),ie=S.imageData,se=ie.data,ue=S.ctx.createImageData(O,j),le=ue.data,ee=0;ee<j;ee++)for(var X=0;X<O;X++){for(var W=(X+ee*O)*4,Y=0,P=0,A=0,M=0,B=0,H=0,N=0,L=(ee+.5)*z,I=d(ee*z);I<(ee+1)*z;I++)for(var Z=c(L-(I+.5))/G,te=(X+.5)*F,ne=Z*Z,me=d(X*F);me<(X+1)*F;me++){var xe=c(te-(me+.5))/U,Ee=o(ne+xe*xe);Ee>1&&Ee<-1||(Y=2*Ee*Ee*Ee-3*Ee*Ee+1,Y>0&&(xe=4*(me+I*_),N+=Y*se[xe+3],A+=Y,se[xe+3]<255&&(Y=Y*se[xe+3]/250),M+=Y*se[xe],B+=Y*se[xe+1],H+=Y*se[xe+2],P+=Y))}le[W]=M/P,le[W+1]=B/P,le[W+2]=H/P,le[W+3]=N/A}return ue},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Contrast=d(u.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var c=o.imageData,f,y,g=c.data,y=g.length,m=Math.floor(this.contrast*255),x=259*(m+255)/(255*(259-m));for(f=0;f<y;f+=4)g[f]=x*(g[f]-128)+128,g[f+1]=x*(g[f+1]-128)+128,g[f+2]=x*(g[f+2]-128)+128}},getUniformLocations:function(o,c){return{uContrast:o.getUniformLocation(c,"uContrast")}},sendUniformData:function(o,c){o.uniform1f(c.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Saturation=d(u.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var c=o.imageData,f=c.data,g=f.length,y=-this.saturation,m,x;for(m=0;m<g;m+=4)x=Math.max(f[m],f[m+1],f[m+2]),f[m]+=x!==f[m]?(x-f[m])*y:0,f[m+1]+=x!==f[m+1]?(x-f[m+1])*y:0,f[m+2]+=x!==f[m+2]?(x-f[m+2])*y:0}},getUniformLocations:function(o,c){return{uSaturation:o.getUniformLocation(c,"uSaturation")}},sendUniformData:function(o,c){o.uniform1f(c.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Vibrance=d(u.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var c=o.imageData,f=c.data,g=f.length,y=-this.vibrance,m,x,S,_;for(m=0;m<g;m+=4)x=Math.max(f[m],f[m+1],f[m+2]),S=(f[m]+f[m+1]+f[m+2])/3,_=Math.abs(x-S)*2/255*y,f[m]+=x!==f[m]?(x-f[m])*_:0,f[m+1]+=x!==f[m+1]?(x-f[m+1])*_:0,f[m+2]+=x!==f[m+2]?(x-f[m+2])*_:0}},getUniformLocations:function(o,c){return{uVibrance:o.getUniformLocation(c,"uVibrance")}},sendUniformData:function(o,c){o.uniform1f(c.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Blur=d(u.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var c=o.filterBackend.resources,f,g,y=o.imageData.width,m=o.imageData.height;c.blurLayer1||(c.blurLayer1=s.util.createCanvasElement(),c.blurLayer2=s.util.createCanvasElement()),f=c.blurLayer1,g=c.blurLayer2,(f.width!==y||f.height!==m)&&(g.width=f.width=y,g.height=f.height=m);var x=f.getContext("2d"),S=g.getContext("2d"),_=15,k,O,j,F,z=this.blur*.06*.5;for(x.putImageData(o.imageData,0,0),S.clearRect(0,0,y,m),F=-15;F<=_;F++)k=(Math.random()-.5)/4,O=F/_,j=z*O*y+k,S.globalAlpha=1-Math.abs(O),S.drawImage(f,j,k),x.drawImage(g,0,0),S.globalAlpha=1,S.clearRect(0,0,g.width,g.height);for(F=-15;F<=_;F++)k=(Math.random()-.5)/4,O=F/_,j=z*O*m+k,S.globalAlpha=1-Math.abs(O),S.drawImage(f,k,j),x.drawImage(g,0,0),S.globalAlpha=1,S.clearRect(0,0,g.width,g.height);o.ctx.drawImage(f,0,0);var U=o.ctx.getImageData(0,0,f.width,f.height);return x.globalAlpha=1,x.clearRect(0,0,f.width,f.height),U},getUniformLocations:function(o,c){return{delta:o.getUniformLocation(c,"uDelta")}},sendUniformData:function(o,c){var f=this.chooseRightDelta();o.uniform2fv(c.delta,f)},chooseRightDelta:function(){var o=1,c=[0,0],f;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),f=o*this.blur*.12,this.horizontal?c[0]=f:c[1]=f,c}}),u.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Gamma=d(u.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],u.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var c=o.imageData,f=c.data,g=this.gamma,y=f.length,m=1/g[0],x=1/g[1],S=1/g[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,y=256;_<y;_++)this.rVals[_]=Math.pow(_/255,m)*255,this.gVals[_]=Math.pow(_/255,x)*255,this.bVals[_]=Math.pow(_/255,S)*255;for(_=0,y=f.length;_<y;_+=4)f[_]=this.rVals[f[_]],f[_+1]=this.gVals[f[_+1]],f[_+2]=this.bVals[f[_+2]]},getUniformLocations:function(o,c){return{uGamma:o.getUniformLocation(c,"uGamma")}},sendUniformData:function(o,c){o.uniform3fv(c.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.Composed=d(u.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(c){c.applyTo(o)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(o,c){var f=o.subFilters||[],g=f.map(function(m){return new s.Image.filters[m.type](m)}),y=new s.Image.filters.Composed({subFilters:g});return c&&c(y),y}}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.Image.filters,d=s.util.createClass;u.HueRotation=d(u.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,c=s.util.cos(o),f=s.util.sin(o),g=1/3,y=Math.sqrt(g)*f,m=1-c;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=c+m/3,this.matrix[1]=g*m-y,this.matrix[2]=g*m+y,this.matrix[5]=g*m+y,this.matrix[6]=c+g*m,this.matrix[7]=g*m-y,this.matrix[10]=g*m-y,this.matrix[11]=g*m+y,this.matrix[12]=c+g*m},isNeutralState:function(o){return this.calculateMatrix(),u.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),u.BaseFilter.prototype.applyTo.call(this,o)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(h){var s=h.fabric||(h.fabric={}),u=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(d),cacheProperties:s.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,c){this.styles=c?c.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",c),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=s.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,c,f,g,y,m,x,S=0,_=this._textLines.length;S<_;S++)if(!(this.textAlign!=="justify"&&(S===_-1||this.isEndOfWrapping(S)))&&(g=0,y=this._textLines[S],c=this.getLineWidth(S),c<this.width&&(x=this.textLines[S].match(this._reSpacesAndTabs)))){f=x.length,o=(this.width-c)/f;for(var k=0,O=y.length;k<=O;k++)m=this.__charBounds[S][k],this._reSpaceAndTab.test(y[k])?(m.width+=o,m.kernedWidth+=o,m.left+=g,g+=o):m.left+=g}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return o.width+=c*o.zoomX,o.height+=c*o.zoomY,o},_render:function(o){var c=this.path;c&&!c.isNotVisible()&&c._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,c,f){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(c,f)},calcTextWidth:function(){for(var o=this.getLineWidth(0),c=1,f=this._textLines.length;c<f;c++){var g=this.getLineWidth(c);g>o&&(o=g)}return o},_renderTextLine:function(o,c,f,g,y,m){this._renderChars(o,c,f,g,y,m)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var c,f,g=o.fillStyle,y,m,x=this._getLeftOffset(),S=this._getTopOffset(),_=0,k=0,O,j,F=this.path,z,U=0,G=this._textLines.length;U<G;U++){if(c=this.getHeightOfLine(U),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",U)){S+=c;continue}y=this._textLines[U],f=this._getLineLeftOffset(U),k=0,_=0,m=this.getValueOfPropertyAt(U,0,"textBackgroundColor");for(var ie=0,se=y.length;ie<se;ie++)O=this.__charBounds[U][ie],j=this.getValueOfPropertyAt(U,ie,"textBackgroundColor"),F?(o.save(),o.translate(O.renderLeft,O.renderTop),o.rotate(O.angle),o.fillStyle=j,j&&o.fillRect(-O.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),O.width,c/this.lineHeight),o.restore()):j!==m?(z=x+f+_,this.direction==="rtl"&&(z=this.width-z-k),o.fillStyle=m,m&&o.fillRect(z,S,k,c/this.lineHeight),_=O.left,k=O.width,m=j):k+=O.kernedWidth;j&&!F&&(z=x+f+_,this.direction==="rtl"&&(z=this.width-z-k),o.fillStyle=j,o.fillRect(z,S,k,c/this.lineHeight)),S+=c}o.fillStyle=g,this._removeShadow(o)}},getFontCache:function(o){var c=o.fontFamily.toLowerCase();s.charWidthsCache[c]||(s.charWidthsCache[c]={});var f=s.charWidthsCache[c],g=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return f[g]||(f[g]={}),f[g]},_measureChar:function(o,c,f,g){var y=this.getFontCache(c),m=this._getFontDeclaration(c),x=this._getFontDeclaration(g),S=f+o,_=m===x,k,O,j,F=c.fontSize/this.CACHE_FONT_SIZE,z;if(f&&y[f]!==void 0&&(j=y[f]),y[o]!==void 0&&(z=k=y[o]),_&&y[S]!==void 0&&(O=y[S],z=O-j),k===void 0||j===void 0||O===void 0){var U=this.getMeasuringContext();this._setTextStyles(U,c,!0)}return k===void 0&&(z=k=U.measureText(o).width,y[o]=k),j===void 0&&_&&f&&(j=U.measureText(f).width,y[f]=j),_&&O===void 0&&(O=U.measureText(S).width,y[S]=O,z=O-j),{width:k*F,kernedWidth:z*F}},getHeightOfChar:function(o,c){return this.getValueOfPropertyAt(o,c,"fontSize")},measureLine:function(o){var c=this._measureLine(o);return this.charSpacing!==0&&(c.width-=this._getWidthOfCharSpacing()),c.width<0&&(c.width=0),c},_measureLine:function(o){var c=0,f,g,y=this._textLines[o],m,x,S=0,_=new Array(y.length),k=0,O,j,F=this.path,z=this.pathSide==="right";for(this.__charBounds[o]=_,f=0;f<y.length;f++)g=y[f],x=this._getGraphemeBox(g,o,f,m),_[f]=x,c+=x.kernedWidth,m=g;if(_[f]={left:x?x.left+x.width:0,width:0,kernedWidth:0,height:this.fontSize},F){switch(j=F.segmentsInfo[F.segmentsInfo.length-1].length,O=s.util.getPointOnPath(F.path,0,F.segmentsInfo),O.x+=F.pathOffset.x,O.y+=F.pathOffset.y,this.textAlign){case"left":k=z?j-c:0;break;case"center":k=(j-c)/2;break;case"right":k=z?0:j-c;break}for(k+=this.pathStartOffset*(z?-1:1),f=z?y.length-1:0;z?f>=0:f<y.length;z?f--:f++)x=_[f],k>j?k%=j:k<0&&(k+=j),this._setGraphemeOnPath(k,x,O),k+=x.kernedWidth}return{width:c,numOfSpaces:S}},_setGraphemeOnPath:function(o,c,f){var g=o+c.kernedWidth/2,y=this.path,m=s.util.getPointOnPath(y.path,g,y.segmentsInfo);c.renderLeft=m.x-f.x,c.renderTop=m.y-f.y,c.angle=m.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,c,f,g,y){var m=this.getCompleteStyleDeclaration(c,f),x=g?this.getCompleteStyleDeclaration(c,f-1):{},S=this._measureChar(o,m,g,x),_=S.kernedWidth,k=S.width,O;this.charSpacing!==0&&(O=this._getWidthOfCharSpacing(),k+=O,_+=O);var j={width:k,left:0,height:m.fontSize,kernedWidth:_,deltaY:m.deltaY};if(f>0&&!y){var F=this.__charBounds[c][f-1];j.left=F.left+F.width+S.kernedWidth-S.width}return j},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var c=this._textLines[o],f=this.getHeightOfChar(o,0),g=1,y=c.length;g<y;g++)f=Math.max(this.getHeightOfChar(o,g),f);return this.__lineHeights[o]=f*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,c=0,f=0,g=this._textLines.length;f<g;f++)o=this.getHeightOfLine(f),c+=f===g-1?o/this.lineHeight:o;return c},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,c){o.save();for(var f=0,g=this._getLeftOffset(),y=this._getTopOffset(),m=0,x=this._textLines.length;m<x;m++){var S=this.getHeightOfLine(m),_=S/this.lineHeight,k=this._getLineLeftOffset(m);this._renderTextLine(c,o,this._textLines[m],g+k,y+f+_,m),f+=S}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,c,f,g,y,m){var x=this.getHeightOfLine(m),S=this.textAlign.indexOf("justify")!==-1,_,k,O="",j,F=0,z,U=this.path,G=!S&&this.charSpacing===0&&this.isEmptyStyles(m)&&!U,ie=this.direction==="ltr",se=this.direction==="ltr"?1:-1,ue,le=c.canvas.getAttribute("dir");if(c.save(),le!==this.direction&&(c.canvas.setAttribute("dir",ie?"ltr":"rtl"),c.direction=ie?"ltr":"rtl",c.textAlign=ie?"left":"right"),y-=x*this._fontSizeFraction/this.lineHeight,G){this._renderChar(o,c,m,0,f.join(""),g,y,x),c.restore();return}for(var ee=0,X=f.length-1;ee<=X;ee++)z=ee===X||this.charSpacing||U,O+=f[ee],j=this.__charBounds[m][ee],F===0?(g+=se*(j.kernedWidth-j.width),F+=j.width):F+=j.kernedWidth,S&&!z&&this._reSpaceAndTab.test(f[ee])&&(z=!0),z||(_=_||this.getCompleteStyleDeclaration(m,ee),k=this.getCompleteStyleDeclaration(m,ee+1),z=s.util.hasStyleChanged(_,k,!1)),z&&(U?(c.save(),c.translate(j.renderLeft,j.renderTop),c.rotate(j.angle),this._renderChar(o,c,m,ee,O,-F/2,0,x),c.restore()):(ue=g,this._renderChar(o,c,m,ee,O,ue,y,x)),O="",_=k,g+=se*F,F=0);c.restore()},_applyPatternGradientTransformText:function(o){var c=s.util.createCanvasElement(),f,g=this.width+this.strokeWidth,y=this.height+this.strokeWidth;return c.width=g,c.height=y,f=c.getContext("2d"),f.beginPath(),f.moveTo(0,0),f.lineTo(g,0),f.lineTo(g,y),f.lineTo(0,y),f.closePath(),f.translate(g/2,y/2),f.fillStyle=o.toLive(f),this._applyPatternGradientTransform(f,o),f.fill(),f.createPattern(c,"no-repeat")},handleFiller:function(o,c,f){var g,y;return f.toLive?f.gradientUnits==="percentage"||f.gradientTransform||f.patternTransform?(g=-this.width/2,y=-this.height/2,o.translate(g,y),o[c]=this._applyPatternGradientTransformText(f),{offsetX:g,offsetY:y}):(o[c]=f.toLive(o,this),this._applyPatternGradientTransform(o,f)):(o[c]=f,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,c){return o.lineWidth=c.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",c.stroke)},_setFillStyles:function(o,c){return this.handleFiller(o,"fillStyle",c.fill)},_renderChar:function(o,c,f,g,y,m,x){var S=this._getStyleDeclaration(f,g),_=this.getCompleteStyleDeclaration(f,g),k=o==="fillText"&&_.fill,O=o==="strokeText"&&_.stroke&&_.strokeWidth,j,F;!O&&!k||(c.save(),k&&(j=this._setFillStyles(c,_)),O&&(F=this._setStrokeStyles(c,_)),c.font=this._getFontDeclaration(_),S&&S.textBackgroundColor&&this._removeShadow(c),S&&S.deltaY&&(x+=S.deltaY),k&&c.fillText(y,m-j.offsetX,x-j.offsetY),O&&c.strokeText(y,m-F.offsetX,x-F.offsetY),c.restore())},setSuperscript:function(o,c){return this._setScript(o,c,this.superscript)},setSubscript:function(o,c){return this._setScript(o,c,this.subscript)},_setScript:function(o,c,f){var g=this.get2DCursorLocation(o,!0),y=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"fontSize"),m=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"deltaY"),x={fontSize:y*f.size,deltaY:m+y*f.baseline};return this.setSelectionStyles(x,o,c),this},_getLineLeftOffset:function(o){var c=this.getLineWidth(o),f=this.width-c,g=this.textAlign,y=this.direction,x,m=0,x=this.isEndOfWrapping(o);return g==="justify"||g==="justify-center"&&!x||g==="justify-right"&&!x||g==="justify-left"&&!x?0:(g==="center"&&(m=f/2),g==="right"&&(m=f),g==="justify-center"&&(m=f/2),g==="justify-right"&&(m=f),y==="rtl"&&(m-=f),m)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var c=this.measureLine(o),f=c.width;return this.__lineWidths[o]=f,f},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,c,f){var g=this._getStyleDeclaration(o,c);return g&&typeof g[f]<"u"?g[f]:this[f]},_renderTextDecoration:function(o,c){if(!(!this[c]&&!this.styleHas(c))){for(var f,g,y,m,x,S,_,k,O=this._getLeftOffset(),j=this._getTopOffset(),F,z,U,G,ie,se,ue,le,ee=this.path,X=this._getWidthOfCharSpacing(),W=this.offsets[c],Y=0,P=this._textLines.length;Y<P;Y++){if(f=this.getHeightOfLine(Y),!this[c]&&!this.styleHas(c,Y)){j+=f;continue}_=this._textLines[Y],se=f/this.lineHeight,m=this._getLineLeftOffset(Y),z=0,U=0,k=this.getValueOfPropertyAt(Y,0,c),le=this.getValueOfPropertyAt(Y,0,"fill"),F=j+se*(1-this._fontSizeFraction),g=this.getHeightOfChar(Y,0),x=this.getValueOfPropertyAt(Y,0,"deltaY");for(var A=0,M=_.length;A<M;A++)if(G=this.__charBounds[Y][A],ie=this.getValueOfPropertyAt(Y,A,c),ue=this.getValueOfPropertyAt(Y,A,"fill"),y=this.getHeightOfChar(Y,A),S=this.getValueOfPropertyAt(Y,A,"deltaY"),ee&&ie&&ue)o.save(),o.fillStyle=le,o.translate(G.renderLeft,G.renderTop),o.rotate(G.angle),o.fillRect(-G.kernedWidth/2,W*y+S,G.kernedWidth,this.fontSize/15),o.restore();else if((ie!==k||ue!==le||y!==g||S!==x)&&U>0){var B=O+m+z;this.direction==="rtl"&&(B=this.width-B-U),k&&le&&(o.fillStyle=le,o.fillRect(B,F+W*g+x,U,this.fontSize/15)),z=G.left,U=G.width,k=ie,le=ue,g=y,x=S}else U+=G.kernedWidth;var B=O+m+z;this.direction==="rtl"&&(B=this.width-B-U),o.fillStyle=ue,ie&&ue&&o.fillRect(B,F+W*g+x,U-X,this.fontSize/15),j+=f}this._removeShadow(o)}},_getFontDeclaration:function(o,c){var f=o||this,g=this.fontFamily,y=s.Text.genericFonts.indexOf(g.toLowerCase())>-1,m=g===void 0||g.indexOf("'")>-1||g.indexOf(",")>-1||g.indexOf('"')>-1||y?f.fontFamily:'"'+f.fontFamily+'"';return[s.isLikelyNode?f.fontWeight:f.fontStyle,s.isLikelyNode?f.fontStyle:f.fontWeight,c?this.CACHE_FONT_SIZE+"px":f.fontSize+"px",m].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var c=o.split(this._reNewline),f=new Array(c.length),g=[`
`],y=[],m=0;m<c.length;m++)f[m]=s.util.string.graphemeSplit(c[m]),y=y.concat(f[m],g);return y.pop(),{_unwrappedLines:f,lines:c,graphemeText:y,graphemeLines:f}},toObject:function(o){var c=d.concat(o),f=this.callSuper("toObject",c);return f.styles=s.util.stylesToArray(this.styles,this.text),f.path&&(f.path=this.path.toObject()),f},set:function(o,c){this.callSuper("set",o,c);var f=!1,g=!1;if(typeof o=="object")for(var y in o)y==="path"&&this.setPathInfo(),f=f||this._dimensionAffectingProps.indexOf(y)!==-1,g=g||y==="path";else f=this._dimensionAffectingProps.indexOf(o)!==-1,g=o==="path";return g&&this.setPathInfo(),f&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(o,c,f){if(!o)return c(null);var g=s.parseAttributes(o,s.Text.ATTRIBUTE_NAMES),y=g.textAnchor||"left";if(f=s.util.object.extend(f?u(f):{},g),f.top=f.top||0,f.left=f.left||0,g.textDecoration){var m=g.textDecoration;m.indexOf("underline")!==-1&&(f.underline=!0),m.indexOf("overline")!==-1&&(f.overline=!0),m.indexOf("line-through")!==-1&&(f.linethrough=!0),delete f.textDecoration}"dx"in g&&(f.left+=g.dx),"dy"in g&&(f.top+=g.dy),"fontSize"in f||(f.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var x="";"textContent"in o?x=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(x=o.firstChild.data),x=x.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var S=f.strokeWidth;f.strokeWidth=0;var _=new s.Text(x,f),k=_.getScaledHeight()/_.height,O=(_.height+_.strokeWidth)*_.lineHeight-_.height,j=O*k,F=_.getScaledHeight()+j,z=0;y==="center"&&(z=_.getScaledWidth()/2),y==="right"&&(z=_.getScaledWidth()),_.set({left:_.left-z,top:_.top-(F-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof S<"u"?S:1}),c(_)},s.Text.fromObject=function(o,c){var f=u(o),g=o.path;return delete f.path,s.Object._fromObject("Text",f,function(y){y.styles=s.util.stylesFromArray(o.styles,o.text),g?s.Object._fromObject("Path",g,function(m){y.set("path",m),c(y)},"path"):c(y)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(h){if(!this.styles||typeof h<"u"&&!this.styles[h])return!0;var s=typeof h>"u"?this.styles:{line:this.styles[h]};for(var u in s)for(var d in s[u])for(var o in s[u][d])return!1;return!0},styleHas:function(h,s){if(!this.styles||!h||h===""||typeof s<"u"&&!this.styles[s])return!1;var u=typeof s>"u"?this.styles:{0:this.styles[s]};for(var d in u)for(var o in u[d])if(typeof u[d][o][h]<"u")return!0;return!1},cleanStyle:function(h){if(!this.styles||!h||h==="")return!1;var s=this.styles,u=0,d,o,c=!0,f=0,g;for(var y in s){d=0;for(var m in s[y]){var g=s[y][m],x=g.hasOwnProperty(h);u++,x?(o?g[h]!==o&&(c=!1):o=g[h],g[h]===this[h]&&delete g[h]):c=!1,Object.keys(g).length!==0?d++:delete s[y][m]}d===0&&delete s[y]}for(var S=0;S<this._textLines.length;S++)f+=this._textLines[S].length;c&&u===f&&(this[h]=o,this.removeStyle(h))},removeStyle:function(h){if(!(!this.styles||!h||h==="")){var s=this.styles,u,d,o;for(d in s){u=s[d];for(o in u)delete u[o][h],Object.keys(u[o]).length===0&&delete u[o];Object.keys(u).length===0&&delete s[d]}}},_extendStyles:function(h,s){var u=this.get2DCursorLocation(h);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),s)},get2DCursorLocation:function(h,s){typeof h>"u"&&(h=this.selectionStart);for(var u=s?this._unwrappedTextLines:this._textLines,d=u.length,o=0;o<d;o++){if(h<=u[o].length)return{lineIndex:o,charIndex:h};h-=u[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:u[o-1].length<h?u[o-1].length:h}},getSelectionStyles:function(h,s,u){typeof h>"u"&&(h=this.selectionStart||0),typeof s>"u"&&(s=this.selectionEnd||h);for(var d=[],o=h;o<s;o++)d.push(this.getStyleAtPosition(o,u));return d},getStyleAtPosition:function(h,s){var u=this.get2DCursorLocation(h),d=s?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return d||{}},setSelectionStyles:function(h,s,u){typeof s>"u"&&(s=this.selectionStart||0),typeof u>"u"&&(u=this.selectionEnd||s);for(var d=s;d<u;d++)this._extendStyles(d,h);return this._forceClearCache=!0,this},_getStyleDeclaration:function(h,s){var u=this.styles&&this.styles[h];return u?u[s]:null},getCompleteStyleDeclaration:function(h,s){for(var u=this._getStyleDeclaration(h,s)||{},d={},o,c=0;c<this._styleProperties.length;c++)o=this._styleProperties[c],d[o]=typeof u[o]>"u"?this[o]:u[o];return d},_setStyleDeclaration:function(h,s,u){this.styles[h][s]=u},_deleteStyleDeclaration:function(h,s){delete this.styles[h][s]},_getLineStyle:function(h){return!!this.styles[h]},_setLineStyle:function(h){this.styles[h]={}},_deleteLineStyle:function(h){delete this.styles[h]}})}(),function(){function h(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(s,u){this.callSuper("initialize",s,u),this.initBehavior()},setSelectionStart:function(s){s=Math.max(s,0),this._updateAndFire("selectionStart",s)},setSelectionEnd:function(s){s=Math.min(s,this.text.length),this._updateAndFire("selectionEnd",s)},_updateAndFire:function(s,u){this[s]!==u&&(this._fireSelectionChanged(),this[s]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(s){this.clearContextTop(),this.callSuper("render",s),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(s){this.callSuper("_render",s)},clearContextTop:function(s){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,d=this.canvas.viewportTransform;u.save(),u.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(u),this._clearTextArea(u),s||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var s=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(s,u):this.renderSelection(s,u),u.restore()}},_clearTextArea:function(s){var u=this.width+4,d=this.height+4;s.clearRect(-u/2,-d/2,u,d)},_getCursorBoundaries:function(s){typeof s>"u"&&(s=this.selectionStart);var u=this._getLeftOffset(),d=this._getTopOffset(),o=this._getCursorBoundariesOffsets(s);return{left:u,top:d,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(s){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,d,o,c=0,f=0,g,y=this.get2DCursorLocation(s);o=y.charIndex,d=y.lineIndex;for(var m=0;m<d;m++)c+=this.getHeightOfLine(m);u=this._getLineLeftOffset(d);var x=this.__charBounds[d][o];return x&&(f=x.left),this.charSpacing!==0&&o===this._textLines[d].length&&(f-=this._getWidthOfCharSpacing()),g={top:c,left:u+(f>0?f:0)},this.direction==="rtl"&&(g.left*=-1),this.cursorOffsetCache=g,this.cursorOffsetCache},renderCursor:function(s,u){var d=this.get2DCursorLocation(),o=d.lineIndex,c=d.charIndex>0?d.charIndex-1:0,f=this.getValueOfPropertyAt(o,c,"fontSize"),g=this.scaleX*this.canvas.getZoom(),y=this.cursorWidth/g,m=s.topOffset,x=this.getValueOfPropertyAt(o,c,"deltaY");m+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-f*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(s,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,c,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(s.left+s.leftOffset-y/2,m+s.top+x,y,f)},renderSelection:function(s,u){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=this.textAlign.indexOf("justify")!==-1,f=this.get2DCursorLocation(d),g=this.get2DCursorLocation(o),y=f.lineIndex,m=g.lineIndex,x=f.charIndex<0?0:f.charIndex,S=g.charIndex<0?0:g.charIndex,_=y;_<=m;_++){var k=this._getLineLeftOffset(_)||0,O=this.getHeightOfLine(_),j=0,F=0,z=0;if(_===y&&(F=this.__charBounds[y][x].left),_>=y&&_<m)z=c&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===m)if(S===0)z=this.__charBounds[m][S].left;else{var U=this._getWidthOfCharSpacing();z=this.__charBounds[m][S-1].left+this.__charBounds[m][S-1].width-U}j=O,(this.lineHeight<1||_===m&&this.lineHeight>1)&&(O/=this.lineHeight);var G=s.left+k+F,ie=z-F,se=O,ue=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",se=1,ue=O):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(G=this.width-G-ie),u.fillRect(G,s.top+s.topOffset+ue,ie,se),s.topOffset+=j}},getCurrentCharFontSize:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fontSize")},getCurrentCharColor:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fill")},_getCurrentCharIndex:function(){var s=this.get2DCursorLocation(this.selectionStart,!0),u=s.charIndex>0?s.charIndex-1:0;return{l:s.lineIndex,c:u}}}),t.IText.fromObject=function(s,u){var d=t.util.stylesFromArray(s.styles,s.text),o=Object.assign({},s,{styles:d});if(h(o),o.styles)for(var c in o.styles)for(var f in o.styles[c])h(o.styles[c][f]);t.Object._fromObject("IText",o,u,"text")}}(),function(){var h=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var s=this;this.on("added",function(){var u=s.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,s._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(s))})},initRemovedHandler:function(){var s=this;this.on("removed",function(){var u=s.canvas;u&&(u._iTextInstances=u._iTextInstances||[],t.util.removeFromArray(u._iTextInstances,s),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,s._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(s){s._mouseUpITextHandler=function(){s._iTextInstances&&s._iTextInstances.forEach(function(u){u.__isMousedown=!1})},s.on("mouse:up",s._mouseUpITextHandler)},_removeCanvasHandlers:function(s){s.off("mouse:up",s._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(s,u,d,o){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},s.animate("_currentCursorOpacity",u,{duration:d,onComplete:function(){c.isAborted||s[o]()},onChange:function(){s.canvas&&s.selectionStart===s.selectionEnd&&s.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var s=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){s._currentTickCompleteState=s._animateCursor(s,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(s){var u=this,d=s?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},d)},abortCursorAnimation:function(){var s=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,s&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(s){var u=0,d=s-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)u++,d--;for(;/\S/.test(this._text[d])&&d>-1;)u++,d--;return s-u},findWordBoundaryRight:function(s){var u=0,d=s;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)u++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)u++,d++;return s+u},findLineBoundaryLeft:function(s){for(var u=0,d=s-1;!/\n/.test(this._text[d])&&d>-1;)u++,d--;return s-u},findLineBoundaryRight:function(s){for(var u=0,d=s;!/\n/.test(this._text[d])&&d<this._text.length;)u++,d++;return s+u},searchWordBoundary:function(s,u){for(var d=this._text,o=this._reSpace.test(d[s])?s-1:s,c=d[o],f=t.reNonWord;!f.test(c)&&o>0&&o<d.length;)o+=u,c=d[o];return f.test(c)&&(o+=u===1?0:1),o},selectWord:function(s){s=s||this.selectionStart;var u=this.searchWordBoundary(s,-1),d=this.searchWordBoundary(s,1);this.selectionStart=u,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(s){s=s||this.selectionStart;var u=this.findLineBoundaryLeft(s),d=this.findLineBoundaryRight(s);return this.selectionStart=u,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(s){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(s),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(s){s._iTextInstances&&s._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(s){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var u=this.getSelectionStartFromPointer(s.e),d=this.selectionStart,o=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||d===o)&&(d===u||o===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(s,u,d){var o=d.slice(0,s),c=t.util.string.graphemeSplit(o).length;if(s===u)return{selectionStart:c,selectionEnd:c};var f=d.slice(s,u),g=t.util.string.graphemeSplit(f).length;return{selectionStart:c,selectionEnd:c+g}},fromGraphemeToStringSelection:function(s,u,d){var o=d.slice(0,s),c=o.join("").length;if(s===u)return{selectionStart:c,selectionEnd:c};var f=d.slice(s,u),g=f.join("").length;return{selectionStart:c,selectionEnd:c+g}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var s=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=s.selectionStart,this.hiddenTextarea.selectionEnd=s.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var s=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=s.selectionEnd,this.inCompositionMode||(this.selectionStart=s.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var s=this._calcTextareaPosition();this.hiddenTextarea.style.left=s.left,this.hiddenTextarea.style.top=s.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var s=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(s),d=this.get2DCursorLocation(s),o=d.lineIndex,c=d.charIndex,f=this.getValueOfPropertyAt(o,c,"fontSize")*this.lineHeight,g=u.leftOffset,y=this.calcTransformMatrix(),m={x:u.left+g,y:u.top+u.topOffset+f},x=this.canvas.getRetinaScaling(),S=this.canvas.upperCanvasEl,_=S.width/x,k=S.height/x,O=_-f,j=k-f,F=S.clientWidth/_,z=S.clientHeight/k;return m=t.util.transformPoint(m,y),m=t.util.transformPoint(m,this.canvas.viewportTransform),m.x*=F,m.y*=z,m.x<0&&(m.x=0),m.x>O&&(m.x=O),m.y<0&&(m.y=0),m.y>j&&(m.y=j),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:m.x+"px",top:m.y+"px",fontSize:f+"px",charHeight:f}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var s=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),s&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),s&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var s in this.styles)this._textLines[s]||delete this.styles[s]},removeStyleFromTo:function(s,u){var d=this.get2DCursorLocation(s,!0),o=this.get2DCursorLocation(u,!0),c=d.lineIndex,f=d.charIndex,g=o.lineIndex,y=o.charIndex,m,x;if(c!==g){if(this.styles[c])for(m=f;m<this._unwrappedTextLines[c].length;m++)delete this.styles[c][m];if(this.styles[g])for(m=y;m<this._unwrappedTextLines[g].length;m++)x=this.styles[g][m],x&&(this.styles[c]||(this.styles[c]={}),this.styles[c][f+m-y]=x);for(m=c+1;m<=g;m++)delete this.styles[m];this.shiftLineStyles(g,c-g)}else if(this.styles[c]){x=this.styles[c];var S=y-f,_,k;for(m=f;m<y;m++)delete x[m];for(k in this.styles[c])_=parseInt(k,10),_>=y&&(x[_-S]=x[k],delete x[k])}},shiftLineStyles:function(s,u){var d=h(this.styles);for(var o in this.styles){var c=parseInt(o,10);c>s&&(this.styles[c+u]=d[c],d[c-u]||delete this.styles[c])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(s,u,d,o){var c,f={},g=!1,y=this._unwrappedTextLines[s].length===u;d||(d=1),this.shiftLineStyles(s,d),this.styles[s]&&(c=this.styles[s][u===0?u:u-1]);for(var m in this.styles[s]){var x=parseInt(m,10);x>=u&&(g=!0,f[x-u]=this.styles[s][m],y&&u===0||delete this.styles[s][m])}var S=!1;for(g&&!y&&(this.styles[s+d]=f,S=!0),S&&d--;d>0;)o&&o[d-1]?this.styles[s+d]={0:h(o[d-1])}:c?this.styles[s+d]={0:h(c)}:delete this.styles[s+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(s,u,d,o){this.styles||(this.styles={});var c=this.styles[s],f=c?h(c):{};d||(d=1);for(var g in f){var y=parseInt(g,10);y>=u&&(c[y+d]=f[y],f[y-d]||delete c[y])}if(this._forceClearCache=!0,o){for(;d--;)Object.keys(o[d]).length&&(this.styles[s]||(this.styles[s]={}),this.styles[s][u+d]=h(o[d]));return}if(c)for(var m=c[u?u-1:1];m&&d--;)this.styles[s][u+d]=h(m)},insertNewStyleBlock:function(s,u,d){for(var o=this.get2DCursorLocation(u,!0),c=[0],f=0,g=0;g<s.length;g++)s[g]===`
`?(f++,c[f]=0):c[f]++;c[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,c[0],d),d=d&&d.slice(c[0]+1)),f&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+c[0],f);for(var g=1;g<f;g++)c[g]>0?this.insertCharStyleObject(o.lineIndex+g,0,c[g],d):d&&this.styles[o.lineIndex+g]&&d[0]&&(this.styles[o.lineIndex+g][0]=d[0]),d=d&&d.slice(c[g]+1);c[g]>0&&this.insertCharStyleObject(o.lineIndex+g,0,c[g],d)},setSelectionStartEndWithShift:function(s,u,d){d<=s?(u===s?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=s),this.selectionStart=d):d>s&&d<u?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(u===s?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=d)},setSelectionInBoundaries:function(){var s=this.text.length;this.selectionStart>s?this.selectionStart=s:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>s?this.selectionEnd=s:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(h){if(this.canvas){this.__newClickTime=+new Date;var s=h.pointer;this.isTripleClick(s)&&(this.fire("tripleclick",h),this._stopEvent(h.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=s,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(h){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===h.x&&this.__lastPointer.y===h.y},_stopEvent:function(h){h.preventDefault&&h.preventDefault(),h.stopPropagation&&h.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(h){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(h.e))},tripleClickHandler:function(h){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(h.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(h){!this.canvas||!this.editable||h.e.button&&h.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(h.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(h){!this.canvas||!this.editable||h.e.button&&h.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(h){if(this.__isMousedown=!1,!(!this.editable||this.group||h.transform&&h.transform.actionPerformed||h.e.button&&h.e.button!==1)){if(this.canvas){var s=this.canvas._activeObject;if(s&&s!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(h.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(h){var s=this.getSelectionStartFromPointer(h),u=this.selectionStart,d=this.selectionEnd;h.shiftKey?this.setSelectionStartEndWithShift(u,d,s):(this.selectionStart=s,this.selectionEnd=s),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(h){for(var s=this.getLocalPointer(h),u=0,d=0,o=0,c=0,f=0,g,y,m=0,x=this._textLines.length;m<x&&o<=s.y;m++)o+=this.getHeightOfLine(m)*this.scaleY,f=m,m>0&&(c+=this._textLines[m-1].length+this.missingNewlineOffset(m-1));g=this._getLineLeftOffset(f),d=g*this.scaleX,y=this._textLines[f],this.direction==="rtl"&&(s.x=this.width*this.scaleX-s.x+d);for(var S=0,_=y.length;S<_&&(u=d,d+=this.__charBounds[f][S].kernedWidth*this.scaleX,d<=s.x);S++)c++;return this._getNewSelectionStartFromOffset(s,u,d,c,_)},_getNewSelectionStartFromOffset:function(h,s,u,d,o){var c=h.x-s,f=u-h.x,g=f>c||f<0?0:1,y=d+g;return this.flipX&&(y=o-y),y>this._text.length&&(y=this._text.length),y}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var h=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+h.top+"; left: "+h.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+h.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(h){if(this.isEditing){var s=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(h.keyCode in s)this[s[h.keyCode]](h);else if(h.keyCode in this.ctrlKeysMapDown&&(h.ctrlKey||h.metaKey))this[this.ctrlKeysMapDown[h.keyCode]](h);else return;h.stopImmediatePropagation(),h.preventDefault(),h.keyCode>=33&&h.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(h){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(h.keyCode in this.ctrlKeysMapUp&&(h.ctrlKey||h.metaKey))this[this.ctrlKeysMapUp[h.keyCode]](h);else return;h.stopImmediatePropagation(),h.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(h){var s=this.fromPaste;if(this.fromPaste=!1,h&&h.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,o=u.length,c,f,g=o-d,y=this.selectionStart,m=this.selectionEnd,x=y!==m,S,_,k;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var O=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),j=y>O.selectionStart;x?(c=this._text.slice(y,m),g+=m-y):o<d&&(j?c=this._text.slice(m+g,m):c=this._text.slice(y,y-g)),f=u.slice(O.selectionEnd-g,O.selectionEnd),c&&c.length&&(f.length&&(S=this.getSelectionStyles(y,y+1,!1),S=f.map(function(){return S[0]})),x?(_=y,k=m):j?(_=m-c.length,k=m):(_=m,k=m+c.length),this.removeStyleFromTo(_,k)),f.length&&(s&&f.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(S=t.copiedTextStyle),this.insertNewStyleBlock(f,y,S)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(h){this.compositionStart=h.target.selectionStart,this.compositionEnd=h.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(h){return h&&h.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(h,s){var u=this._getLineLeftOffset(h),d;return s>0&&(d=this.__charBounds[h][s-1],u+=d.left+d.width),u},getDownCursorOffset:function(h,s){var u=this._getSelectionForOffset(h,s),d=this.get2DCursorLocation(u),o=d.lineIndex;if(o===this._textLines.length-1||h.metaKey||h.keyCode===34)return this._text.length-u;var c=d.charIndex,f=this._getWidthBeforeCursor(o,c),g=this._getIndexOnLine(o+1,f),y=this._textLines[o].slice(c);return y.length+g+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(h,s){return h.shiftKey&&this.selectionStart!==this.selectionEnd&&s?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(h,s){var u=this._getSelectionForOffset(h,s),d=this.get2DCursorLocation(u),o=d.lineIndex;if(o===0||h.metaKey||h.keyCode===33)return-u;var c=d.charIndex,f=this._getWidthBeforeCursor(o,c),g=this._getIndexOnLine(o-1,f),y=this._textLines[o].slice(0,c),m=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+g-y.length+(1-m)},_getIndexOnLine:function(h,s){for(var u=this._textLines[h],d=this._getLineLeftOffset(h),o=d,c=0,f,g,y=0,m=u.length;y<m;y++)if(f=this.__charBounds[h][y].width,o+=f,o>s){g=!0;var x=o-f,S=o,_=Math.abs(x-s),k=Math.abs(S-s);c=k<_?y:y-1;break}return g||(c=u.length-1),c},moveCursorDown:function(h){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",h)},moveCursorUp:function(h){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",h)},_moveCursorUpOrDown:function(h,s){var u="get"+h+"CursorOffset",d=this[u](s,this._selectionDirection==="right");s.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(h){var s=this._selectionDirection==="left"?this.selectionStart+h:this.selectionEnd+h;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,s),h!==0},moveCursorWithoutShift:function(h){return h<0?(this.selectionStart+=h,this.selectionEnd=this.selectionStart):(this.selectionEnd+=h,this.selectionStart=this.selectionEnd),h!==0},moveCursorLeft:function(h){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",h)},_move:function(h,s,u){var d;if(h.altKey)d=this["findWordBoundary"+u](this[s]);else if(h.metaKey||h.keyCode===35||h.keyCode===36)d=this["findLineBoundary"+u](this[s]);else return this[s]+=u==="Left"?-1:1,!0;if(typeof d<"u"&&this[s]!==d)return this[s]=d,!0},_moveLeft:function(h,s){return this._move(h,s,"Left")},_moveRight:function(h,s){return this._move(h,s,"Right")},moveCursorLeftWithoutShift:function(h){var s=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(s=this._moveLeft(h,"selectionStart")),this.selectionEnd=this.selectionStart,s},moveCursorLeftWithShift:function(h){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(h,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(h,"selectionStart")},moveCursorRight:function(h){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",h)},_moveCursorLeftOrRight:function(h,s){var u="moveCursor"+h+"With";this._currentCursorOpacity=1,s.shiftKey?u+="Shift":u+="outShift",this[u](s)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(h){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(h,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(h,"selectionEnd")},moveCursorRightWithoutShift:function(h){var s=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(s=this._moveRight(h,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,s},removeChars:function(h,s){typeof s>"u"&&(s=h+1),this.removeStyleFromTo(h,s),this._text.splice(h,s-h),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(h,s,u,d){typeof d>"u"&&(d=u),d>u&&this.removeStyleFromTo(u,d);var o=t.util.string.graphemeSplit(h);this.insertNewStyleBlock(o,u,s),this._text=[].concat(this._text.slice(0,u),o,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var h=t.util.toFixed,s=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var u=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(u.textTop,u.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(u){var d=!0,o=this.getSvgTextDecoration(this);return[u.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",u.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(u,d){var o=[],c=[],f=u,g;this._setSVGBg(c);for(var y=0,m=this._textLines.length;y<m;y++)g=this._getLineLeftOffset(y),(this.textBackgroundColor||this.styleHas("textBackgroundColor",y))&&this._setSVGTextLineBg(c,y,d+g,f),this._setSVGTextLineText(o,y,d+g,f),f+=this.getHeightOfLine(y);return{textSpans:o,textBgRects:c}},_createTextCharSpan:function(u,d,o,c){var f=u!==u.trim()||u.match(s),g=this.getSvgSpanStyles(d,f),y=g?'style="'+g+'"':"",m=d.deltaY,x="",S=t.Object.NUM_FRACTION_DIGITS;return m&&(x=' dy="'+h(m,S)+'" '),['<tspan x="',h(o,S),'" y="',h(c,S),'" ',x,y,">",t.util.string.escapeXml(u),"</tspan>"].join("")},_setSVGTextLineText:function(u,d,o,c){var f=this.getHeightOfLine(d),g=this.textAlign.indexOf("justify")!==-1,y,m,x="",S,_,k=0,O=this._textLines[d],j;c+=f*(1-this._fontSizeFraction)/this.lineHeight;for(var F=0,z=O.length-1;F<=z;F++)j=F===z||this.charSpacing,x+=O[F],S=this.__charBounds[d][F],k===0?(o+=S.kernedWidth-S.width,k+=S.width):k+=S.kernedWidth,g&&!j&&this._reSpaceAndTab.test(O[F])&&(j=!0),j||(y=y||this.getCompleteStyleDeclaration(d,F),m=this.getCompleteStyleDeclaration(d,F+1),j=t.util.hasStyleChanged(y,m,!0)),j&&(_=this._getStyleDeclaration(d,F)||{},u.push(this._createTextCharSpan(x,_,o,c)),x="",y=m,o+=k,k=0)},_pushTextBgRect:function(u,d,o,c,f,g){var y=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(d),' x="',h(o,y),'" y="',h(c,y),'" width="',h(f,y),'" height="',h(g,y),`"></rect>
`)},_setSVGTextLineBg:function(u,d,o,c){for(var f=this._textLines[d],g=this.getHeightOfLine(d)/this.lineHeight,y=0,m=0,x,S,_=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),k=0,O=f.length;k<O;k++)x=this.__charBounds[d][k],S=this.getValueOfPropertyAt(d,k,"textBackgroundColor"),S!==_?(_&&this._pushTextBgRect(u,_,o+m,c,y,g),m=x.left,y=x.width,_=S):y+=x.kernedWidth;S&&this._pushTextBgRect(u,S,o+m,c,y,g)},_getFillAttributes:function(u){var d=u&&typeof u=="string"?new t.Color(u):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+u+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(u){for(var d=0,o=0,c=0;c<u;c++)d+=this.getHeightOfLine(c);return o=this.getHeightOfLine(c),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(u){var d=t.Object.prototype.getSvgStyles.call(this,u);return d+" white-space: pre;"}})}(),function(h){var s=h.fabric||(h.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var d=0,o=0,c=0,f={},g=0;g<u.graphemeLines.length;g++)u.graphemeText[c]===`
`&&g>0?(o=0,c++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[c])&&g>0&&(o++,c++),f[g]={line:d,offset:o},c+=u.graphemeLines[g].length,o+=u.graphemeLines[g].length;return f},styleHas:function(u,d){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[d];o&&(d=o.line)}return s.Text.prototype.styleHas.call(this,u,d)},isEmptyStyles:function(u){if(!this.styles)return!0;var d=0,o=u+1,c,f,g=!1,y=this._styleMap[u],m=this._styleMap[u+1];y&&(u=y.line,d=y.offset),m&&(o=m.line,g=o===u,c=m.offset),f=typeof u>"u"?this.styles:{line:this.styles[u]};for(var x in f)for(var S in f[x])if(S>=d&&(!g||S<c))for(var _ in f[x][S])return!1;return!0},_getStyleDeclaration:function(u,d){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[u];if(!o)return null;u=o.line,d=o.offset+d}return this.callSuper("_getStyleDeclaration",u,d)},_setStyleDeclaration:function(u,d,o){var c=this._styleMap[u];u=c.line,d=c.offset+d,this.styles[u][d]=o},_deleteStyleDeclaration:function(u,d){var o=this._styleMap[u];u=o.line,d=o.offset+d,delete this.styles[u][d]},_getLineStyle:function(u){var d=this._styleMap[u];return!!this.styles[d.line]},_setLineStyle:function(u){var d=this._styleMap[u];this.styles[d.line]={}},_wrapText:function(u,d){var o=[],c;for(this.isWrapping=!0,c=0;c<u.length;c++)o=o.concat(this._wrapLine(u[c],c,d));return this.isWrapping=!1,o},_measureWord:function(u,d,o){var c=0,f,g=!0;o=o||0;for(var y=0,m=u.length;y<m;y++){var x=this._getGraphemeBox(u[y],d,y+o,f,g);c+=x.kernedWidth,f=u[y]}return c},_wrapLine:function(u,d,o,G){var f=0,g=this.splitByGrapheme,y=[],m=[],x=g?s.util.string.graphemeSplit(u):u.split(this._wordJoiners),S="",_=0,k=g?"":" ",O=0,j=0,F=0,z=!0,U=this._getWidthOfCharSpacing(),G=G||0;x.length===0&&x.push([]),o-=G;for(var ie=0;ie<x.length;ie++)S=g?x[ie]:s.util.string.graphemeSplit(x[ie]),O=this._measureWord(S,d,_),_+=S.length,f+=j+O-U,f>o&&!z?(y.push(m),m=[],f=O,z=!0):f+=U,!z&&!g&&m.push(k),m=m.concat(S),j=g?0:this._measureWord([k],d,_),_++,z=!1,O>F&&(F=O);return ie&&y.push(m),F+G>this.dynamicMinWidth&&(this.dynamicMinWidth=F-U+G),y},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u){return this.splitByGrapheme?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var d=s.Text.prototype._splitTextIntoLines.call(this,u),o=this._wrapText(d.lines,this.width),c=new Array(o.length),f=0;f<o.length;f++)c[f]=o[f].join("");return d.lines=c,d.graphemeLines=o,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var d in this._styleMap)this._textLines[d]&&(u[this._styleMap[d].line]=1);for(var d in this.styles)u[d]||delete this.styles[d]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),s.Textbox.fromObject=function(u,d){var o=s.util.stylesFromArray(u.styles,u.text),c=Object.assign({},u,{styles:o});return s.Object._fromObject("Textbox",c,d,"text")}}(e),function(){var h=t.controlsUtils,s=h.scaleSkewCursorStyleHandler,u=h.scaleCursorStyleHandler,d=h.scalingEqually,o=h.scalingYOrSkewingX,c=h.scalingXOrSkewingY,f=h.scaleOrSkewActionName,g=t.Object.prototype.controls;if(g.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:c,getActionName:f}),g.mr=new t.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:c,getActionName:f}),g.mb=new t.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:o,getActionName:f}),g.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:o,getActionName:f}),g.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:u,actionHandler:d}),g.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:u,actionHandler:d}),g.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:u,actionHandler:d}),g.br=new t.Control({x:.5,y:.5,cursorStyleHandler:u,actionHandler:d}),g.mtr=new t.Control({x:0,y:-.5,actionHandler:h.rotationWithSnapping,cursorStyleHandler:h.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var y=t.Textbox.prototype.controls={};y.mtr=g.mtr,y.tr=g.tr,y.br=g.br,y.tl=g.tl,y.bl=g.bl,y.mt=g.mt,y.mb=g.mb,y.mr=new t.Control({x:.5,y:0,actionHandler:h.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),y.ml=new t.Control({x:-.5,y:0,actionHandler:h.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()}(Td)),Td}var st=zN();const VN=({canvas:e,isActive:t,brushColor:r="#ff0000",brushWidth:a=5})=>{const p=D.useRef(null);return Le.useEffect(()=>{e&&t&&(p.current=new st.fabric.PencilBrush(e),p.current.width=a,p.current.color=r,e.isDrawingMode=!0,e.freeDrawingBrush=p.current,e.contextTop&&(e.contextTop.globalCompositeOperation="source-over"),console.log("🖌️ Brush tool activated"))},[e,t,r,a]),Le.useEffect(()=>{e&&!t&&(e.isDrawingMode=!1,console.log("🖌️ Brush tool deactivated"))},[e,t]),E.jsxs("div",{className:"brush-tool",children:[E.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Brush Tool - Draw freely"}),E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("label",{className:"text-xs",children:"Color:"}),E.jsx("input",{type:"color",value:r,onChange:b=>{p.current&&(p.current.color=b.target.value)},className:"w-8 h-6 rounded border"}),E.jsx("label",{className:"text-xs",children:"Width:"}),E.jsx("input",{type:"range",min:"1",max:"20",value:a,onChange:b=>{p.current&&(p.current.width=parseInt(b.target.value))},className:"w-20"}),E.jsxs("span",{className:"text-xs",children:[a,"px"]})]})]})};D.forwardRef(({canvas:e,isActive:t},r)=>{const[a,p]=Le.useState(20),[b,w]=Le.useState(!1),h=D.useRef(!1),s=D.useRef(null);return D.useImperativeHandle(r,()=>({togglePanel:()=>w(u=>!u),showPanel:()=>w(!0),hidePanel:()=>w(!1)})),Le.useEffect(()=>{if(e&&t){e.isDrawingMode=!1,e.selection=!1,e.defaultCursor="crosshair",e.hoverCursor="crosshair";const u=x=>{h.current=!0;const S=e.getPointer(x.e);f(S)},d=x=>{const S=e.getPointer(x.e);y(S),h.current&&f(S)},o=()=>{h.current=!1},c=()=>{h.current=!1,m()},f=x=>{const S=e.getObjects(),_=[];S.forEach(k=>{k===e.backgroundImage||k===s.current||g(k,x,a/2)&&_.push(k)}),_.forEach(k=>{e.remove(k)}),_.length>0&&e.renderAll()},g=(x,S,_)=>{const k=x.getBoundingRect(),O=k.left+k.width/2,j=k.top+k.height/2,F=Math.sqrt(Math.pow(S.x-O,2)+Math.pow(S.y-j,2)),z=Math.max(k.width,k.height)/2;return F<_+z},y=x=>{s.current&&e.remove(s.current),s.current=new st.fabric.Circle({left:x.x-a/2,top:x.y-a/2,radius:a/2,fill:"transparent",stroke:"#ff0000",strokeWidth:2,strokeDashArray:[5,5],selectable:!1,evented:!1,excludeFromExport:!0}),e.add(s.current),e.renderAll()},m=()=>{s.current&&(e.remove(s.current),s.current=null,e.renderAll())};return e.on("mouse:down",u),e.on("mouse:move",d),e.on("mouse:up",o),e.on("mouse:leave",c),console.log("🧹 Eraser tool activated"),()=>{e.off("mouse:down",u),e.off("mouse:move",d),e.off("mouse:up",o),e.off("mouse:leave",c),m()}}else e&&!t&&(e.isDrawingMode=!1,e.selection=!0,e.defaultCursor="default",e.hoverCursor="move",s.current&&(e.remove(s.current),s.current=null,e.renderAll()),console.log("🧹 Eraser tool deactivated"))},[e,t,a]),E.jsx("div",{className:"eraser-tool p-3 border-t border-gray-200",children:b?E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"🧹 Eraser Tool"}),E.jsx("button",{onClick:()=>w(!1),className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:"✕"})]}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("label",{className:"block text-xs text-gray-600 mb-1",children:["Size: ",a,"px"]}),E.jsx("input",{type:"range",min:"10",max:"100",value:a,onChange:u=>{p(parseInt(u.target.value))},className:"w-full"})]}),E.jsx("div",{className:"mb-3 flex justify-center",children:E.jsx("div",{className:"border-2 border-dashed border-red-400 rounded-full bg-red-50",style:{width:`${Math.min(a,60)}px`,height:`${Math.min(a,60)}px`}})}),E.jsx("button",{onClick:()=>{e&&(e.getObjects().slice().forEach(d=>{d!==e.backgroundImage&&e.remove(d)}),e.renderAll(),console.log("🧹 All objects cleared"))},className:"w-full px-3 py-2 bg-red-500 text-white rounded text-sm hover:bg-red-600",children:"Clear All"})]}):E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"🧹 Eraser Active"}),E.jsx("button",{onClick:()=>w(!0),className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",children:"Settings"})]})})});const UN=({canvas:e,isActive:t,lineColor:r="#ff0000",lineWidth:a=2})=>{const p=D.useRef(!1),b=D.useRef(null),w=D.useCallback(u=>{if(!e||!t)return;const d=e.getPointer(u.e),o=new st.fabric.Line([d.x,d.y,d.x,d.y],{stroke:r,strokeWidth:a,selectable:!0,evented:!0});e.add(o),e.setActiveObject(o),b.current=o,p.current=!0,console.log("📏 Line started at:",d)},[e,t,r,a]),h=D.useCallback(u=>{if(!e||!t||!p.current||!b.current)return;const d=e.getPointer(u.e);b.current.set({x2:d.x,y2:d.y}),e.renderAll()},[e,t]),s=D.useCallback(()=>{!e||!t||(p.current=!1,b.current=null,console.log("📏 Line finished"))},[e,t]);return Le.useEffect(()=>{if(e&&t)return e.isDrawingMode=!1,e.selection=!1,e.on("mouse:down",w),e.on("mouse:move",h),e.on("mouse:up",s),()=>{e.off("mouse:down",w),e.off("mouse:move",h),e.off("mouse:up",s)}},[e,t,w,h,s]),Le.useEffect(()=>{e&&!t&&(e.selection=!0,console.log("📏 Line tool deactivated"))},[e,t]),E.jsxs("div",{className:"line-tool",children:[E.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Line Tool - Click and drag to draw lines"}),E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("label",{className:"text-xs",children:"Color:"}),E.jsx("input",{type:"color",value:r,onChange:u=>{},className:"w-8 h-6 rounded border"}),E.jsx("label",{className:"text-xs",children:"Width:"}),E.jsx("input",{type:"range",min:"1",max:"10",value:a,onChange:u=>{},className:"w-20"}),E.jsxs("span",{className:"text-xs",children:[a,"px"]})]})]})},HN=({canvas:e,isActive:t})=>{const r=D.useRef(!1),a=D.useRef(null),p=D.useCallback(h=>{if(!e||!t)return;const s=e.getPointer(h.e),u=e.findTarget(h.e);u&&u!==e.backgroundImage&&(e.setActiveObject(u),r.current=!0,a.current=s,console.log("🖱️ Moving object:",u.type))},[e,t]),b=D.useCallback(h=>{if(!e||!t||!r.current)return;const s=e.getPointer(h.e),u=e.getActiveObject();if(u){const d=s.x-a.current.x,o=s.y-a.current.y;u.set({left:u.left+d,top:u.top+o}),e.renderAll(),a.current=s}},[e,t]),w=D.useCallback(()=>{!e||!t||(r.current=!1,a.current=null,console.log("🖱️ Move finished"))},[e,t]);return Le.useEffect(()=>{if(e&&t)return e.isDrawingMode=!1,e.selection=!0,e.on("mouse:down",p),e.on("mouse:move",b),e.on("mouse:up",w),()=>{e.off("mouse:down",p),e.off("mouse:move",b),e.off("mouse:up",w)}},[e,t,p,b,w]),Le.useEffect(()=>{e&&!t&&console.log("🖱️ Move tool deactivated")},[e,t]),E.jsxs("div",{className:"move-tool",children:[E.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Move Tool - Click and drag to move objects"}),E.jsx("div",{className:"text-xs text-gray-500",children:"Click on any object to select and move it"})]})},IN=D.forwardRef(({canvas:e,isActive:t},r)=>{const[a,p]=D.useState(!1),[b,w]=D.useState(!1),[h,s]=D.useState("free"),[u,d]=D.useState(!1),[o,c]=D.useState(null),[f,g]=D.useState(null),[y,m]=D.useState(!1),x=D.useRef(null),S=D.useRef([]),_=D.useCallback(()=>{if(!(e!=null&&e.backgroundImage))return;const ee=e.backgroundImage,X=ee._element||ee._originalElement;X&&(g({src:X.src,canvasWidth:e.width,canvasHeight:e.height,imageScaleX:ee.scaleX,imageScaleY:ee.scaleY,imageLeft:ee.left,imageTop:ee.top}),m(!0))},[e]),k=D.useCallback(()=>{if(!e||!f)return;e.setWidth(f.canvasWidth),e.setHeight(f.canvasHeight);const ee=e.getElement();ee&&(ee.width=f.canvasWidth,ee.height=f.canvasHeight,ee.style.width=`${f.canvasWidth}px`,ee.style.height=`${f.canvasHeight}px`),st.fabric.Image.fromURL(f.src,X=>{X.set({left:f.imageLeft,top:f.imageTop,scaleX:f.imageScaleX,scaleY:f.imageScaleY,selectable:!1,evented:!1}),e.setBackgroundImage(X,()=>{e.renderAll(),m(!1),g(null),window.dispatchEvent(new CustomEvent("canvasResized",{detail:{width:f.canvasWidth,height:f.canvasHeight,canvas:e}}))})})},[e,f]),O=D.useCallback(()=>{x.current&&e&&(S.current.forEach(ee=>e.remove(ee)),S.current=[],e.remove(x.current),x.current=null,e.renderAll())},[e]),j=D.useCallback(ee=>{if(!e)return;const X={left:0,top:0,width:e.width,height:e.height},W=ee.width*ee.scaleX,Y=ee.height*ee.scaleY,P=[new st.fabric.Rect({left:X.left,top:X.top,width:X.width,height:Math.max(0,ee.top-X.top),fill:"rgba(0,0,0,0.5)",selectable:!1,evented:!1,excludeFromExport:!0}),new st.fabric.Rect({left:X.left,top:ee.top+Y,width:X.width,height:Math.max(0,X.height-(ee.top+Y)),fill:"rgba(0,0,0,0.5)",selectable:!1,evented:!1,excludeFromExport:!0}),new st.fabric.Rect({left:X.left,top:ee.top,width:Math.max(0,ee.left-X.left),height:Y,fill:"rgba(0,0,0,0.5)",selectable:!1,evented:!1,excludeFromExport:!0}),new st.fabric.Rect({left:ee.left+W,top:ee.top,width:Math.max(0,X.width-(ee.left+W)),height:Y,fill:"rgba(0,0,0,0.5)",selectable:!1,evented:!1,excludeFromExport:!0})];P.forEach(A=>e.add(A)),S.current=P},[e]),F=D.useCallback((ee,X,W,Y)=>{if(!e)return;O(),x.current=new st.fabric.Rect({left:ee,top:X,width:W,height:Y,fill:"transparent",stroke:"#007bff",strokeWidth:2,strokeDashArray:[5,5],selectable:!0,evented:!0,lockRotation:!0,borderColor:"#007bff",cornerColor:"#007bff",cornerSize:12,transparentCorners:!1}),e.add(x.current),j(x.current);const P=()=>j(x.current);x.current.on("moving",P),x.current.on("scaling",P),e.setActiveObject(x.current),e.renderAll()},[e,O,j]),z=D.useCallback(()=>{if(!e||!t)return;w(!0),e.isDrawingMode=!1,e.selection=!1,e.defaultCursor="crosshair",e.hoverCursor="crosshair";const ee=e.width*.25,X=e.height*.25,W=e.width*.5,Y=e.height*.5;F(ee,X,W,Y)},[e,t,F]),U=D.useCallback(()=>{w(!1),O(),e.selection=!0,e.defaultCursor="default",e.hoverCursor="move"},[O,e]),G=D.useCallback(()=>{if(!x.current||!(e!=null&&e.backgroundImage))return;const ee=x.current,X=e.backgroundImage,W=X._element||X._originalElement;if(!W)return;_();const Y=ee.width*ee.scaleX,P=ee.height*ee.scaleY,A=W.naturalWidth||W.width,M=W.naturalHeight||W.height,B=A/e.width,H=M/e.height,N={left:ee.left*B,top:ee.top*H,width:Y*B,height:P*H},L={left:Math.max(0,Math.min(N.left,A)),top:Math.max(0,Math.min(N.top,M)),width:Math.min(N.width,A-Math.max(0,N.left)),height:Math.min(N.height,M-Math.max(0,N.top))},I=document.createElement("canvas");I.width=Math.max(1,Math.round(L.width)),I.height=Math.max(1,Math.round(L.height));const Z=I.getContext("2d");Z.imageSmoothingEnabled=!0,Z.imageSmoothingQuality="high",Z.drawImage(W,Math.round(L.left),Math.round(L.top),Math.round(L.width),Math.round(L.height),0,0,Math.round(L.width),Math.round(L.height)),st.fabric.Image.fromURL(I.toDataURL(),te=>{const ne=Y/2,me=P/2;te.set({left:ne,top:me,originX:"center",originY:"center",scaleX:1,scaleY:1,selectable:!1,evented:!1}),e.setWidth(Y),e.setHeight(P);const xe=e.getElement();xe&&(xe.width=Y,xe.height=P,xe.style.width=`${Y}px`,xe.style.height=`${P}px`),e.setBackgroundImage(te,()=>{e.renderAll(),U(),window.dispatchEvent(new CustomEvent("canvasResized",{detail:{width:Y,height:P,canvas:e}}))})})},[e,_,U]),ie=D.useCallback(ee=>{if(!b||h!=="free"||!e)return;const X=e.getPointer(ee.e);d(!0),c(X),O()},[b,h,e,O]),se=D.useCallback(ee=>{if(!b||h!=="free"||!u||!o||!e)return;const X=e.getPointer(ee.e),W=Math.min(o.x,X.x),Y=Math.min(o.y,X.y),P=Math.abs(X.x-o.x),A=Math.abs(X.y-o.y);P>10&&A>10&&(O(),F(W,Y,P,A))},[b,h,u,o,e,O,F]),ue=D.useCallback(ee=>{!b||h!=="free"||!u||!e||(d(!1),c(null),x.current&&(x.current.set({selectable:!0,evented:!0}),e.renderAll()))},[b,h,u,e]);D.useImperativeHandle(r,()=>({togglePanel:()=>p(ee=>!ee),showPanel:()=>p(!0),hidePanel:()=>p(!1),startCrop:z,cancelCrop:U,undoCrop:k,canUndo:y}),[z,U,k,y]),D.useEffect(()=>{e&&t&&z()},[e,t,z]),D.useEffect(()=>{if(!(!e||!b))return h==="free"&&(e.on("mouse:down",ie),e.on("mouse:move",se),e.on("mouse:up",ue)),()=>{e.off("mouse:down",ie),e.off("mouse:move",se),e.off("mouse:up",ue)}},[e,b,h,ie,se,ue]);const le=[{value:"free",label:"Free",icon:Zs},{value:"square",label:"1:1",icon:To},{value:"16:9",label:"16:9",icon:To},{value:"4:3",label:"4:3",icon:To}];return E.jsx("div",{className:"crop-tool p-3 border-t border-gray-200 bg-white shadow-lg",children:!a&&!b?E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"🔲 Crop Tool"}),E.jsx("button",{onClick:()=>p(!0),className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",children:"Settings"})]}):b?E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("span",{className:"text-sm font-medium text-blue-700",children:"🔲 Crop Mode Active"}),E.jsxs("div",{className:"flex gap-1",children:[y&&E.jsx("button",{onClick:k,className:"px-2 py-1 bg-orange-500 text-white rounded text-xs hover:bg-orange-600",title:"Undo Last Crop",children:E.jsx(B0,{size:12})}),E.jsx("button",{onClick:G,className:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600",title:"Apply Crop",children:E.jsx(lE,{size:12})}),E.jsx("button",{onClick:U,className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",title:"Cancel",children:E.jsx(gu,{size:12})})]})]}),E.jsx("div",{className:"text-xs text-blue-600 mb-2",children:h==="free"?"Click and drag to draw crop area, then drag to adjust. Click ✓ to apply or ✕ to cancel.":"Drag the crop area to adjust. Click ✓ to apply or ✕ to cancel."}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Aspect Ratio"}),E.jsx("div",{className:"grid grid-cols-2 gap-1",children:le.map(ee=>E.jsx("button",{onClick:()=>{s(ee.value),x.current&&(O(),z())},className:`px-2 py-1 text-xs rounded ${h===ee.value?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ee.label},ee.value))})]})]}):E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"🔲 Crop Tool"}),E.jsx("button",{onClick:()=>p(!1),className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:"✕"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("button",{onClick:z,className:"w-full flex items-center justify-center gap-2 py-2 px-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:[E.jsx(ww,{size:16}),E.jsx("span",{className:"text-sm",children:"Start Crop"})]}),y&&E.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 py-2 px-3 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors mt-2",children:[E.jsx(B0,{size:16}),E.jsx("span",{className:"text-sm",children:"Undo Last Crop"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"Aspect Ratio"}),E.jsx("div",{className:"grid grid-cols-2 gap-1",children:le.map(ee=>{const X=ee.icon;return E.jsxs("button",{onClick:()=>s(ee.value),className:`flex items-center gap-1 px-2 py-1 text-xs rounded ${h===ee.value?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[E.jsx(X,{size:12}),ee.label]},ee.value)})})]})]})})}),YN=D.forwardRef(({canvas:e,isActive:t},r)=>{const[a,p]=D.useState(!1),[b,w]=D.useState(100),[h,s]=D.useState(!1),[u,d]=D.useState(null),[o,c]=D.useState(null),f=[25,50,75,100,125,150,200,300,400,500],g=D.useCallback(()=>{e&&c({zoom:e.getZoom(),viewportTransform:e.viewportTransform.slice()})},[e]),y=D.useCallback(()=>{e&&(g(),e.setViewportTransform([1,0,0,1,0,0]),e.setZoom(1),w(100),e.renderAll())},[e,g]),m=D.useCallback(()=>{if(!e)return;g();const G=e.getZoom(),ie=Math.min(G*1.2,5);e.setZoom(ie),w(Math.round(ie*100)),e.renderAll()},[e,g]),x=D.useCallback(()=>{if(!e)return;g();const G=e.getZoom(),ie=Math.max(G/1.2,.1);e.setZoom(ie),w(Math.round(ie*100)),e.renderAll()},[e,g]),S=D.useCallback(G=>{if(!e)return;g();const ie=G/100;e.setZoom(ie),w(G),e.renderAll()},[e,g]),_=D.useCallback(()=>{e&&(s(!0),e.defaultCursor="grab",e.hoverCursor="grab",e.selection=!1,e.isDrawingMode=!1,g())},[e,g]),k=D.useCallback(()=>{e&&(s(!1),e.defaultCursor="default",e.hoverCursor="move",e.selection=!0)},[e]),O=D.useCallback(G=>{if(!h||!e)return;const ie=e.getPointer(G.e);d(ie),e.defaultCursor="grabbing"},[h,e]),j=D.useCallback(G=>{if(!h||!u||!e)return;const ie=e.getPointer(G.e),se=ie.x-u.x,ue=ie.y-u.y,le=e.viewportTransform.slice();le[4]+=se,le[5]+=ue,e.setViewportTransform(le),e.renderAll(),d(ie)},[h,u,e]),F=D.useCallback(()=>{h&&(d(null),e.defaultCursor="grab")},[h,e]),z=D.useCallback(G=>{if(!e)return;G.preventDefault();const ie=G.deltaY,se=e.getZoom(),ue=Math.max(.1,Math.min(5,se-ie*.001));g(),e.setZoom(ue),w(Math.round(ue*100)),e.renderAll()},[e,g]),U=D.useCallback(()=>{!e||!o||(e.setZoom(o.zoom),e.setViewportTransform(o.viewportTransform),w(Math.round(o.zoom*100)),e.renderAll())},[e,o]);return D.useImperativeHandle(r,()=>({togglePanel:()=>p(G=>!G),showPanel:()=>p(!0),hidePanel:()=>p(!1),zoomIn:m,zoomOut:x,resetZoom:y,setZoom:S,startPan:_,stopPan:k,undoZoom:U,canUndo:!!o}),[m,x,y,S,_,k,U,o]),D.useEffect(()=>{if(!(!e||!h))return e.on("mouse:down",O),e.on("mouse:move",j),e.on("mouse:up",F),()=>{e.off("mouse:down",O),e.off("mouse:move",j),e.off("mouse:up",F)}},[e,h,O,j,F]),D.useEffect(()=>{if(e)return e.on("mouse:wheel",z),()=>{e.off("mouse:wheel",z)}},[e,z]),D.useEffect(()=>{if(!e)return;const G=()=>{y()};return e.on("mouse:dblclick",G),()=>{e.off("mouse:dblclick",G)}},[e,y]),D.useEffect(()=>{if(!e)return;const G=()=>{const ie=e.getZoom();w(Math.round(ie*100))};return e.on("mouse:wheel",G),()=>{e.off("mouse:wheel",G)}},[e]),E.jsx("div",{className:"zoom-tool p-3 border-t border-gray-200 bg-white shadow-lg",children:!a&&!h?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"🔍 Zoom Tool"}),E.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[b,"%"]})]}),E.jsx("button",{onClick:()=>p(!0),className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",children:"Settings"})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:x,className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 bg-gray-500 text-white rounded-lg text-sm font-medium hover:bg-gray-600 transition-colors",children:[E.jsx(Qh,{size:16}),E.jsx("span",{children:"Zoom Out"})]}),E.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors",children:[E.jsx(Co,{size:16}),E.jsx("span",{children:"Zoom In"})]})]}),E.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 py-2 px-3 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600 transition-colors",children:[E.jsx(Zs,{size:16}),E.jsx("span",{children:"Fit to Screen"})]}),E.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center gap-2 py-2 px-3 bg-orange-500 text-white rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors",children:[E.jsx(Rd,{size:16}),E.jsx("span",{children:"Pan Mode"})]})]}):h?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),E.jsx("span",{className:"text-sm font-semibold text-orange-700",children:"Pan Mode Active"})]}),E.jsx("button",{onClick:k,className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:"Exit Pan"})]}),E.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:E.jsxs("p",{className:"text-xs text-orange-700",children:[E.jsx("strong",{children:"Click and drag"})," to pan around the canvas.",E.jsx("br",{}),E.jsx("strong",{children:"Mouse wheel"})," to zoom in/out.",E.jsx("br",{}),E.jsx("strong",{children:"Double-click"})," to fit to screen."]})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:x,className:"flex-1 flex items-center justify-center gap-1 py-1.5 px-2 bg-gray-500 text-white rounded text-xs hover:bg-gray-600",children:[E.jsx(Qh,{size:12}),E.jsx("span",{children:"Zoom Out"})]}),E.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-1 py-1.5 px-2 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",children:[E.jsx(Co,{size:12}),E.jsx("span",{children:"Zoom In"})]}),E.jsxs("button",{onClick:y,className:"flex-1 flex items-center justify-center gap-1 py-1.5 px-2 bg-green-500 text-white rounded text-xs hover:bg-green-600",children:[E.jsx(Zs,{size:12}),E.jsx("span",{children:"Fit"})]})]})]}):E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center",children:E.jsx(Co,{size:14,className:"text-blue-600"})}),E.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Zoom & Pan Controls"})]}),E.jsx("button",{onClick:()=>p(!1),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",children:"✕"})]}),E.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Zoom"}),E.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[b,"%"]})]})}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:x,className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 bg-gray-500 text-white rounded-lg text-sm font-medium hover:bg-gray-600 transition-colors",children:[E.jsx(Qh,{size:16}),E.jsx("span",{children:"Zoom Out"})]}),E.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors",children:[E.jsx(Co,{size:16}),E.jsx("span",{children:"Zoom In"})]})]}),E.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 py-2 px-3 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600 transition-colors",children:[E.jsx(Zs,{size:16}),E.jsx("span",{children:"Fit to Screen"})]}),E.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center gap-2 py-2 px-3 bg-orange-500 text-white rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors",children:[E.jsx(Rd,{size:16}),E.jsx("span",{children:"Pan Mode"})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quick Zoom"}),E.jsx("div",{className:"grid grid-cols-5 gap-1",children:f.map(G=>E.jsxs("button",{onClick:()=>S(G),className:`px-2 py-1 text-xs rounded font-medium transition-colors ${b===G?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[G,"%"]},G))})]}),o&&E.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-2 py-2 px-3 bg-orange-500 text-white rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors",children:[E.jsx(du,{size:16}),E.jsx("span",{children:"Undo Last Zoom"})]}),E.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:E.jsxs("div",{className:"text-xs text-gray-600",children:[E.jsx("p",{className:"font-medium mb-1",children:"Tips:"}),E.jsxs("ul",{className:"space-y-1",children:[E.jsx("li",{children:"• Use mouse wheel to zoom in/out"}),E.jsx("li",{children:"• Hold Space + drag to pan"}),E.jsx("li",{children:"• Double-click to fit to screen"})]})]})})]})})}),hg=({canvas:e,isActive:t=!1,onToolChange:r,onSettingsChange:a,onClose:p,initialSettings:b={}})=>{const[w,h]=D.useState({size:15,minSize:5,maxSize:100,opacity:.8,shape:"circle",pressure:!0,preview:!0,smoothing:.7,hardness:.8,spacing:.25,flow:1,dynamics:!0,antiAliasing:!0,blendMode:"destination-out",...b}),[s,u]=D.useState(!1),[d,o]=D.useState(!1),[c,f]=D.useState(null),[g,y]=D.useState([]),[m,x]=D.useState(1),[S,_]=D.useState(0),[k,O]=D.useState([]),[j,F]=D.useState(!1),[z,U]=D.useState({totalErased:0,sessionTime:0,undoCount:0});D.useRef({x:0,y:0});const G=D.useRef(null);D.useRef([]);const ie=D.useRef([]);D.useRef([]);const se=D.useRef(!1);D.useRef(1),D.useRef({x:0,y:0}),D.useRef(0),D.useRef(null),D.useRef(null),D.useRef(Date.now());const ue=D.useRef(null);dx(1),dx(.8);const le=D.useMemo(()=>{let N=w.size;if(w.pressure&&(N*=.3+m*.7),w.dynamics&&S>0){const L=Math.min(S/1e3,1);N*=1-L*.3}return Math.max(w.minSize,Math.min(w.maxSize,N))},[w.size,w.pressure,w.dynamics,w.minSize,w.maxSize,m,S]),ee=D.useCallback(N=>{var I,Z,te,ne;if(!e||!t)return;(Z=(I=N.e)==null?void 0:I.preventDefault)==null||Z.call(I),(ne=(te=N.e)==null?void 0:te.stopPropagation)==null||ne.call(te),e.discardActiveObject();const L=e.getPointer(N.e);se.current=!0,o(!0),G.current=L,console.log("🧹 Erasing started at:",L),P(L)},[e,t]),X=D.useCallback(N=>{if(!e||!t)return;const L=e.getPointer(N.e);f(L),se.current&&P(L)},[e,t]),W=D.useCallback(()=>{!e||!t||(se.current=!1,o(!1),G.current=null,console.log("🧹 Erasing finished"))},[e,t]),Y=D.useCallback(()=>{f(null),se.current&&W()},[W]),P=D.useCallback(N=>{if(!e)return;const L=e.getObjects(),I=[],Z=le/2;L.forEach(te=>{if(te===e.backgroundImage||te._isPreview)return;const ne=te.getBoundingRect(),me=ne.left+ne.width/2,xe=ne.top+ne.height/2,Ee=Math.sqrt(Math.pow(N.x-me,2)+Math.pow(N.y-xe,2)),he=Math.max(ne.width,ne.height)/2;Ee<Z+he&&I.push(te)}),I.forEach(te=>{e.remove(te)}),I.length>0&&(e.renderAll(),console.log("🧹 Erased",I.length,"objects"))},[e,le]),A=D.useCallback(N=>{h(L=>{const I={...L,...N};return a==null||a(I),I})},[a]);D.useCallback(()=>{if(ie.current.length>0){const N=ie.current.pop();e.loadFromJSON(N,()=>{e.renderAll(),console.log("⏪ Undo انجام شد")})}},[e]);const M=D.useCallback(()=>{if(!e)return;const N=JSON.stringify(e.toJSON());ie.current.push(N),e.getObjects().forEach(I=>{I!==e.backgroundImage&&e.remove(I)}),e.renderAll(),y([]),console.log("🗑️ همه objects پاک شدند")},[e]),B=D.useCallback(()=>{if(!e||!c||d)return;const N=e.contextTop;N&&(N.save(),N.clearRect(0,0,e.width,e.height),N.strokeStyle="#ff0000",N.lineWidth=2,N.setLineDash([5,5]),N.beginPath(),N.arc(c.x,c.y,le/2,0,Math.PI*2),N.stroke(),N.restore())},[e,c,le,d]),H=D.useRef({handleMouseDown:null,handleMouseMove:null,handleMouseUp:null,handleMouseLeave:null});return D.useEffect(()=>{H.current.handleMouseDown=ee,H.current.handleMouseMove=X,H.current.handleMouseUp=W,H.current.handleMouseLeave=Y}),D.useEffect(()=>{if(!e||!t)return;e.discardActiveObject(),e.renderAll();const N=te=>{var ne,me;return(me=(ne=H.current).handleMouseDown)==null?void 0:me.call(ne,te)},L=te=>{var ne,me;return(me=(ne=H.current).handleMouseMove)==null?void 0:me.call(ne,te)},I=te=>{var ne,me;return(me=(ne=H.current).handleMouseUp)==null?void 0:me.call(ne,te)},Z=te=>{var ne,me;return(me=(ne=H.current).handleMouseLeave)==null?void 0:me.call(ne,te)};return e.on("mouse:down",N),e.on("mouse:move",L),e.on("mouse:up",I),e.on("mouse:leave",Z),()=>{e.off("mouse:down",N),e.off("mouse:move",L),e.off("mouse:up",I),e.off("mouse:leave",Z)}},[e,t]),D.useEffect(()=>{B()},[B]),D.useEffect(()=>{e&&t?(e.defaultCursor="crosshair",e.hoverCursor="crosshair",e.isDrawingMode=!1,e.selection=!1,e.renderAll()):e&&!t&&(e.selection=!0,e.defaultCursor="default",e.hoverCursor="move",e.renderAll())},[e,t]),D.useEffect(()=>{if(e&&!t){const N=e.contextTop;N&&N.clearRect(0,0,e.width,e.height)}},[e,t]),D.useEffect(()=>{const N=L=>{ue.current&&!ue.current.contains(L.target)&&u(!1)};return document.addEventListener("mousedown",N),document.addEventListener("touchstart",N),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("touchstart",N)}},[s]),E.jsxs(Ut.div,{ref:ue,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"eraser-tool bg-white rounded-lg shadow-lg border border-gray-200 p-4 max-w-sm",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Uc,{className:"w-5 h-5 text-red-500"}),E.jsx("h3",{className:"font-semibold text-gray-800",children:"ابزار پاک‌کن"})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[p&&E.jsx("button",{onClick:N=>{N.stopPropagation(),p()},className:"p-2 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"بستن پنل",children:E.jsx(gu,{className:"w-4 h-4"})}),E.jsx("button",{onClick:N=>{N.stopPropagation()},onDoubleClick:N=>{N.stopPropagation(),u(!s)},onContextMenu:N=>{N.preventDefault(),N.stopPropagation(),u(!s)},className:`p-2 hover:bg-gray-100 rounded-lg transition-colors ${s?"bg-gray-100":""}`,title:"دابل کلیک/راست کلیک: تنظیمات پیشرفته",children:E.jsx(Bi,{className:"w-4 h-4 text-gray-600"})})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:"اندازه"}),E.jsxs("span",{className:"text-xs text-gray-500",children:[le,"px"]})]}),E.jsx("input",{type:"range",min:w.minSize,max:w.maxSize,value:w.size,onChange:N=>A({size:parseInt(N.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),E.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[E.jsxs("span",{children:[w.minSize,"px"]}),E.jsxs("span",{children:[w.maxSize,"px"]})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"شکل"}),E.jsx("div",{className:"flex gap-2",children:[{value:"circle",icon:zc,label:"دایره"},{value:"square",icon:To,label:"مربع"},{value:"line",icon:Sg,label:"خط"}].map(({value:N,icon:L,label:I})=>E.jsxs("button",{onClick:()=>A({shape:N}),className:`flex-1 flex items-center justify-center gap-1 py-2 px-3 rounded-lg text-sm transition-colors ${w.shape===N?"bg-red-100 text-red-700 border-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[E.jsx(L,{className:"w-4 h-4"}),E.jsx("span",{className:"hidden sm:inline",children:I})]},N))})]}),E.jsx("div",{className:"mb-4 flex items-center justify-center bg-gray-50 rounded-lg p-4",children:E.jsx("div",{className:`border-2 border-dashed border-red-400 bg-red-100 ${w.shape==="square"?"":"rounded-full"}`,style:{width:`${Math.min(le,60)}px`,height:w.shape==="line"?"4px":`${Math.min(le,60)}px`}})}),E.jsx(Xs,{children:s&&E.jsxs(Ut.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("label",{className:"text-sm text-gray-600",children:"شفافیت"}),E.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(w.opacity*100),"%"]})]}),E.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:w.opacity,onChange:N=>A({opacity:parseFloat(N.target.value)}),className:"w-full h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("label",{className:"text-sm text-gray-600",children:"نرمی"}),E.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(w.smoothing*100),"%"]})]}),E.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:w.smoothing,onChange:N=>A({smoothing:parseFloat(N.target.value)}),className:"w-full h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-sm text-gray-600",children:"پیش‌نمایش"}),E.jsx("button",{onClick:()=>A({preview:!w.preview}),className:"p-1",children:w.preview?E.jsx(SE,{className:"w-4 h-4 text-blue-500"}):E.jsx(xE,{className:"w-4 h-4 text-gray-400"})})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-sm text-gray-600",children:"حساسیت به فشار"}),E.jsx("button",{onClick:()=>A({pressure:!w.pressure}),className:`w-10 h-5 rounded-full transition-colors ${w.pressure?"bg-blue-500":"bg-gray-300"}`,children:E.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${w.pressure?"translate-x-5":"translate-x-0.5"} translate-y-0.5`})})]})]})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>{if(e){const N=new st.fabric.Line([50,50,150,150],{stroke:"#ff0000",strokeWidth:3,selectable:!0,evented:!0}),L=new st.fabric.Rect({left:200,top:100,width:100,height:80,fill:"transparent",stroke:"#00ff00",strokeWidth:2,selectable:!0,evented:!0});e.add(N),e.add(L),e.renderAll(),console.log("📏 Test objects added")}},className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[E.jsx(zc,{className:"w-4 h-4"}),E.jsx("span",{className:"text-sm",children:"Add Test"})]}),E.jsxs("button",{onClick:M,className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:[E.jsx(Sw,{className:"w-4 h-4"}),E.jsx("span",{className:"text-sm",children:"Clear All"})]})]}),g.length>0&&E.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:[g.length," آبجکت پاک شده"]})]})};hg.propTypes={canvas:sn.object,isActive:sn.bool,onToolChange:sn.func,onSettingsChange:sn.func,onClose:sn.func,initialSettings:sn.object};const XN=`
  .scrollbar-hide {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari, and Opera */
  }
`;if(typeof document<"u"&&!document.getElementById("scrollbar-hide-styles")){const e=document.createElement("style");e.id="scrollbar-hide-styles",e.textContent=XN,document.head.appendChild(e)}const Rx=[{Icon:ww,name:"crop",hotkey:"c",category:"edit"},{Icon:xw,name:"brush",hotkey:"b",category:"draw"},{Icon:Uc,name:"eraser",hotkey:"e",category:"draw"},{Icon:zc,name:"circle",hotkey:"o",category:"shape"},{Icon:nO,name:"rectangle",hotkey:"r",category:"shape"},{Icon:Sg,name:"line",hotkey:"l",category:"shape"},{Icon:aE,name:"lineChart",hotkey:"shift+l",category:"shape"},{Icon:Rd,name:"move",hotkey:"v",category:"nav"},{Icon:Co,name:"zoom",hotkey:"z",category:"view"},{Icon:Cg,name:"grayscale",hotkey:"g",category:"filter"},{Icon:DE,name:"pan",hotkey:"space",category:"nav"},{Icon:du,name:"undo",hotkey:"ctrl+z",category:"edit"}],$N=({className:e=""})=>{const{t}=tn(),{activeTool:r,applyTool:a,toggleGrayscale:p,zoomImage:b,undoLastChange:w,clearDrawings:h,imageSettings:s,updateImageSettings:u}=Au(),[d,o]=D.useState(!1),[c,f]=D.useState(!1),[g,y]=D.useState(!1),[m,x]=D.useState(!1),[S,_]=D.useState("#ff0000"),[k,O]=D.useState(5),[j,F]=D.useState(15),[z,U]=D.useState(null),{control:G,watch:ie}=DN({defaultValues:{brightness:s.brightness||100,contrast:s.contrast||100,saturation:s.saturation||100}}),se=ie(),ue=D.useCallback(()=>{if(window.fabricCanvas){const W=window.fabricCanvas.toDataURL("image/png"),Y=document.createElement("a");Y.download=`artwork-${Date.now()}.png`,Y.href=W,Y.click()}},[]),le=D.useCallback(W=>{_(W),window.fabricCanvas&&window.fabricCanvas.freeDrawingBrush&&(window.fabricCanvas.freeDrawingBrush.color=W)},[]),ee=D.useCallback(W=>{O(W),window.fabricCanvas&&window.fabricCanvas.freeDrawingBrush&&(window.fabricCanvas.freeDrawingBrush.width=W)},[]),X=D.useCallback(W=>{if(console.log(`🎨 Tool selected: ${W}`),W==="grayscale"?p():W==="zoom"?a(W):W==="undo"?w():W==="eraser"?r==="eraser"&&m?x(!1):(r==="eraser"&&!m||a(W),x(!0)):(a(W),x(!1)),window.fabricCanvas){const Y=window.fabricCanvas;Y.freeDrawingBrush&&(Y.freeDrawingBrush.color=S,Y.freeDrawingBrush.width=k)}},[p,b,w,a,S,k,r,m]);return Rx.forEach(W=>{Ec(W.hotkey,()=>X(W.name),{preventDefault:!0,description:`${t(W.name)} (${W.hotkey})`})}),Ec("ctrl+s",ue,{preventDefault:!0}),Ec("ctrl+shift+c",h,{preventDefault:!0}),Ec("tab",()=>o(!d),{preventDefault:!0}),D.useEffect(()=>{u(se)},[se.brightness,se.contrast,se.saturation,se.grayscale,u]),D.useEffect(()=>{const W=()=>{window.fabricCanvas?U(window.fabricCanvas):setTimeout(W,100)};W()},[]),E.jsxs(Ut.div,{className:ta("bg-background-secondary h-full flex flex-col border-r border-border rounded-l-xl shadow-card dark:bg-background-secondary dark:border-border relative",d?"w-64":"w-16",e),animate:{width:d?256:64},transition:{duration:.3,ease:"easeInOut"},children:[E.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border",children:[E.jsx(Xs,{children:d&&E.jsx(Ut.h3,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-sm font-semibold text-text",children:"ابزارها"})}),E.jsx(Ut.button,{onClick:()=>o(!d),className:"p-1.5 rounded-lg hover:bg-background-primary transition-colors",whileTap:{scale:.95},children:d?E.jsx(uE,{size:16}):E.jsx(hE,{size:16})})]}),E.jsx("div",{className:"flex-1 py-4 overflow-y-auto scrollbar-hide",children:E.jsx("div",{className:`flex ${d?"flex-col gap-2 px-3":"flex-col items-center gap-4 px-2"}`,children:Rx.map(({Icon:W,name:Y,hotkey:P,category:A},M)=>{const B=r===Y;return E.jsx(Ut.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.05},children:d?E.jsxs(Ut.button,{onClick:()=>X(Y),className:ta("w-full flex items-center gap-3 p-3 rounded-lg transition-all duration-200 group",B?"bg-primary text-primary-foreground shadow-md":"hover:bg-background-primary text-text hover:shadow-sm"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[E.jsx(W,{size:20}),E.jsxs("div",{className:"flex-1 text-left",children:[E.jsx("div",{className:"text-sm font-medium",children:t(Y)}),E.jsx("div",{className:"text-xs opacity-60",children:P})]}),B&&E.jsx(Ut.div,{layoutId:"activeIndicator",className:"w-2 h-2 bg-current rounded-full"})]}):E.jsxs(Ut.div,{className:"relative group",children:[E.jsx(au,{Icon:W,title:`${t(Y)} (${P})`,onClick:()=>X(Y),variant:B?"primary":"default",size:"md",className:"hover:scale-105 relative"}),B&&E.jsx(Ut.div,{layoutId:"compactActiveIndicator",className:"absolute -right-1 top-1/2 transform -translate-y-1/2 w-1 h-6 bg-primary rounded-full"})]})},M)})})}),E.jsx(Xs,{children:d&&E.jsxs(Ut.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border p-3 space-y-3",children:[E.jsxs(Ut.button,{onClick:()=>f(!c),className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-background-primary transition-colors",whileTap:{scale:.98},children:[E.jsx(Cg,{size:16}),E.jsx("span",{className:"text-sm",children:"انتخاب رنگ"}),E.jsx("div",{className:"ml-auto w-4 h-4 rounded border-2 border-white shadow-sm",style:{backgroundColor:S}})]}),E.jsxs(Ut.button,{onClick:()=>y(!g),className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-background-primary transition-colors",whileTap:{scale:.98},children:[E.jsx(Bi,{size:16}),E.jsx("span",{className:"text-sm",children:"تنظیمات"})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(Ut.button,{onClick:ue,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",whileTap:{scale:.95},children:[E.jsx(sO,{size:14}),E.jsx("span",{className:"text-xs",children:"ذخیره"})]}),E.jsxs(Ut.button,{onClick:h,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",whileTap:{scale:.95},children:[E.jsx(gu,{size:14}),E.jsx("span",{className:"text-xs",children:"پاک"})]})]})]})}),E.jsx(Xs,{children:c&&d&&E.jsxs(Ut.div,{initial:{opacity:0,scale:.9,x:-10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.9,x:-10},className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-2 bg-white border border-border rounded-lg shadow-lg p-4 z-50",children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("h4",{className:"text-sm font-medium mb-2",children:"انتخاب رنگ"}),E.jsx(Z5,{color:S,onChange:le})]}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("label",{className:"text-sm font-medium block mb-1",children:["اندازه قلم: ",k,"px"]}),E.jsx("input",{type:"range",min:"1",max:"50",value:k,onChange:W=>ee(parseInt(W.target.value)),className:"w-full"})]}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("label",{className:"text-sm font-medium block mb-1",children:["اندازه پاک‌کن: ",j,"px"]}),E.jsx("input",{type:"range",min:"5",max:"100",value:j,onChange:W=>F(parseInt(W.target.value)),className:"w-full"})]}),E.jsx("button",{onClick:()=>f(!1),className:"w-full py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors",children:"تأیید"})]})}),E.jsx(Xs,{children:g&&d&&E.jsxs(Ut.div,{initial:{opacity:0,scale:.9,x:-10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.9,x:-10},className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-2 bg-white border border-border rounded-lg shadow-lg p-4 z-50 w-64",children:[E.jsx("h4",{className:"text-sm font-medium mb-3",children:"تنظیمات تصویر"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"text-xs text-muted-foreground block mb-1",children:["روشنایی: ",Math.round(se.brightness),"%"]}),E.jsx(xd,{name:"brightness",control:G,render:({field:W})=>E.jsx("input",{...W,type:"range",min:"0",max:"200",className:"w-full"})})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"text-xs text-muted-foreground block mb-1",children:["کنتراست: ",Math.round(se.contrast),"%"]}),E.jsx(xd,{name:"contrast",control:G,render:({field:W})=>E.jsx("input",{...W,type:"range",min:"0",max:"200",className:"w-full"})})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"text-xs text-muted-foreground block mb-1",children:["اشباع: ",Math.round(se.saturation),"%"]}),E.jsx(xd,{name:"saturation",control:G,render:({field:W})=>E.jsx("input",{...W,type:"range",min:"0",max:"200",className:"w-full"})})]})]}),E.jsx("button",{onClick:()=>y(!1),className:"w-full mt-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors",children:"بستن"})]})}),E.jsx(Xs,{children:r==="eraser"&&z&&m&&E.jsx(Ut.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"absolute left-full top-0 ml-2 z-50",children:E.jsx(hg,{canvas:z,isActive:!0,initialSettings:{size:j},onSettingsChange:W=>{F(W.size)},onClose:()=>{x(!1)}})})}),r==="eraser"&&z&&!m&&E.jsx("div",{style:{display:"none"},children:E.jsx(hg,{canvas:z,isActive:!0,initialSettings:{size:j},onSettingsChange:W=>{F(W.size)},onClose:()=>{}})}),z&&E.jsxs("div",{style:{display:"none"},children:[r==="brush"&&E.jsx(VN,{canvas:z,isActive:r==="brush",brushColor:S,brushWidth:k}),r==="line"&&E.jsx(UN,{canvas:z,isActive:r==="line",lineColor:S,lineWidth:k}),r==="move"&&E.jsx(HN,{canvas:z,isActive:r==="move"})]}),r==="crop"&&z&&E.jsx("div",{className:"absolute left-full top-0 ml-2 z-50",children:E.jsx(IN,{canvas:z,isActive:r==="crop"})}),r==="zoom"&&z&&E.jsx("div",{className:"absolute left-full top-0 ml-2 z-50",children:E.jsx(YN,{canvas:z,isActive:r==="zoom"})})]})},GN=({tabs:e})=>{const{i18n:t,t:r}=tn();return E.jsx("div",{className:ta("flex gap-2",t.language==="fa"?"font-vazir":""),dir:t.language==="fa"?"rtl":"ltr",children:e.map((a,p)=>E.jsxs(dw,{to:a.to,className:({isActive:b})=>ta("px-4 py-2 text-sm font-medium transition-all duration-300 flex items-center",b?"tab-active":"tab-inactive"),children:[a.icon,E.jsx("span",{className:t.language==="fa"?"mr-1":"ml-1",children:a.label})]},p))})},WN=()=>{const e=D.useRef(null),t=D.useRef(null),r=D.useRef(null),a=D.useRef(null),p=D.useRef(null);D.useRef(null);const b=D.useRef(null);D.useRef(null);const{cameras:w,activeTool:h,drawings:s,toolDrawings:u,isDrawing:d,currentPath:o,imageSettings:c,cursorPosition:f,startDrawing:g,continueDrawing:y,finishDrawing:m,addToolDrawing:x,wsStatus:S,panImage:_}=Au();D.useEffect(()=>{if(e.current&&!t.current){const M=new st.fabric.Canvas(e.current,{width:640,height:480,backgroundColor:"transparent",selection:!0,preserveObjectStacking:!0,enableRetinaScaling:!0,perPixelTargetFind:!0});return t.current=M,O(M),M.on("path:created",j),M.on("object:added",F),M.on("mouse:down",z),M.on("mouse:move",U),M.on("mouse:up",G),console.log("🎯 Event listeners added to canvas"),M.on("object:added",B=>{B.target===M.backgroundImage&&B.target.set({selectable:!1,evented:!1,excludeFromExport:!1})}),()=>{M.dispose(),t.current=null}}},[]);const k=D.useCallback(()=>{if(!t.current||!w.basler.currentFrame)return;const M=w.basler.currentFrame;b.current!==M&&(b.current=M,console.log("🖼️ Updating Fabric.js background image"),st.fabric.Image.fromURL(M,B=>{const H=t.current.width||640,N=t.current.height||480;B.set({left:0,top:0,scaleX:H/B.width,scaleY:N/B.height,selectable:!1,evented:!1,excludeFromExport:!1});const L=[];c.brightness!==100&&L.push(new st.fabric.Image.filters.Brightness({brightness:(c.brightness-100)/100})),c.contrast!==100&&L.push(new st.fabric.Image.filters.Contrast({contrast:(c.contrast-100)/100})),c.grayscale&&L.push(new st.fabric.Image.filters.Grayscale),B.filters=L,B.applyFilters(),t.current.setBackgroundImage(B,t.current.renderAll.bind(t.current))}))},[w.basler.currentFrame,c.brightness,c.contrast,c.grayscale]),O=D.useCallback(M=>{M&&(M.isDrawingMode=!1,M.selection=!0,M.defaultCursor="default",M.hoverCursor="move",h==="crop"?(console.log("🔲 Configuring crop tool in BaslerDisplay..."),M.selection=!1,M.defaultCursor="crosshair",M.hoverCursor="crosshair",console.log("🔲 Crop tool configured in BaslerDisplay")):h==="eraser"?(M.selection=!1,M.defaultCursor="crosshair",M.hoverCursor="crosshair",console.log("🧹 Eraser tool configured")):h==="move"?(M.selection=!0,M.defaultCursor="default",M.hoverCursor="move",console.log("✋ Move tool configured")):(h==="brush"||h==="line")&&(M.isDrawingMode=!0,M.selection=!1,M.defaultCursor="crosshair",M.hoverCursor="crosshair",console.log("🖌️ Drawing tool configured:",h)),console.log("🔧 Canvas initialized for tool components - Active tool:",h))},[h]);D.useEffect(()=>{t.current&&h&&O(t.current)},[h,O]),D.useEffect(()=>{if(t.current&&h){const M=setTimeout(()=>{t.current&&!t.current.backgroundImage&&w.basler.currentFrame&&(console.log("🔄 Background image missing after tool change, restoring..."),k())},100);return()=>clearTimeout(M)}},[h,w.basler.currentFrame,k]);const j=D.useCallback(M=>{console.log("Fabric path created:",M.path),M.path&&M.path.set({selectable:!0,evented:!0}),h==="eraser"&&t.current&&t.current.contextTop&&setTimeout(()=>{t.current&&t.current.contextTop&&(t.current.contextTop.globalCompositeOperation="source-over")},50)},[h]),F=D.useCallback(M=>{console.log("Fabric object added:",M.target)},[]),z=D.useCallback(M=>{console.log("🖱️ Mouse down - Tool:",h)},[h]),U=D.useCallback(M=>{if(!t.current)return;const B=t.current.getActiveObject(),H=t.current.getPointer(M.e);if(h==="eraser"){t.current.defaultCursor="crosshair";const N=t.current.getObjects(),L=t.current.findTarget(M.e,N);L&&L!==t.current.backgroundImage&&(t.current.defaultCursor="pointer")}else{if(h==="move")return;if(B&&t.current._isCurrentlyDrawing){if(B.type==="line")B.set({x2:H.x,y2:H.y});else if(B.type==="rect"){const N=B.left,L=B.top;B.set({width:Math.abs(H.x-N),height:Math.abs(H.y-L),left:H.x<N?H.x:N,top:H.y<L?H.y:L})}else if(B.type==="circle"){const N=B.left,L=B.top,I=Math.sqrt(Math.pow(H.x-N,2)+Math.pow(H.y-L,2));B.set({radius:I})}t.current.renderAll()}}},[h]),G=D.useCallback(()=>{t.current&&(t.current._isCurrentlyDrawing=!1)},[]);D.useEffect(()=>{t.current&&w.basler.currentFrame&&k()},[w.basler.currentFrame]),D.useEffect(()=>{const M=B=>{console.log("🔲 Canvas resize event received:",B.detail),e.current&&B.detail&&(e.current.width=B.detail.width,e.current.height=B.detail.height,e.current.style.width=`${B.detail.width}px`,e.current.style.height=`${B.detail.height}px`,console.log("🔲 HTML canvas updated to:",B.detail.width,"x",B.detail.height)),t.current&&t.current.renderAll()};return window.addEventListener("canvasResized",M),()=>{window.removeEventListener("canvasResized",M)}},[]),D.useEffect(()=>{if(t.current){const M=setTimeout(()=>{t.current&&t.current.renderAll()},50);return()=>clearTimeout(M)}},[h,w.basler.currentFrame]);const ie=D.useCallback(()=>{if(!t.current||!t.current.backgroundImage)return;const M=t.current.backgroundImage,B=[];c.brightness!==100&&B.push(new st.fabric.Image.filters.Brightness({brightness:(c.brightness-100)/100})),c.contrast!==100&&B.push(new st.fabric.Image.filters.Contrast({contrast:(c.contrast-100)/100})),c.grayscale&&B.push(new st.fabric.Image.filters.Grayscale),M.filters=B,M.applyFilters(),t.current.renderAll()},[c.brightness,c.contrast,c.grayscale]);D.useEffect(()=>{ie()},[ie]);const se=D.useCallback(()=>{if(!t.current)return;const M=t.current.backgroundImage;t.current.getObjects().forEach(H=>{H!==t.current.backgroundImage&&t.current.remove(H)}),M?t.current.setBackgroundImage(M,t.current.renderAll.bind(t.current)):w.basler.currentFrame&&k(),console.log("🧹 Canvas cleared - background preserved")},[k]),ue=D.useCallback(()=>{if(!t.current)return;const M=t.current.getObjects();let B=0;M.forEach(H=>{H!==t.current.backgroundImage&&(t.current.remove(H),B++)}),t.current.renderAll(),console.log(`🗑️ Removed ${B} user objects`)},[]),le=D.useCallback(()=>{if(!t.current)return;const M=t.current.getObjects();for(let B=M.length-1;B>=0;B--)if(M[B]!==t.current.backgroundImage){t.current.remove(M[B]),console.log("↩️ Undid last user action");break}},[]);D.useEffect(()=>{t.current&&window&&(window.fabricCanvas=t.current,window.clearFabricCanvas=se,window.clearAllUserObjects=ue,window.undoLastFabricAction=le)},[se,ue,le]);const ee=D.useCallback(()=>{},[w.basler.currentFrame,s,u,d,o,h,c]),X=D.useCallback(M=>{const B=e.current;if(!B)return{x:0,y:0,rawX:0,rawY:0};const H=B.getBoundingClientRect(),N=M.clientX-H.left,L=M.clientY-H.top,I=t.current,Z=I?I.width:B.width,te=I?I.height:B.height;(Math.abs(Z-B.width)>10||Math.abs(te-B.height)>10)&&console.log("🔲 Canvas dimensions mismatch - Fabric:",Z,"x",te,"HTML:",B.width,"x",B.height);const ne=Z/H.width,me=te/H.height,xe=N*ne,Ee=L*me,he=Math.max(0,Math.min(Z,xe)),re=Math.max(0,Math.min(te,Ee)),ye=(he-c.panOffset.x)/c.zoom,be=(re-c.panOffset.y)/c.zoom;return{x:ye,y:be,rawX:he,rawY:re,clientX:N,clientY:L}},[c.zoom,c.panOffset]),W=D.useCallback(M=>{if(h==="pan"&&c.zoom>1){const B=X(M);p.current={x:B.rawX,y:B.rawY},t.current&&(t.current.defaultCursor="grabbing")}},[h,c,X]),Y=D.useCallback(M=>{if(h==="pan"&&p.current&&c.zoom>1){const B=X(M),H=B.rawX-p.current.x,N=B.rawY-p.current.y;_(H,N),p.current={x:B.rawX,y:B.rawY}}},[h,c.zoom,_,X]),P=D.useCallback(()=>{h==="pan"&&(p.current=null,t.current&&(t.current.defaultCursor="crosshair"))},[h]);D.useEffect(()=>{if(w.basler.currentFrame&&r.current){const M=r.current;M.src&&M.src.startsWith("data:")&&URL.revokeObjectURL(M.src),M.src=w.basler.currentFrame,M.onload=()=>{const B=e.current;if(B&&M){const H=M.naturalWidth||640,N=M.naturalHeight||480,L=t.current;!L||L.width===640&&L.height===480?(B.width=H,B.height=N,console.log(`📸 Basler frame loaded: ${H}x${N}`)):console.log(`📸 Basler frame loaded but keeping current canvas size: ${B.width}x${B.height}`)}ee()},M.onerror=B=>{console.error("❌ Error loading Basler image:",B)}}},[w.basler.currentFrame,ee]),D.useEffect(()=>{ee()},[ee]);const A=D.useCallback(M=>{if(!M)return"No data";try{return new Date(M).toLocaleTimeString()}catch{return"Invalid time"}},[]);return E.jsxs("div",{ref:a,className:"w-full h-full bg-black rounded-lg overflow-hidden relative flex justify-center items-center",children:[E.jsx("img",{ref:r,style:{display:"none"},alt:"Basler frame"}),E.jsx("canvas",{ref:e,width:640,height:480,className:"w-full h-full object-contain cursor-crosshair  mx-auto ",onMouseDown:W,onMouseMove:Y,onMouseUp:P,onMouseLeave:P,style:{maxWidth:"100%",maxHeight:"100%",display:"block",imageRendering:"high-quality"}}),!w.basler.currentFrame&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-white text-sm mb-2",children:[S==="connecting"&&"🔄 اتصال به باسلر...",S==="connected"&&"⏳ در انتظار تصویر باسلر...",S==="reconnecting"&&"🔄 تلاش برای اتصال مجدد...",S==="error"&&"❌ خطا در اتصال به باسلر",S==="failed"&&"❌ اتصال ناموفق - بررسی بک‌اند",S==="disconnected"&&"⚠️ قطع ارتباط با باسلر"]}),(S==="error"||S==="failed")&&E.jsx("div",{className:"text-gray-400 text-xs",children:"لطفاً بک‌اند را بررسی کنید"})]})}),E.jsxs("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-sm font-mono",children:["X: ",Math.round(f.x)," | Y: ",Math.round(f.y)]}),h&&E.jsx("div",{className:"absolute top-2 right-2 bg-primary text-white px-2 py-1 rounded text-sm",children:h}),E.jsx("div",{className:`absolute bottom-2 left-2 w-3 h-3 rounded-full ${w.basler.isConnected&&w.basler.currentFrame?"bg-green-500":"bg-red-500"}`}),w.basler.lastUpdate&&E.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs space-y-1",children:[E.jsx("div",{children:A(w.basler.lastUpdate)}),w.basler.avgFps>0&&E.jsxs("div",{className:"text-green-400",children:["FPS: ",w.basler.avgFps," | Frames: ",w.basler.frameCount]})]})]})},qN=()=>{const e=D.useRef(null),{cameras:t,wsStatus:r}=Au();return D.useEffect(()=>{e.current&&t.monitoring.currentFrame&&(e.current.src=t.monitoring.currentFrame)},[t.monitoring.currentFrame]),E.jsxs("div",{className:"w-full h-full bg-black rounded-lg overflow-hidden relative",children:[E.jsx("img",{ref:e,className:"w-full h-full object-contain",alt:"Monitoring Camera",style:{display:t.monitoring.currentFrame?"block":"none"}}),!t.monitoring.currentFrame&&E.jsx("div",{className:"w-full h-full flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-white text-sm mb-2",children:[r==="connecting"&&"🔄 اتصال به دوربین RTSP...",r==="connected"&&"⏳ در انتظار تصویر RTSP...",r==="reconnecting"&&"🔄 تلاش برای اتصال مجدد...",r==="error"&&"❌ خطا در اتصال RTSP",r==="failed"&&"❌ اتصال RTSP ناموفق",r==="disconnected"&&"⚠️ قطع ارتباط با دوربین"]}),(r==="error"||r==="failed")&&E.jsx("div",{className:"text-gray-400 text-xs",children:"بررسی تنظیمات RTSP یا بک‌اند"})]})}),E.jsx("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-sm",children:"Monitoring Camera"}),E.jsx("div",{className:`absolute bottom-2 left-2 w-3 h-3 rounded-full ${t.monitoring.isConnected&&t.monitoring.currentFrame?"bg-green-500":"bg-red-500"}`}),t.monitoring.currentFrame&&E.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs space-y-1",children:[E.jsx("div",{children:"RTSP Live"}),t.monitoring.avgFps>0&&E.jsxs("div",{className:"text-green-400",children:["FPS: ",t.monitoring.avgFps," | Frames: ",t.monitoring.frameCount]})]})]})},KN=[{to:"/initial",label:"initial",icon:E.jsx(FE,{className:"w-4 h-4 mr-1"})},{to:"/position",label:"position",icon:E.jsx(jd,{className:"w-4 h-4 mr-1"})},{to:"/projection",label:"projection",icon:E.jsx(kE,{className:"w-4 h-4 mr-1"})},{to:"/post-processing",label:"postProcessing",icon:E.jsx(kO,{className:"w-4 h-4 mr-1"})},{to:"/reconstruction",label:"reconstruction",icon:E.jsx(RE,{className:"w-4 h-4 mr-1"})}],ZN=({t:e})=>E.jsxs("div",{className:"h-40 md:h-44 flex gap-4 py-1 px-4 pt-0",children:[E.jsx("div",{className:"panel flex-1 flex items-center justify-center text-sm dark:text-text",children:e("systemStatus")}),E.jsx("div",{className:"card h-40 md:h-44 border border-black",children:E.jsx(qN,{})})]}),QN=()=>{const t=br().pathname.includes("settings")?"Settings":null,[r,a]=D.useState(t),{t:p,i18n:b}=tn(),{getAllFormData:w}=Tw(),{send:h,isConnected:s,addMessageCallback:u,removeMessageCallback:d}=Wo(),[o,c]=D.useState("");D.useEffect(()=>{const m=x=>{if(x.startsWith("response:")){const S=x.slice(9);c(S),S===p("dataSubmittedSuccessfully")?Ri.fire({title:p("success"),text:p("dataSubmittedSuccessfully"),icon:"success",confirmButtonText:p("ok"),confirmButtonColor:"#16a34a",customClass:{confirmButton:"swal-confirm-button"}}):S.includes("Error")&&Ri.fire({title:p("error"),text:S,icon:"error",confirmButtonText:p("ok"),confirmButtonColor:"#16a34a",customClass:{confirmButton:"swal-confirm-button"}})}};return u(m),()=>d(m)},[u,d,p]);const f=D.useCallback(m=>{a(m)},[]);D.useCallback(m=>{b.changeLanguage(m),console.log("Changed language to:",m)},[b]);const g=m=>{if(!m.initialParameters)return!0;const{power:x,tubeVoltage:S,anodeCurrent:_}=m.initialParameters;return x&&(isNaN(x)||x<0)?(console.warn("⚠️ اعتبارسنجی ناموفق: توان نامعتبر",x),!1):S&&(isNaN(S)||S<0)?(console.warn("⚠️ اعتبارسنجی ناموفق: ولتاژ تیوب نامعتبر",S),!1):_&&(isNaN(_)||_<0)?(console.warn("⚠️ اعتبارسنجی ناموفق: جریان آند نامعتبر",_),!1):!0},y=async()=>{const m=w();if(console.log("📋 داده‌های جمع‌آوری‌شده برای ارسال:",m),Object.keys(m).length===0){console.warn("⚠️ هیچ داده‌ای برای ارسال وجود ندارد"),c(p("noDataAvailable")),Ri.fire({title:p("error"),text:p("noDataToSubmit"),icon:"warning",confirmButtonText:p("ok"),confirmButtonColor:"#16a34a",customClass:{confirmButton:"swal-confirm-button"}});return}if(!g(m)){console.warn("⚠️ داده‌های initialParameters نامعتبر هستند"),Ri.fire({title:p("error"),text:p("invalidInitialParameters"),icon:"error",confirmButtonText:p("ok"),confirmButtonColor:"#16a34a",customClass:{confirmButton:"swal-confirm-button"}});return}if((await Ri.fire({title:p("areYouSure"),icon:"question",showCancelButton:!0,confirmButtonText:p("confirm"),cancelButtonText:p("cancel"),confirmButtonColor:"#16a34a",cancelButtonColor:"#ef4444",customClass:{confirmButton:"swal-confirm-button",cancelButton:"swal-cancel-button"}})).isConfirmed){const S=`AllFormData:${JSON.stringify(m)}`;console.log("🚀 پیام ارسالی به بکند:",S),h(S)?(console.log("✅ پیام با موفقیت از طریق WebSocket ارسال شد"),c(p("sendingData"))):(console.error("❌ خطا در ارسال پیام از طریق WebSocket"),Ri.fire({title:p("error"),text:p("failedToSendData"),icon:"error",confirmButtonText:p("ok"),confirmButtonColor:"#16a34a",customClass:{confirmButton:"swal-confirm-button"}}))}};return E.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen max-h-screen gap-4 p-4 bg-background dark:bg-background overflow-hidden",children:[E.jsx("div",{className:"w-full md:w-5/12 flex flex-col gap-4 min-h-0",children:E.jsxs("div",{className:"card flex-1 flex flex-col min-h-0",children:[E.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between px-4 py-3 border-b border-border bg-background-secondary dark:bg-background-secondary dark:border-border rounded-t-xl",children:[E.jsx(GN,{tabs:KN.map(m=>({...m,label:p(m.label)}))}),E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx(au,{Icon:JE,title:p("run"),variant:r==="Run"?"primary":"default",size:"md",onClick:()=>{f("Run"),y()},disabled:!s}),E.jsx(wg,{to:"/settings",children:E.jsx(au,{Icon:Bi,title:p("settings"),variant:r==="Settings"?"primary":"default",size:"md",onClick:()=>f("Settings")})})]})]}),E.jsxs("div",{className:"flex-1 min-h-0 px-6 py-4",children:[E.jsx("div",{className:"h-full overflow-auto rounded-md",children:E.jsx(QT,{})}),o&&E.jsx("p",{className:"text-green-600 mt-2",children:o})]}),E.jsx("div",{className:"flex-shrink-0",children:E.jsx(ZN,{t:p})})]})}),E.jsxs("div",{className:"w-full md:w-7/12 flex flex-col gap-4 min-h-0",children:[E.jsxs("div",{className:"flex-1 flex flex-col gap-0 min-h-0",children:[E.jsxs("div",{className:"card flex-1 rounded-b-none border-b-0 relative overflow-hidden flex min-h-0",children:[E.jsx($N,{}),E.jsx("div",{className:"flex-1 min-h-0",children:E.jsx(WN,{})})]}),E.jsx("div",{className:"card flex-shrink-0 rounded-t-none border-t-0 text-text dark:text-text font-medium text-center p-4",children:p("imageReel")})]}),E.jsx("div",{className:"card flex-shrink-0 h-40 md:h-44 p-4 text-text dark:text-text font-medium text-center",children:p("histogram")})]})]})},D2=D.createContext();function JN({children:e}){const[t,r]=D.useState(()=>localStorage.getItem("theme")??(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return D.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem("theme",t)},[t]),E.jsx(D2.Provider,{value:{theme:t,setTheme:r},children:e})}function e3(){const e=D.useContext(D2);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function t3(){const{theme:e,setTheme:t}=e3(),{t:r,i18n:a}=tn(),p=()=>{t(e==="light"?"dark":"light")},b=w=>{a.changeLanguage(w)};return E.jsxs("div",{className:"p-6 text-text dark:text-text space-y-8 max-w-xl mx-auto",children:[E.jsx("h1",{className:"text-3xl font-bold text-center",children:r("settingsPage")}),E.jsx("p",{className:"text-base text-muted-foreground text-center",children:r("settingsDescription")}),E.jsxs("div",{className:"flex items-center justify-between bg-card p-4 rounded-xl shadow-sm border",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[e==="light"?E.jsx(dO,{className:"w-6 h-6 text-yellow-500"}):E.jsx($E,{className:"w-6 h-6 text-blue-400"}),E.jsx("span",{className:"font-medium",children:r("theme")})]}),E.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg bg-primary text-white hover:bg-primary/90 transition",children:r("switchTo",{mode:r(e==="light"?"dark":"light")})})]}),E.jsxs("div",{className:"flex items-center justify-between bg-card p-4 rounded-xl shadow-sm border",children:[E.jsx("div",{className:"flex items-center gap-3",children:E.jsx("span",{className:"font-medium",children:r("language")})}),E.jsx("div",{className:"flex gap-2",children:["en","fa"].map(w=>E.jsx("button",{onClick:()=>b(w),className:`px-4 py-1.5 rounded-lg text-sm transition font-medium
                ${a.language===w?"bg-primary text-white shadow":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:w.toUpperCase()},w))})]})]})}const n3=({width:e=800,height:t=600,backgroundImage:r=null,className:a=""})=>{const p=D.useRef(null),b=D.useRef(null),[w,h]=D.useState("brush"),[s,u]=D.useState(!1),[d,o]=D.useState({color:"#000000",width:5,opacity:1}),c=[{id:"select",icon:WE,label:"انتخاب"},{id:"brush",icon:xw,label:"برس"},{id:"eraser",icon:Uc,label:"پاک‌کن"},{id:"rectangle",icon:To,label:"مستطیل"},{id:"circle",icon:zc,label:"دایره"},{id:"triangle",icon:pO,label:"مثلث"},{id:"line",icon:Sg,label:"خط"},{id:"text",icon:yO,label:"متن"}];D.useEffect(()=>(p.current&&!b.current&&(b.current=new st.Canvas(p.current,{width:e,height:t,backgroundColor:"#ffffff",enableRetinaScaling:!0,selection:!0,preserveObjectStacking:!0}),f()),()=>{b.current&&b.current.dispose()}),[e,t]);const f=D.useCallback(()=>{if(!b.current)return;const U=new st.PencilBrush(b.current);U.color=d.color,U.width=d.width,U.strokeLineCap="round",U.strokeLineJoin="round",b.current.freeDrawingBrush=U},[d]);D.useEffect(()=>{b.current&&r&&st.FabricImage.fromURL(r).then(U=>{const G=b.current.width,ie=b.current.height,se=G/U.width,ue=ie/U.height,le=Math.min(se,ue);U.set({scaleX:le,scaleY:le,left:(G-U.width*le)/2,top:(ie-U.height*le)/2,selectable:!1,evented:!1}),b.current.setBackgroundImage(U,()=>{b.current.renderAll()})})},[r]);const g=D.useCallback(U=>{if(b.current)switch(h(U),U){case"select":b.current.isDrawingMode=!1,b.current.selection=!0,b.current.forEachObject(ie=>{ie.selectable=!0});break;case"brush":b.current.isDrawingMode=!0,b.current.selection=!1,f();break;case"eraser":b.current.isDrawingMode=!0,b.current.selection=!1;const G=new st.PencilBrush(b.current);G.color="#ffffff",G.width=d.width*2,b.current.freeDrawingBrush=G;break;case"rectangle":b.current.isDrawingMode=!1,S("rectangle");break;case"circle":b.current.isDrawingMode=!1,S("circle");break;case"triangle":b.current.isDrawingMode=!1,S("triangle");break;case"line":b.current.isDrawingMode=!1,S("line");break;case"text":b.current.isDrawingMode=!1,_();break}},[d,f]),y=D.useCallback(()=>{w!=="eraser"&&g("eraser")},[w,g]),m=D.useCallback(()=>{u(!s)},[s]),x=D.useCallback(U=>{U.preventDefault(),u(!s)},[s]),S=D.useCallback(U=>{if(!b.current)return;let G;switch(U){case"rectangle":G=new st.Rect({left:100,top:100,width:100,height:100,fill:"transparent",stroke:d.color,strokeWidth:2});break;case"circle":G=new st.Circle({left:100,top:100,radius:50,fill:"transparent",stroke:d.color,strokeWidth:2});break;case"triangle":G=new st.Triangle({left:100,top:100,width:100,height:100,fill:"transparent",stroke:d.color,strokeWidth:2});break;case"line":G=new st.Line([50,100,200,100],{stroke:d.color,strokeWidth:2});break}G&&(b.current.add(G),b.current.setActiveObject(G),b.current.renderAll())},[d.color]),_=D.useCallback(()=>{if(!b.current)return;const U=new st.Text("متن نمونه",{left:100,top:100,fontFamily:"Arial",fontSize:20,fill:d.color});b.current.add(U),b.current.setActiveObject(U),b.current.renderAll()},[d.color]),k=D.useCallback((U,G)=>{const ie={...d,[U]:G};o(ie),b.current&&w==="brush"&&f()},[d,w,f]),O=D.useCallback(()=>{if(!b.current)return;const U=b.current.getObjects();U.length>0&&(b.current.remove(U[U.length-1]),b.current.renderAll())},[]),j=D.useCallback(()=>{b.current&&(b.current.clear(),b.current.backgroundColor="#ffffff",b.current.renderAll())},[]),F=D.useCallback(()=>{if(!b.current)return;const U=b.current.getActiveObjects();U.length&&(b.current.remove(...U),b.current.discardActiveObject(),b.current.renderAll())},[]),z=D.useCallback(()=>{if(!b.current)return;const U=b.current.toDataURL({format:"png",quality:1}),G=document.createElement("a");G.download="canvas-image.png",G.href=U,G.click()},[]);return E.jsxs("div",{className:`flex flex-col bg-gray-50 ${a}`,children:[E.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border-b border-gray-200 shadow-sm",children:[E.jsx("div",{className:"flex items-center gap-2",children:c.map(U=>{const G=U.icon;return U.id==="eraser"?E.jsx("button",{onClick:y,onDoubleClick:m,onContextMenu:x,className:`
                    flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-200
                    ${w===U.id?"bg-red-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
                  `,title:`${U.label} (دابل کلیک یا کلیک راست برای تنظیمات)`,children:E.jsx(G,{size:20})},U.id):E.jsx("button",{onClick:()=>g(U.id),className:`
                  flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-200
                  ${w===U.id?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
                `,title:U.label,children:E.jsx(G,{size:20})},U.id)})}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:O,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",title:"بازگشت",children:E.jsx(wO,{size:20})}),E.jsx("button",{onClick:F,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",title:"حذف انتخاب شده",children:E.jsx(Sw,{size:20})}),E.jsx("button",{onClick:z,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-100 text-green-600 hover:bg-green-200 transition-colors",title:"دانلود",children:E.jsx(Vc,{size:20})})]})]}),w==="brush"&&E.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white border-b border-gray-200",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Cg,{size:16,className:"text-gray-600"}),E.jsx("input",{type:"color",value:d.color,onChange:U=>k("color",U.target.value),className:"w-8 h-8 rounded border border-gray-300 cursor-pointer"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-sm text-gray-600",children:"ضخامت:"}),E.jsx("input",{type:"range",min:"1",max:"50",value:d.width,onChange:U=>k("width",parseInt(U.target.value)),className:"w-24"}),E.jsx("span",{className:"text-sm text-gray-600 min-w-[30px]",children:d.width})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-sm text-gray-600",children:"شفافیت:"}),E.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:d.opacity,onChange:U=>k("opacity",parseFloat(U.target.value)),className:"w-24"}),E.jsxs("span",{className:"text-sm text-gray-600 min-w-[30px]",children:[Math.round(d.opacity*100),"%"]})]})]}),w==="eraser"&&s&&E.jsxs("div",{className:"p-3 bg-red-50 border-b border-red-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Uc,{size:18,className:"text-red-600"}),E.jsx("span",{className:"text-sm font-medium text-red-800",children:"تنظیمات پیشرفته پاک‌کن"})]}),E.jsx("button",{onClick:()=>u(!1),className:"flex items-center justify-center w-6 h-6 rounded bg-red-200 text-red-600 hover:bg-red-300 transition-colors",title:"بستن منو",children:E.jsx(gu,{size:14})})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-sm text-red-700",children:"اندازه پاک‌کن:"}),E.jsx("input",{type:"range",min:"5",max:"100",value:d.width*2,onChange:U=>k("width",parseInt(U.target.value)/2),className:"w-24"}),E.jsx("span",{className:"text-sm text-red-700 min-w-[30px]",children:d.width*2})]}),E.jsx("div",{className:"flex items-center gap-2",children:E.jsx("button",{onClick:j,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:"پاک کردن همه"})})]})]}),E.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-auto",children:E.jsx("div",{className:"relative bg-white rounded-lg shadow-lg flex justify-center items-center",children:E.jsx("canvas",{ref:p,className:"border border-gray-300 rounded-lg"})})})]})},i3=({className:e=""})=>{const{cameras:t,wsStatus:r,imageSettings:a,updateImageSettings:p,toggleGrayscale:b,zoomImage:w,undoLastChange:h}=Au(),[s,u]=D.useState(!1),[d,o]=D.useState(!1),[c,f]=D.useState({brightness:100,contrast:100,saturation:100,blur:0,hue:0}),g=D.useCallback((k,O)=>{const j={...c,[k]:O};f(j),p(j)},[c,p]),y=D.useCallback(()=>{console.log("از دکمه دانلود داخل Canvas استفاده کنید")},[]),m=D.useCallback(()=>{const k={imageSettings:c,timestamp:Date.now()},O=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),j=document.createElement("a");j.download=`basler-project-${Date.now()}.json`,j.href=URL.createObjectURL(O),j.click(),URL.revokeObjectURL(j.href)},[c]),x=D.useCallback(k=>{const O=k.target.files[0];if(!O)return;const j=new FileReader;j.onload=async F=>{try{const z=JSON.parse(F.target.result);z.imageSettings&&(f(z.imageSettings),p(z.imageSettings)),console.log("پروژه با موفقیت بارگذاری شد")}catch(z){console.error("خطا در بارگذاری پروژه:",z)}},j.readAsText(O),k.target.value=""},[p]),S=D.useCallback(()=>{u(!s)},[s]),_=s?{width:window.innerWidth-100,height:window.innerHeight-200}:{width:800,height:600};return E.jsxs("div",{className:`h-full flex flex-col bg-gray-50 ${e}`,children:[E.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border-b border-gray-200 shadow-sm",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Basler Camera - ویرایشگر پیشرفته"}),E.jsx(oa,{status:r,lastUpdate:t.basler.lastUpdate})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("label",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors cursor-pointer",children:[E.jsx(Cw,{size:20}),E.jsx("input",{type:"file",accept:".json",onChange:x,className:"hidden"})]}),E.jsx("button",{onClick:m,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-100 text-green-600 hover:bg-green-200 transition-colors",title:"ذخیره پروژه",children:E.jsx(Vc,{size:20})}),E.jsx("button",{onClick:()=>o(!d),className:`
              flex items-center justify-center w-10 h-10 rounded-lg transition-colors
              ${d?"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
            `,title:"تنظیمات تصویر",children:E.jsx(Bi,{size:20})}),E.jsx("button",{onClick:S,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",title:s?"خروج از تمام صفحه":"تمام صفحه",children:s?E.jsx(IE,{size:20}):E.jsx(VE,{size:20})}),E.jsx("button",{onClick:h,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",title:"بازگشت",children:E.jsx(du,{size:20})})]})]}),d&&E.jsxs("div",{className:"p-4 bg-white border-b border-gray-200",children:[E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"روشنایی"}),E.jsx("input",{type:"range",min:"0",max:"200",value:c.brightness,onChange:k=>g("brightness",parseInt(k.target.value)),className:"w-full"}),E.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[c.brightness,"%"]})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"کنتراست"}),E.jsx("input",{type:"range",min:"0",max:"200",value:c.contrast,onChange:k=>g("contrast",parseInt(k.target.value)),className:"w-full"}),E.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[c.contrast,"%"]})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"اشباع"}),E.jsx("input",{type:"range",min:"0",max:"200",value:c.saturation,onChange:k=>g("saturation",parseInt(k.target.value)),className:"w-full"}),E.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[c.saturation,"%"]})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"تاری"}),E.jsx("input",{type:"range",min:"0",max:"10",value:c.blur,onChange:k=>g("blur",parseInt(k.target.value)),className:"w-full"}),E.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[c.blur,"px"]})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"رنگ"}),E.jsx("input",{type:"range",min:"-180",max:"180",value:c.hue,onChange:k=>g("hue",parseInt(k.target.value)),className:"w-full"}),E.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[c.hue,"°"]})]})]}),E.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[E.jsx("button",{onClick:b,className:`
                px-4 py-2 rounded-lg text-sm font-medium transition-colors
                ${a.grayscale?"bg-gray-800 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}
              `,children:"سیاه و سفید"}),E.jsx("button",{onClick:()=>{const k={brightness:100,contrast:100,saturation:100,blur:0,hue:0};f(k),p(k)},className:"px-4 py-2 rounded-lg text-sm font-medium bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",children:"بازنشانی"})]})]}),E.jsx("div",{className:`flex-1 ${s?"fixed inset-0 z-50 bg-gray-50":""}`,children:E.jsx(n3,{width:_.width,height:_.height,backgroundImage:t.basler.currentFrame,className:"h-full"})}),E.jsx("div",{className:"p-2 bg-gray-100 border-t border-gray-200 text-sm text-gray-600",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("span",{children:["وضعیت: ",t.basler.isConnected?"متصل":"قطع"]}),E.jsxs("span",{children:["آخرین به‌روزرسانی: ",t.basler.lastUpdate?new Date(t.basler.lastUpdate).toLocaleTimeString("fa-IR"):"-"]})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("span",{children:["اندازه Canvas: ",_.width," × ",_.height]}),E.jsx("button",{onClick:y,className:"px-3 py-1 rounded bg-green-500 text-white text-xs hover:bg-green-600 transition-colors",children:"ذخیره تصویر"})]})]})})]})},r3=()=>E.jsx(qo,{title:"تست Canvas پیشرفته",description:"آزمایش ابزارهای رسم و ویرایش با کتابخانه‌های حرفه‌ای",children:E.jsx("div",{className:"h-full",children:E.jsx(i3,{})})}),s3=[{path:"/",element:E.jsx(QN,{}),children:[{index:!0,element:E.jsx(Wk,{})},{path:"initial",element:E.jsx(DO,{})},{path:"position",element:E.jsx(jO,{})},{path:"projection",element:E.jsx(RO,{})},{path:"post-processing",element:E.jsx(PO,{})},{path:"reconstruction",element:E.jsx(LO,{})},{path:"settings",element:E.jsx(t3,{})},{path:"canvas-test",element:E.jsx(r3,{})}]}];function a3(){return zT(s3)}const Xe=e=>typeof e=="string",wo=()=>{let e,t;const r=new Promise((a,p)=>{e=a,t=p});return r.resolve=e,r.reject=t,r},Px=e=>e==null?"":""+e,o3=(e,t,r)=>{e.forEach(a=>{t[a]&&(r[a]=t[a])})},l3=/###/g,Lx=e=>e&&e.indexOf("###")>-1?e.replace(l3,"."):e,Nx=e=>!e||Xe(e),Lo=(e,t,r)=>{const a=Xe(t)?t.split("."):t;let p=0;for(;p<a.length-1;){if(Nx(e))return{};const b=Lx(a[p]);!e[b]&&r&&(e[b]=new r),Object.prototype.hasOwnProperty.call(e,b)?e=e[b]:e={},++p}return Nx(e)?{}:{obj:e,k:Lx(a[p])}},Bx=(e,t,r)=>{const{obj:a,k:p}=Lo(e,t,Object);if(a!==void 0||t.length===1){a[p]=r;return}let b=t[t.length-1],w=t.slice(0,t.length-1),h=Lo(e,w,Object);for(;h.obj===void 0&&w.length;)b=`${w[w.length-1]}.${b}`,w=w.slice(0,w.length-1),h=Lo(e,w,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${b}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${b}`]=r},c3=(e,t,r,a)=>{const{obj:p,k:b}=Lo(e,t,Object);p[b]=p[b]||[],p[b].push(r)},ou=(e,t)=>{const{obj:r,k:a}=Lo(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,a))return r[a]},u3=(e,t,r)=>{const a=ou(e,r);return a!==void 0?a:ou(t,r)},j2=(e,t,r)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?Xe(e[a])||e[a]instanceof String||Xe(t[a])||t[a]instanceof String?r&&(e[a]=t[a]):j2(e[a],t[a],r):e[a]=t[a]);return e},Us=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var f3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const h3=e=>Xe(e)?e.replace(/[&<>"'\/]/g,t=>f3[t]):e;class d3{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}}const g3=[" ",",","?","!",";"],m3=new d3(20),p3=(e,t,r)=>{t=t||"",r=r||"";const a=g3.filter(w=>t.indexOf(w)<0&&r.indexOf(w)<0);if(a.length===0)return!0;const p=m3.getRegExp(`(${a.map(w=>w==="?"?"\\?":w).join("|")})`);let b=!p.test(e);if(!b){const w=e.indexOf(r);w>0&&!p.test(e.substring(0,w))&&(b=!0)}return b},dg=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const a=t.split(r);let p=e;for(let b=0;b<a.length;){if(!p||typeof p!="object")return;let w,h="";for(let s=b;s<a.length;++s)if(s!==b&&(h+=r),h+=a[s],w=p[h],w!==void 0){if(["string","number","boolean"].indexOf(typeof w)>-1&&s<a.length-1)continue;b+=s-b+1;break}p=w}return p},Yo=e=>e==null?void 0:e.replace("_","-"),v3={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,a;(a=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||a.call(r,console,t)}};class lu{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||v3,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,a,p){return p&&!this.debug?null:(Xe(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new lu(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new lu(this.logger,t)}}var li=new lu;class Mu{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const p=this.observers[a].get(r)||0;this.observers[a].set(r,p+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([p,b])=>{for(let w=0;w<b;w++)p(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([p,b])=>{for(let w=0;w<b;w++)p.apply(p,[t,...r])})}}class Fx extends Mu{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,a,p={}){var u,d;const b=p.keySeparator!==void 0?p.keySeparator:this.options.keySeparator,w=p.ignoreJSONStructure!==void 0?p.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;t.indexOf(".")>-1?h=t.split("."):(h=[t,r],a&&(Array.isArray(a)?h.push(...a):Xe(a)&&b?h.push(...a.split(b)):h.push(a)));const s=ou(this.data,h);return!s&&!r&&!a&&t.indexOf(".")>-1&&(t=h[0],r=h[1],a=h.slice(2).join(".")),s||!w||!Xe(a)?s:dg((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],a,b)}addResource(t,r,a,p,b={silent:!1}){const w=b.keySeparator!==void 0?b.keySeparator:this.options.keySeparator;let h=[t,r];a&&(h=h.concat(w?a.split(w):a)),t.indexOf(".")>-1&&(h=t.split("."),p=r,r=h[1]),this.addNamespaces(r),Bx(this.data,h,p),b.silent||this.emit("added",t,r,a,p)}addResources(t,r,a,p={silent:!1}){for(const b in a)(Xe(a[b])||Array.isArray(a[b]))&&this.addResource(t,r,b,a[b],{silent:!0});p.silent||this.emit("added",t,r,a)}addResourceBundle(t,r,a,p,b,w={silent:!1,skipCopy:!1}){let h=[t,r];t.indexOf(".")>-1&&(h=t.split("."),p=a,a=r,r=h[1]),this.addNamespaces(r);let s=ou(this.data,h)||{};w.skipCopy||(a=JSON.parse(JSON.stringify(a))),p?j2(s,a,b):s={...s,...a},Bx(this.data,h,s),w.silent||this.emit("added",t,r,a)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(p=>r[p]&&Object.keys(r[p]).length>0)}toJSON(){return this.data}}var R2={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,a,p){return e.forEach(b=>{var w;t=((w=this.processors[b])==null?void 0:w.process(t,r,a,p))??t}),t}};const zx={},Vx=e=>!Xe(e)&&typeof e!="boolean"&&typeof e!="number";class cu extends Mu{constructor(t,r={}){super(),o3(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=li.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const a={...r};if(t==null)return!1;const p=this.resolve(t,a);return(p==null?void 0:p.res)!==void 0}extractFromKey(t,r){let a=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const p=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let b=r.ns||this.options.defaultNS||[];const w=a&&t.indexOf(a)>-1,h=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!p3(t,a,p);if(w&&!h){const s=t.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:t,namespaces:Xe(b)?[b]:b};const u=t.split(a);(a!==p||a===p&&this.options.ns.indexOf(u[0])>-1)&&(b=u.shift()),t=u.join(p)}return{key:t,namespaces:Xe(b)?[b]:b}}translate(t,r,a){let p=typeof r=="object"?{...r}:r;if(typeof p!="object"&&this.options.overloadTranslationOptionHandler&&(p=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(p={...p}),p||(p={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const b=p.returnDetails!==void 0?p.returnDetails:this.options.returnDetails,w=p.keySeparator!==void 0?p.keySeparator:this.options.keySeparator,{key:h,namespaces:s}=this.extractFromKey(t[t.length-1],p),u=s[s.length-1];let d=p.nsSeparator!==void 0?p.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const o=p.lng||this.language,c=p.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((o==null?void 0:o.toLowerCase())==="cimode")return c?b?{res:`${u}${d}${h}`,usedKey:h,exactUsedKey:h,usedLng:o,usedNS:u,usedParams:this.getUsedParamsDetails(p)}:`${u}${d}${h}`:b?{res:h,usedKey:h,exactUsedKey:h,usedLng:o,usedNS:u,usedParams:this.getUsedParamsDetails(p)}:h;const f=this.resolve(t,p);let g=f==null?void 0:f.res;const y=(f==null?void 0:f.usedKey)||h,m=(f==null?void 0:f.exactUsedKey)||h,x=["[object Number]","[object Function]","[object RegExp]"],S=p.joinArrays!==void 0?p.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,k=p.count!==void 0&&!Xe(p.count),O=cu.hasDefaultValue(p),j=k?this.pluralResolver.getSuffix(o,p.count,p):"",F=p.ordinal&&k?this.pluralResolver.getSuffix(o,p.count,{ordinal:!1}):"",z=k&&!p.ordinal&&p.count===0,U=z&&p[`defaultValue${this.options.pluralSeparator}zero`]||p[`defaultValue${j}`]||p[`defaultValue${F}`]||p.defaultValue;let G=g;_&&!g&&O&&(G=U);const ie=Vx(G),se=Object.prototype.toString.apply(G);if(_&&G&&ie&&x.indexOf(se)<0&&!(Xe(S)&&Array.isArray(G))){if(!p.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,G,{...p,ns:s}):`key '${h} (${this.language})' returned an object instead of string.`;return b?(f.res=ue,f.usedParams=this.getUsedParamsDetails(p),f):ue}if(w){const ue=Array.isArray(G),le=ue?[]:{},ee=ue?m:y;for(const X in G)if(Object.prototype.hasOwnProperty.call(G,X)){const W=`${ee}${w}${X}`;O&&!g?le[X]=this.translate(W,{...p,defaultValue:Vx(U)?U[X]:void 0,joinArrays:!1,ns:s}):le[X]=this.translate(W,{...p,joinArrays:!1,ns:s}),le[X]===W&&(le[X]=G[X])}g=le}}else if(_&&Xe(S)&&Array.isArray(g))g=g.join(S),g&&(g=this.extendTranslation(g,t,p,a));else{let ue=!1,le=!1;!this.isValidLookup(g)&&O&&(ue=!0,g=U),this.isValidLookup(g)||(le=!0,g=h);const X=(p.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&le?void 0:g,W=O&&U!==g&&this.options.updateMissing;if(le||ue||W){if(this.logger.log(W?"updateKey":"missingKey",o,u,h,W?U:g),w){const M=this.resolve(h,{...p,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,p.lng||this.language);if(this.options.saveMissingTo==="fallback"&&P&&P[0])for(let M=0;M<P.length;M++)Y.push(P[M]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(p.lng||this.language):Y.push(p.lng||this.language);const A=(M,B,H)=>{var L;const N=O&&H!==g?H:X;this.options.missingKeyHandler?this.options.missingKeyHandler(M,u,B,N,W,p):(L=this.backendConnector)!=null&&L.saveMissing&&this.backendConnector.saveMissing(M,u,B,N,W,p),this.emit("missingKey",M,u,B,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?Y.forEach(M=>{const B=this.pluralResolver.getSuffixes(M,p);z&&p[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(H=>{A([M],h+H,p[`defaultValue${H}`]||U)})}):A(Y,h,U))}g=this.extendTranslation(g,t,p,f,a),le&&g===h&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${h}`),(le||ue)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${h}`:h,ue?g:void 0,p))}return b?(f.res=g,f.usedParams=this.getUsedParamsDetails(p),f):g}extendTranslation(t,r,a,p,b){var s,u;if((s=this.i18nFormat)!=null&&s.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||p.usedLng,p.usedNS,p.usedKey,{resolved:p});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const d=Xe(t)&&(((u=a==null?void 0:a.interpolation)==null?void 0:u.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(d){const f=t.match(this.interpolator.nestingRegexp);o=f&&f.length}let c=a.replace&&!Xe(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),t=this.interpolator.interpolate(t,c,a.lng||this.language||p.usedLng,a),d){const f=t.match(this.interpolator.nestingRegexp),g=f&&f.length;o<g&&(a.nest=!1)}!a.lng&&p&&p.res&&(a.lng=this.language||p.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>(b==null?void 0:b[0])===f[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),a)),a.interpolation&&this.interpolator.reset()}const w=a.postProcess||this.options.postProcess,h=Xe(w)?[w]:w;return t!=null&&(h!=null&&h.length)&&a.applyPostProcessor!==!1&&(t=R2.handle(h,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...p,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t,r={}){let a,p,b,w,h;return Xe(t)&&(t=[t]),t.forEach(s=>{if(this.isValidLookup(a))return;const u=this.extractFromKey(s,r),d=u.key;p=d;let o=u.namespaces;this.options.fallbackNS&&(o=o.concat(this.options.fallbackNS));const c=r.count!==void 0&&!Xe(r.count),f=c&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(Xe(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);o.forEach(m=>{var x,S;this.isValidLookup(a)||(h=m,!zx[`${y[0]}-${m}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((S=this.utils)!=null&&S.hasLoadedNamespace(h))&&(zx[`${y[0]}-${m}`]=!0,this.logger.warn(`key "${p}" for languages "${y.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(_=>{var j;if(this.isValidLookup(a))return;w=_;const k=[d];if((j=this.i18nFormat)!=null&&j.addLookupKeys)this.i18nFormat.addLookupKeys(k,d,_,m,r);else{let F;c&&(F=this.pluralResolver.getSuffix(_,r.count,r));const z=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(k.push(d+F),r.ordinal&&F.indexOf(U)===0&&k.push(d+F.replace(U,this.options.pluralSeparator)),f&&k.push(d+z)),g){const G=`${d}${this.options.contextSeparator}${r.context}`;k.push(G),c&&(k.push(G+F),r.ordinal&&F.indexOf(U)===0&&k.push(G+F.replace(U,this.options.pluralSeparator)),f&&k.push(G+z))}}let O;for(;O=k.pop();)this.isValidLookup(a)||(b=O,a=this.getResource(_,m,O,r))}))})}),{res:a,usedKey:p,exactUsedKey:b,usedLng:w,usedNS:h}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,a,p={}){var b;return(b=this.i18nFormat)!=null&&b.getResource?this.i18nFormat.getResource(t,r,a,p):this.resourceStore.getResource(t,r,a,p)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!Xe(t.replace);let p=a?t.replace:t;if(a&&typeof t.count<"u"&&(p.count=t.count),this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),!a){p={...p};for(const b of r)delete p[b]}return p}static hasDefaultValue(t){const r="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&r===a.substring(0,r.length)&&t[a]!==void 0)return!0;return!1}}class Ux{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=li.create("languageUtils")}getScriptPartFromCode(t){if(t=Yo(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Yo(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Xe(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(a=>{if(r)return;const p=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(p))&&(r=p)}),!r&&this.options.supportedLngs&&t.forEach(a=>{if(r)return;const p=this.getScriptPartFromCode(a);if(this.isSupportedCode(p))return r=p;const b=this.getLanguagePartFromCode(a);if(this.isSupportedCode(b))return r=b;r=this.options.supportedLngs.find(w=>{if(w===b)return w;if(!(w.indexOf("-")<0&&b.indexOf("-")<0)&&(w.indexOf("-")>0&&b.indexOf("-")<0&&w.substring(0,w.indexOf("-"))===b||w.indexOf(b)===0&&b.length>1))return w})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Xe(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let a=t[r];return a||(a=t[this.getScriptPartFromCode(r)]),a||(a=t[this.formatLanguageCode(r)]),a||(a=t[this.getLanguagePartFromCode(r)]),a||(a=t.default),a||[]}toResolveHierarchy(t,r){const a=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),p=[],b=w=>{w&&(this.isSupportedCode(w)?p.push(w):this.logger.warn(`rejecting language code not found in supportedLngs: ${w}`))};return Xe(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&b(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&b(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&b(this.getLanguagePartFromCode(t))):Xe(t)&&b(this.formatLanguageCode(t)),a.forEach(w=>{p.indexOf(w)<0&&b(this.formatLanguageCode(w))}),p}}const Hx={zero:0,one:1,two:2,few:3,many:4,other:5},Ix={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class y3{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=li.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const a=Yo(t==="dev"?"en":t),p=r.ordinal?"ordinal":"cardinal",b=JSON.stringify({cleanedCode:a,type:p});if(b in this.pluralRulesCache)return this.pluralRulesCache[b];let w;try{w=new Intl.PluralRules(a,{type:p})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ix;if(!t.match(/-|_/))return Ix;const s=this.languageUtils.getLanguagePartFromCode(t);w=this.getRule(s,r)}return this.pluralRulesCache[b]=w,w}needsPlural(t,r={}){let a=this.getRule(t,r);return a||(a=this.getRule("dev",r)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,a={}){return this.getSuffixes(t,a).map(p=>`${r}${p}`)}getSuffixes(t,r={}){let a=this.getRule(t,r);return a||(a=this.getRule("dev",r)),a?a.resolvedOptions().pluralCategories.sort((p,b)=>Hx[p]-Hx[b]).map(p=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${p}`):[]}getSuffix(t,r,a={}){const p=this.getRule(t,a);return p?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${p.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,a))}}const Yx=(e,t,r,a=".",p=!0)=>{let b=u3(e,t,r);return!b&&p&&Xe(r)&&(b=dg(e,r,a),b===void 0&&(b=dg(t,r,a))),b},Ed=e=>e.replace(/\$/g,"$$$$");class b3{constructor(t={}){var r;this.logger=li.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:a,useRawValueToEscape:p,prefix:b,prefixEscaped:w,suffix:h,suffixEscaped:s,formatSeparator:u,unescapeSuffix:d,unescapePrefix:o,nestingPrefix:c,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:m,maxReplaces:x,alwaysFormat:S}=t.interpolation;this.escape=r!==void 0?r:h3,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=p!==void 0?p:!1,this.prefix=b?Us(b):w||"{{",this.suffix=h?Us(h):s||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":o||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=c?Us(c):f||Us("$t("),this.nestingSuffix=g?Us(g):y||Us(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=x||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,a)=>(r==null?void 0:r.source)===a?(r.lastIndex=0,r):new RegExp(a,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,a,p){var f;let b,w,h;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const S=Yx(r,s,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,a,{...p,...r,interpolationkey:g}):S}const y=g.split(this.formatSeparator),m=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(Yx(r,s,m,this.options.keySeparator,this.options.ignoreJSONStructure),x,a,{...p,...r,interpolationkey:m})};this.resetRegExp();const d=(p==null?void 0:p.missingInterpolationHandler)||this.options.missingInterpolationHandler,o=((f=p==null?void 0:p.interpolation)==null?void 0:f.skipOnVariables)!==void 0?p.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Ed(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Ed(this.escape(g)):Ed(g)}].forEach(g=>{for(h=0;b=g.regex.exec(t);){const y=b[1].trim();if(w=u(y),w===void 0)if(typeof d=="function"){const x=d(t,b,p);w=Xe(x)?x:""}else if(p&&Object.prototype.hasOwnProperty.call(p,y))w="";else if(o){w=b[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),w="";else!Xe(w)&&!this.useRawValueToEscape&&(w=Px(w));const m=g.safeValue(w);if(t=t.replace(b[0],m),o?(g.regex.lastIndex+=w.length,g.regex.lastIndex-=b[0].length):g.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),t}nest(t,r,a={}){let p,b,w;const h=(s,u)=>{const d=this.nestingOptionsSeparator;if(s.indexOf(d)<0)return s;const o=s.split(new RegExp(`${d}[ ]*{`));let c=`{${o[1]}`;s=o[0],c=this.interpolate(c,w);const f=c.match(/'/g),g=c.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!g||g.length%2!==0)&&(c=c.replace(/'/g,'"'));try{w=JSON.parse(c),u&&(w={...u,...w})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${s}`,y),`${s}${d}${c}`}return w.defaultValue&&w.defaultValue.indexOf(this.prefix)>-1&&delete w.defaultValue,s};for(;p=this.nestingRegexp.exec(t);){let s=[];w={...a},w=w.replace&&!Xe(w.replace)?w.replace:w,w.applyPostProcessor=!1,delete w.defaultValue;let u=!1;if(p[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(p[1])){const d=p[1].split(this.formatSeparator).map(o=>o.trim());p[1]=d.shift(),s=d,u=!0}if(b=r(h.call(this,p[1].trim(),w),w),b&&p[0]===t&&!Xe(b))return b;Xe(b)||(b=Px(b)),b||(this.logger.warn(`missed to resolve ${p[1]} for nesting ${t}`),b=""),u&&(b=s.reduce((d,o)=>this.format(d,o,a.lng,{...a,interpolationkey:p[1].trim()}),b.trim())),t=t.replace(p[0],b),this.regexp.lastIndex=0}return t}}const x3=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const p=a[1].substring(0,a[1].length-1);t==="currency"&&p.indexOf(":")<0?r.currency||(r.currency=p.trim()):t==="relativetime"&&p.indexOf(":")<0?r.range||(r.range=p.trim()):p.split(";").forEach(w=>{if(w){const[h,...s]=w.split(":"),u=s.join(":").trim().replace(/^'+|'+$/g,""),d=h.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},Xx=e=>{const t={};return(r,a,p)=>{let b=p;p&&p.interpolationkey&&p.formatParams&&p.formatParams[p.interpolationkey]&&p[p.interpolationkey]&&(b={...b,[p.interpolationkey]:void 0});const w=a+JSON.stringify(b);let h=t[w];return h||(h=e(Yo(a),p),t[w]=h),h(r)}},w3=e=>(t,r,a)=>e(Yo(r),a)(t);class S3{constructor(t={}){this.logger=li.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const a=r.cacheInBuiltFormats?Xx:w3;this.formats={number:a((p,b)=>{const w=new Intl.NumberFormat(p,{...b});return h=>w.format(h)}),currency:a((p,b)=>{const w=new Intl.NumberFormat(p,{...b,style:"currency"});return h=>w.format(h)}),datetime:a((p,b)=>{const w=new Intl.DateTimeFormat(p,{...b});return h=>w.format(h)}),relativetime:a((p,b)=>{const w=new Intl.RelativeTimeFormat(p,{...b});return h=>w.format(h,b.range||"day")}),list:a((p,b)=>{const w=new Intl.ListFormat(p,{...b});return h=>w.format(h)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=Xx(r)}format(t,r,a,p={}){const b=r.split(this.formatSeparator);if(b.length>1&&b[0].indexOf("(")>1&&b[0].indexOf(")")<0&&b.find(h=>h.indexOf(")")>-1)){const h=b.findIndex(s=>s.indexOf(")")>-1);b[0]=[b[0],...b.splice(1,h)].join(this.formatSeparator)}return b.reduce((h,s)=>{var o;const{formatName:u,formatOptions:d}=x3(s);if(this.formats[u]){let c=h;try{const f=((o=p==null?void 0:p.formatParams)==null?void 0:o[p.interpolationkey])||{},g=f.locale||f.lng||p.locale||p.lng||a;c=this.formats[u](h,g,{...d,...p,...f})}catch(f){this.logger.warn(f)}return c}else this.logger.warn(`there was no format function for ${u}`);return h},t)}}const C3=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class _3 extends Mu{constructor(t,r,a,p={}){var b,w;super(),this.backend=t,this.store=r,this.services=a,this.languageUtils=a.languageUtils,this.options=p,this.logger=li.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=p.maxParallelReads||10,this.readingCalls=0,this.maxRetries=p.maxRetries>=0?p.maxRetries:5,this.retryTimeout=p.retryTimeout>=1?p.retryTimeout:350,this.state={},this.queue=[],(w=(b=this.backend)==null?void 0:b.init)==null||w.call(b,a,p.backend,p)}queueLoad(t,r,a,p){const b={},w={},h={},s={};return t.forEach(u=>{let d=!0;r.forEach(o=>{const c=`${u}|${o}`;!a.reload&&this.store.hasResourceBundle(u,o)?this.state[c]=2:this.state[c]<0||(this.state[c]===1?w[c]===void 0&&(w[c]=!0):(this.state[c]=1,d=!1,w[c]===void 0&&(w[c]=!0),b[c]===void 0&&(b[c]=!0),s[o]===void 0&&(s[o]=!0)))}),d||(h[u]=!0)}),(Object.keys(b).length||Object.keys(w).length)&&this.queue.push({pending:w,pendingCount:Object.keys(w).length,loaded:{},errors:[],callback:p}),{toLoad:Object.keys(b),pending:Object.keys(w),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(s)}}loaded(t,r,a){const p=t.split("|"),b=p[0],w=p[1];r&&this.emit("failedLoading",b,w,r),!r&&a&&this.store.addResourceBundle(b,w,a,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&a&&(this.state[t]=0);const h={};this.queue.forEach(s=>{c3(s.loaded,[b],w),C3(s,t),r&&s.errors.push(r),s.pendingCount===0&&!s.done&&(Object.keys(s.loaded).forEach(u=>{h[u]||(h[u]={});const d=s.loaded[u];d.length&&d.forEach(o=>{h[u][o]===void 0&&(h[u][o]=!0)})}),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(s=>!s.done)}read(t,r,a,p=0,b=this.retryTimeout,w){if(!t.length)return w(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:a,tried:p,wait:b,callback:w});return}this.readingCalls++;const h=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const o=this.waitingReads.shift();this.read(o.lng,o.ns,o.fcName,o.tried,o.wait,o.callback)}if(u&&d&&p<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,a,p+1,b*2,w)},b);return}w(u,d)},s=this.backend[a].bind(this.backend);if(s.length===2){try{const u=s(t,r);u&&typeof u.then=="function"?u.then(d=>h(null,d)).catch(h):h(null,u)}catch(u){h(u)}return}return s(t,r,h)}prepareLoading(t,r,a={},p){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),p&&p();Xe(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Xe(r)&&(r=[r]);const b=this.queueLoad(t,r,a,p);if(!b.toLoad.length)return b.pending.length||p(),null;b.toLoad.forEach(w=>{this.loadOne(w)})}load(t,r,a){this.prepareLoading(t,r,{},a)}reload(t,r,a){this.prepareLoading(t,r,{reload:!0},a)}loadOne(t,r=""){const a=t.split("|"),p=a[0],b=a[1];this.read(p,b,"read",void 0,void 0,(w,h)=>{w&&this.logger.warn(`${r}loading namespace ${b} for language ${p} failed`,w),!w&&h&&this.logger.log(`${r}loaded namespace ${b} for language ${p}`,h),this.loaded(t,w,h)})}saveMissing(t,r,a,p,b,w={},h=()=>{}){var s,u,d,o,c;if((u=(s=this.services)==null?void 0:s.utils)!=null&&u.hasLoadedNamespace&&!((o=(d=this.services)==null?void 0:d.utils)!=null&&o.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${a}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((c=this.backend)!=null&&c.create){const f={...w,isUpdate:b},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,r,a,p,f):y=g(t,r,a,p),y&&typeof y.then=="function"?y.then(m=>h(null,m)).catch(h):h(null,y)}catch(y){h(y)}else g(t,r,a,p,h,f)}!t||!t[0]||this.store.addResource(t[0],r,a,p)}}}const $x=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Xe(e[1])&&(t.defaultValue=e[1]),Xe(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(a=>{t[a]=r[a]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Gx=e=>{var t,r;return Xe(e.ns)&&(e.ns=[e.ns]),Xe(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Xe(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Oc=()=>{},T3=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Xo extends Mu{constructor(t={},r){if(super(),this.options=Gx(t),this.services={},this.logger=li,this.modules={external:[]},T3(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Xe(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=$x();this.options={...a,...this.options,...Gx(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const p=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?li.init(p(this.modules.logger),this.options):li.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=S3;const d=new Ux(this.options);this.store=new Fx(this.options.resources,this.options);const o=this.services;o.logger=li,o.resourceStore=this.store,o.languageUtils=d,o.pluralResolver=new y3(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(o.formatter=p(u),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new b3(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new _3(p(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(c,...f)=>{this.emit(c,...f)}),this.modules.languageDetector&&(o.languageDetector=p(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=p(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new cu(this.services,this.options),this.translator.on("*",(c,...f)=>{this.emit(c,...f)}),this.modules.external.forEach(c=>{c.init&&c.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Oc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const h=wo(),s=()=>{const u=(d,o)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(o),r(d,o)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),h}loadResources(t,r=Oc){var b,w;let a=r;const p=Xe(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if((p==null?void 0:p.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const h=[],s=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(o=>{o!=="cimode"&&h.indexOf(o)<0&&h.push(o)})};p?s(p):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>s(d)),(w=(b=this.options.preload)==null?void 0:b.forEach)==null||w.call(b,u=>s(u)),this.services.backendConnector.load(h,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(u)})}else a(null)}reloadResources(t,r,a){const p=wo();return typeof t=="function"&&(a=t,t=void 0),typeof r=="function"&&(a=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),a||(a=Oc),this.services.backendConnector.reload(t,r,b=>{p.resolve(),a(b)}),p}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&R2.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const a=this.languages[r];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const a=wo();this.emit("languageChanging",t);const p=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},b=(h,s)=>{s?this.isLanguageChangingTo===t&&(p(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,a.resolve((...u)=>this.t(...u)),r&&r(h,(...u)=>this.t(...u))},w=h=>{var d,o;!t&&!h&&this.services.languageDetector&&(h=[]);const s=Xe(h)?h:h&&h[0],u=this.store.hasLanguageSomeTranslations(s)?s:this.services.languageUtils.getBestMatchFromCodes(Xe(h)?[h]:h);u&&(this.language||p(u),this.translator.language||this.translator.changeLanguage(u),(o=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||o.call(d,u)),this.loadResources(u,c=>{b(c,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?w(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(w):this.services.languageDetector.detect(w):w(t),a}getFixedT(t,r,a){const p=(b,w,...h)=>{let s;typeof w!="object"?s=this.options.overloadTranslationOptionHandler([b,w].concat(h)):s={...w},s.lng=s.lng||p.lng,s.lngs=s.lngs||p.lngs,s.ns=s.ns||p.ns,s.keyPrefix!==""&&(s.keyPrefix=s.keyPrefix||a||p.keyPrefix);const u=this.options.keySeparator||".";let d;return s.keyPrefix&&Array.isArray(b)?d=b.map(o=>`${s.keyPrefix}${u}${o}`):d=s.keyPrefix?`${s.keyPrefix}${u}${b}`:b,this.t(d,s)};return Xe(t)?p.lng=t:p.lngs=t,p.ns=r,p.keyPrefix=a,p}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=r.lng||this.resolvedLanguage||this.languages[0],p=this.options?this.options.fallbackLng:!1,b=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const w=(h,s)=>{const u=this.services.backendConnector.state[`${h}|${s}`];return u===-1||u===0||u===2};if(r.precheck){const h=r.precheck(this,w);if(h!==void 0)return h}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||w(a,t)&&(!p||w(b,t)))}loadNamespaces(t,r){const a=wo();return this.options.ns?(Xe(t)&&(t=[t]),t.forEach(p=>{this.options.ns.indexOf(p)<0&&this.options.ns.push(p)}),this.loadResources(p=>{a.resolve(),r&&r(p)}),a):(r&&r(),Promise.resolve())}loadLanguages(t,r){const a=wo();Xe(t)&&(t=[t]);const p=this.options.preload||[],b=t.filter(w=>p.indexOf(w)<0&&this.services.languageUtils.isSupportedCode(w));return b.length?(this.options.preload=p.concat(b),this.loadResources(w=>{a.resolve(),r&&r(w)}),a):(r&&r(),Promise.resolve())}dir(t){var p,b;if(t||(t=this.resolvedLanguage||(((p=this.languages)==null?void 0:p.length)>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((b=this.services)==null?void 0:b.languageUtils)||new Ux($x());return r.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){return new Xo(t,r)}cloneInstance(t={},r=Oc){const a=t.forkResourceStore;a&&delete t.forkResourceStore;const p={...this.options,...t,isClone:!0},b=new Xo(p);if((t.debug!==void 0||t.prefix!==void 0)&&(b.logger=b.logger.clone(t)),["store","services","language"].forEach(h=>{b[h]=this[h]}),b.services={...this.services},b.services.utils={hasLoadedNamespace:b.hasLoadedNamespace.bind(b)},a){const h=Object.keys(this.store.data).reduce((s,u)=>(s[u]={...this.store.data[u]},s[u]=Object.keys(s[u]).reduce((d,o)=>(d[o]={...s[u][o]},d),s[u]),s),{});b.store=new Fx(h,p),b.services.resourceStore=b.store}return b.translator=new cu(b.services,p),b.translator.on("*",(h,...s)=>{b.emit(h,...s)}),b.init(p,r),b.translator.options=p,b.translator.backendConnector.services.utils={hasLoadedNamespace:b.hasLoadedNamespace.bind(b)},b}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nn=Xo.createInstance();nn.createInstance=Xo.createInstance;nn.createInstance;nn.dir;nn.init;nn.loadResources;nn.reloadResources;nn.use;nn.changeLanguage;nn.getFixedT;nn.t;nn.exists;nn.setDefaultNamespace;nn.hasLoadedNamespace;nn.loadNamespaces;nn.loadLanguages;const{slice:k3,forEach:E3}=[];function O3(e){return E3.call(k3.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}function A3(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const Wx=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,M3=function(e,t){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},p=encodeURIComponent(t);let b=`${e}=${p}`;if(a.maxAge>0){const w=a.maxAge-0;if(Number.isNaN(w))throw new Error("maxAge should be a Number");b+=`; Max-Age=${Math.floor(w)}`}if(a.domain){if(!Wx.test(a.domain))throw new TypeError("option domain is invalid");b+=`; Domain=${a.domain}`}if(a.path){if(!Wx.test(a.path))throw new TypeError("option path is invalid");b+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");b+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(b+="; HttpOnly"),a.secure&&(b+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"strict":b+="; SameSite=Strict";break;case"none":b+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(b+="; Partitioned"),b},qx={create(e,t,r,a){let p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(p.expires=new Date,p.expires.setTime(p.expires.getTime()+r*60*1e3)),a&&(p.domain=a),document.cookie=M3(e,encodeURIComponent(t),p)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let a=0;a<r.length;a++){let p=r[a];for(;p.charAt(0)===" ";)p=p.substring(1,p.length);if(p.indexOf(t)===0)return p.substring(t.length,p.length)}return null},remove(e){this.create(e,"",-1)}};var D3={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return qx.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:a,cookieDomain:p,cookieOptions:b}=t;r&&typeof document<"u"&&qx.create(r,e,a,p,b)}},j3={name:"querystring",lookup(e){var a;let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:p}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(p=window.location.hash.substring(window.location.hash.indexOf("?")));const w=p.substring(1).split("&");for(let h=0;h<w.length;h++){const s=w[h].indexOf("=");s>0&&w[h].substring(0,s)===t&&(r=w[h].substring(s+1))}}return r}};let Hs=null;const Kx=()=>{if(Hs!==null)return Hs;try{if(Hs=typeof window<"u"&&window.localStorage!==null,!Hs)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Hs=!1}return Hs};var R3={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Kx())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&Kx()&&window.localStorage.setItem(r,e)}};let Is=null;const Zx=()=>{if(Is!==null)return Is;try{if(Is=typeof window<"u"&&window.sessionStorage!==null,!Is)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Is=!1}return Is};var P3={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Zx())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&Zx()&&window.sessionStorage.setItem(r,e)}},L3={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:a,language:p}=navigator;if(r)for(let b=0;b<r.length;b++)t.push(r[b]);a&&t.push(a),p&&t.push(p)}return t.length>0?t:void 0}},N3={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const a=t||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(r=a.getAttribute("lang")),r}},B3={name:"path",lookup(e){var p;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(p=r[typeof t=="number"?t:0])==null?void 0:p.replace("/",""):void 0}},F3={name:"subdomain",lookup(e){var p,b;let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,a=typeof window<"u"&&((b=(p=window.location)==null?void 0:p.hostname)==null?void 0:b.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[r]}};let P2=!1;try{document.cookie,P2=!0}catch{}const L2=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];P2||L2.splice(1,1);const z3=()=>({order:L2,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class N2{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=O3(r,this.options||{},z3()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=p=>p.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(D3),this.addDetector(j3),this.addDetector(R3),this.addDetector(P3),this.addDetector(L3),this.addDetector(N3),this.addDetector(B3),this.addDetector(F3)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(a=>{if(this.detectors[a]){let p=this.detectors[a].lookup(this.options);p&&typeof p=="string"&&(p=[p]),p&&(r=r.concat(p))}}),r=r.filter(a=>a!=null&&!A3(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(t,this.options)}))}}N2.type="languageDetector";const V3="Home",U3="Settings",H3="Initial",I3="Position",Y3="Projection",X3="Post Processing",$3="Reconstruction",G3="System Status & Warnings",W3="Camera",q3="Projection Display",K3="Image Reel",Z3="Histogram",Q3="Toggle Theme",J3="Crop",eB="Brush",tB="Eraser",nB="Circle",iB="Rectangle",rB="Line Chart",sB="Line",aB="Move",oB="Zoom In",lB="Zoom Out",cB="Home Page",uB="Welcome to the Home page! This page is styled to match the overall theme of the application.",fB="Settings Page",hB="This is the Settings page. Adjust your preferences here.",dB="Switch to {{mode}} Mode",gB="Input Showcase",mB="Checkboxes",pB="Checkbox 1",vB="Checkbox 2 (Default Checked)",yB="Checkbox (Disabled)",bB="Confirm {{label}}",xB="Disabled Input",wB="Inputs",SB="Text Input",CB="Number Input",_B="Email Input",TB="Save {{label}}",kB="Textarea",EB="Enter your text here...",OB="Save Textarea",AB="Other Inputs",MB="Radio Buttons",DB="Option 1",jB="Option 2",RB="Select Dropdown",PB="Select an option",LB="Upload File",NB="Selected: {{name}}",BB="Password Input",FB="Enter password",zB="Range Slider",VB="Color Picker",UB="Date Picker",HB="IconButton Showcase",IB="{{variant}} Variant",YB="Size: {{size}} (Normal)",XB="Size: {{size}} (Disabled)",$B="{{variant}} {{size}} clicked!",GB="Run",WB="Initial Parameters",qB="Name",KB="Email",ZB="Enter your name",QB="Enter your email",JB="X Position",eF="Y Position",tF="Enable Filter",nF="Connecting to WebSocket...",iF="Theme",rF="Language",sF="Dark",aF="Light",oF="Projection Acquisition",lF="Success",cF="Form data submitted successfully",uF="Error",fF="No data available to submit",hF="Are you sure?",dF="Cancel",gF="Sending...",mF="No data available to send",pF="Invalid initial parameters",vF="Power",yF="Enter power (Watts)",bF="Tube Voltage",xF="Enter tube voltage (kVp)",wF="Anode Current",SF="Enter anode current",CF="Filtration",_F="Aluminum",TF="Copper",kF="Silver",EF="Enter filter thickness (mm)",OF="Exposure Time",AF="Bit Depth",MF="Tube Status",DF="Manipulator",jF="X Position",RF="Y Position",PF="Z Position",LF="Theta Angle",NF="Gamma Angle",BF="Joystick Speed",FF="Low",zF="Medium",VF="High",UF="Cabin Camera Status",HF="Standard Preset",IF="High Power Preset",YF="Clear All",XF="Voltage",$F="Current",GF="Active",WF="Inactive",qF="Connected to WebSocket",KF="Fast Imaging",ZF="Rotation Speed",QF="Enter rotation speed",JF="Dual Energy",e4="Single Calibration",t4="Enter single calibration",n4="Rotate Calibration",i4="Enter rotate calibration",r4="Selected File",s4="Enter X position",a4="Enter Y position",o4="Enter Z position",l4="Enter Theta angle",c4="Enter Gamma angle",u4="Imaging Mode",f4="Multi-Segment Size",h4="Enter multi-segment size",d4="Image Adjustments",g4="Gain",m4="Offset",p4="Preprocess",v4="HDR",y4="Energy Level 1",b4="Energy Level 2",x4="Enter energy level 1",w4="Enter energy level 2",S4="Image Count",C4="Enter image count",_4="Image Transform",T4="None",k4="Basic Operations",E4="Normalize",O4="FFT",A4="FFT Inverse",M4="Fourier Filter",D4="Low Pass",j4="Band Pass",R4="High Pass",P4="Apply Fourier Filter",L4="Export Image",N4="TIFF",B4="JPG",F4="DICOM",z4="Image Filters",V4="Median Filter",U4="Mean Filter",H4="Variance Filter",I4="Pseudo Color Filter",Y4="Gaussian Filter",X4="Enter Gaussian sigma",$4="Sharpening",G4="Kernel Size",W4="Sharpening Strength",q4="Enter sharpening strength",K4="Edge Detection",Z4="Threshold",Q4="Enter threshold",J4="Edge Method",ez="Sobel",tz="Canny",nz="Prewitt",iz="OK",rz="Failed to send data",sz="Grayscale",az="Pan",oz="Undo",lz={home:V3,settings:U3,initial:H3,position:I3,projection:Y3,postProcessing:X3,reconstruction:$3,systemStatus:G3,camera:W3,projectionDisplay:q3,imageReel:K3,histogram:Z3,toggleTheme:Q3,crop:J3,brush:eB,eraser:tB,circle:nB,rectangle:iB,lineChart:rB,line:sB,move:aB,zoomIn:oB,zoomOut:lB,homePage:cB,welcome:uB,settingsPage:fB,settingsDescription:hB,switchTo:dB,inputShowcase:gB,checkboxes:mB,checkbox1:pB,checkbox2:vB,disabledCheckbox:yB,confirm:bB,disabledInput:xB,inputs:wB,textInput:SB,numberInput:CB,emailInput:_B,save:TB,textarea:kB,enterText:EB,saveTextarea:OB,otherInputs:AB,radioButtons:MB,option1:DB,option2:jB,selectDropdown:RB,selectOption:PB,uploadFile:LB,selected:NB,passwordInput:BB,enterPassword:FB,rangeSlider:zB,colorPicker:VB,datePicker:UB,iconButtonShowcase:HB,variant:IB,sizeNormal:YB,sizeDisabled:XB,clicked:$B,run:GB,initialParameters:WB,name:qB,email:KB,enterName:ZB,enterEmail:QB,xPosition:JB,yPosition:eF,enableFilter:tF,websocketConnecting:nF,theme:iF,language:rF,dark:sF,light:aF,projectionAcquisition:oF,success:lF,dataSubmittedSuccessfully:cF,error:uF,noDataToSubmit:fF,areYouSure:hF,cancel:dF,sendingData:gF,noDataAvailable:mF,invalidInitialParameters:pF,power:vF,enterPower:yF,tubeVoltage:bF,enterTubeVoltage:xF,anodeCurrent:wF,enterAnodeCurrent:SF,filtration:CF,aluminum:_F,copper:TF,silver:kF,enterThickness:EF,exposureTime:OF,bitDepth:AF,"8bit":"8-bit","16bit":"16-bit",tubeStatus:MF,manipulator:DF,manipulatorX:jF,manipulatorY:RF,manipulatorZ:PF,manipulatorTheta:LF,manipulatorGamma:NF,joystickSpeed:BF,joystickSpeedLow:FF,joystickSpeedMedium:zF,joystickSpeedHigh:VF,cabinCameraStatus:UF,presetStandard:HF,presetHighPower:IF,clearAll:YF,voltage:XF,current:$F,active:GF,inactive:WF,websocketConnected:qF,fastImaging:KF,rotationSpeed:ZF,enterRotationSpeed:QF,dualEnergy:JF,singleCalibration:e4,enterSingleCalibration:t4,rotateCalibration:n4,enterRotateCalibration:i4,selectedFile:r4,enterManipulatorX:s4,enterManipulatorY:a4,enterManipulatorZ:o4,enterManipulatorTheta:l4,enterManipulatorGamma:c4,"180degree":"180°","360degree":"360°",imagingMode:u4,multiSegmentSize:f4,enterMultiSegmentSize:h4,imageAdjustments:d4,gain:g4,offset:m4,preprocess:p4,hdr:v4,energyLevel1:y4,energyLevel2:b4,enterEnergyLevel1:x4,enterEnergyLevel2:w4,imageCount:S4,enterImageCount:C4,imageTransform:_4,none:T4,"90degree":"90°","270degree":"270°",basicOperations:k4,normalize:E4,fft:O4,fftInverse:A4,fourierFilter:M4,lowPass:D4,bandPass:j4,highPass:R4,applyFourierFilter:P4,exportImage:L4,export:"Export",tiff:N4,jpg:B4,dicom:F4,imageFilters:z4,medianFilter:V4,meanFilter:U4,varianceFilter:H4,pseudoColorFilter:I4,gaussianFilter:Y4,enterGaussianSigma:X4,sharpening:$4,kernelSize:G4,sharpeningStrength:W4,enterSharpeningStrength:q4,edgeDetection:K4,threshold:Z4,enterThreshold:Q4,edgeMethod:J4,sobel:ez,canny:tz,prewitt:nz,ok:iz,failedToSendData:rz,grayscale:sz,pan:az,undo:oz},cz="خانه",uz="تنظیمات",fz="اولیه",hz="موقعیت",dz="پروجکشن",gz="پس‌پردازش",mz="بازسازی",pz="وضعیت سیستم و هشدارها",vz="دوربین",yz="نمایش پروجکشن",bz="نوار تصاویر",xz="هیستوگرام",wz="تغییر تم",Sz="برش",Cz="قلم",_z="پاک‌کن",Tz="دایره",kz="مستطیل",Ez="نمودار خطی",Oz="خط",Az="جابجایی",Mz="بزرگنمایی",Dz="کوچک‌نمایی",jz="صفحه اصلی",Rz="به صفحه اصلی خوش آمدید! این صفحه با تم کلی برنامه طراحی شده است.",Pz="صفحه تنظیمات",Lz="این صفحه تنظیمات است. اینجا می‌توانید تنظیمات خود را انجام دهید.",Nz="تغییر به حالت {{mode}}",Bz="نمایش ورودی‌ها",Fz="چک‌باکس‌ها",zz="چک‌باکس ۱",Vz="چک‌باکس ۲ (پیش‌فرض انتخاب‌شده)",Uz="چک‌باکس (غیرفعال)",Hz="تأیید",Iz="ورودی غیرفعال",Yz="ورودی‌ها",Xz="ورودی متنی",$z="ورودی عددی",Gz="ورودی ایمیل",Wz="ذخیره {{label}}",qz="متن طولانی",Kz="متن خود را اینجا وارد کنید...",Zz="ذخیره متن طولانی",Qz="سایر ورودی‌ها",Jz="دکمه‌های رادیویی",eV="گزینه ۱",tV="گزینه ۲",nV="منوی کشویی",iV="یک گزینه انتخاب کنید",rV="آپلود فایل",sV="انتخاب‌شده: {{name}}",aV="ورودی رمز عبور",oV="رمز عبور را وارد کنید",lV="اسلایدر محدوده",cV="انتخاب‌گر رنگ",uV="انتخاب‌گر تاریخ",fV="نمایش دکمه آیکون",hV="نوع {{variant}}",dV="اندازه: {{size}} (عادی)",gV="اندازه: {{size}} (غیرفعال)",mV="{{variant}} {{size}} کلیک شد!",pV="اجرا",vV="پارامترهای اولیه",yV="نام",bV="ایمیل",xV="نام خود را وارد کنید",wV="ایمیل خود را وارد کنید",SV="موقعیت X",CV="موقعیت Y",_V="فعال کردن فیلتر",TV="در حال اتصال به WebSocket...",kV="تم",EV="زبان",OV="تیره",AV="روشن",MV="جمع‌آوری پروجکشن",DV="موفقیت",jV="داده‌های فرم با موفقیت ارسال شد",RV="خطا",PV="هیچ داده‌ای برای ارسال وجود ندارد",LV="آیا مطمئن هستید؟",NV="لغو",BV="در حال ارسال...",FV="هیچ داده‌ای برای ارسال وجود ندارد",zV="پارامترهای اولیه نامعتبر هستند",VV="توان",UV="مقدار توان را وارد کنید (وات)",HV="ولتاژ تیوب",IV="مقدار ولتاژ تیوب را وارد کنید (kVp)",YV="جریان آند",XV="مقدار جریان آند را وارد کنید",$V="فیلتراسیون",GV="آلومینیوم",WV="مس",qV="نقره",KV="ضخامت فیلتر را وارد کنید (mm)",ZV="زمان نوردهی",QV="عمق بیت",JV="وضعیت تیوب",e6="منیپولیتور",t6=" X",n6=" Y",i6=" Z",r6=" تتا",s6=" گاما",a6="سرعت جوی‌استیک",o6="کم",l6="متوسط",c6="زیاد",u6="وضعیت دوربین کابین",f6="پیش‌تنظیم استاندارد",h6="پیش‌تنظیم قدرت بالا",d6="پاک کردن همه",g6="ولتاژ",m6="جریان",p6="فعال",v6="غیرفعال",y6="به WebSocket متصل شد",b6="تصویربرداری سریع",x6="سرعت چرخش",w6="سرعت چرخش را وارد کنید",S6="انرژی دوگانه",C6="کالیبراسیون تک",_6="کالیبراسیون تک را وارد کنید",T6="کالیبراسیون چرخشی",k6="کالیبراسیون چرخشی را وارد کنید",E6="فایل انتخاب‌شده",O6="موقعیت X را وارد کنید",A6="موقعیت Y را وارد کنید",M6="موقعیت Z را وارد کنید",D6="زاویه تتا را وارد کنید",j6="زاویه گاما را وارد کنید",R6="حالت تصویربرداری",P6="اندازه چند بخشی",L6="اندازه چند بخشی را وارد کنید",N6="تنظیمات تصویر",B6="بهره",F6="آفست",z6="پیش‌پردازش",V6="HDR",U6="سطح انرژی ۱",H6="سطح انرژی ۲",I6="سطح انرژی ۱ را وارد کنید",Y6="سطح انرژی ۲ را وارد کنید",X6="تعداد تصویر",$6="تعداد تصویر را وارد کنید",G6="تبدیل تصویر",W6="هیچ",q6="عملیات پایه",K6="نرمال‌سازی",Z6="تبدیل فوریه",Q6="تبدیل فوریه معکوس",J6="فیلتر فوریه",eU="پایین‌گذر",tU="باند‌گذر",nU="بالا‌گذر",iU="اعمال فیلتر فوریه",rU="خروجی تصویر",sU="TIFF",aU="JPG",oU="DICOM",lU="فیلترهای تصویر",cU="فیلتر میانه",uU="فیلتر میانگین",fU="فیلتر واریانس",hU="فیلتر رنگ کاذب",dU="فیلتر گاوسی",gU="سیگما گاوسی را وارد کنید",mU="تیزسازی",pU="اندازه کرنل",vU="قدرت تیزسازی",yU="قدرت تیزسازی را وارد کنید",bU="تشخیص لبه",xU="آستانه",wU="آستانه را وارد کنید",SU="روش تشخیص لبه",CU="سوبل",_U="کنی",TU="پرویت",kU="باشه",EU="ارسال داده ناموفق بود",OU="سیاه و سفید",AU="حرکت",MU="بازگشت",DU={home:cz,settings:uz,initial:fz,position:hz,projection:dz,postProcessing:gz,reconstruction:mz,systemStatus:pz,camera:vz,projectionDisplay:yz,imageReel:bz,histogram:xz,toggleTheme:wz,crop:Sz,brush:Cz,eraser:_z,circle:Tz,rectangle:kz,lineChart:Ez,line:Oz,move:Az,zoomIn:Mz,zoomOut:Dz,homePage:jz,welcome:Rz,settingsPage:Pz,settingsDescription:Lz,switchTo:Nz,inputShowcase:Bz,checkboxes:Fz,checkbox1:zz,checkbox2:Vz,disabledCheckbox:Uz,confirm:Hz,disabledInput:Iz,inputs:Yz,textInput:Xz,numberInput:$z,emailInput:Gz,save:Wz,textarea:qz,enterText:Kz,saveTextarea:Zz,otherInputs:Qz,radioButtons:Jz,option1:eV,option2:tV,selectDropdown:nV,selectOption:iV,uploadFile:rV,selected:sV,passwordInput:aV,enterPassword:oV,rangeSlider:lV,colorPicker:cV,datePicker:uV,iconButtonShowcase:fV,variant:hV,sizeNormal:dV,sizeDisabled:gV,clicked:mV,run:pV,initialParameters:vV,name:yV,email:bV,enterName:xV,enterEmail:wV,xPosition:SV,yPosition:CV,enableFilter:_V,websocketConnecting:TV,theme:kV,language:EV,dark:OV,light:AV,projectionAcquisition:MV,success:DV,dataSubmittedSuccessfully:jV,error:RV,noDataToSubmit:PV,areYouSure:LV,cancel:NV,sendingData:BV,noDataAvailable:FV,invalidInitialParameters:zV,power:VV,enterPower:UV,tubeVoltage:HV,enterTubeVoltage:IV,anodeCurrent:YV,enterAnodeCurrent:XV,filtration:$V,aluminum:GV,copper:WV,silver:qV,enterThickness:KV,exposureTime:ZV,bitDepth:QV,"8bit":"8 بیت","16bit":"16 بیت",tubeStatus:JV,manipulator:e6,manipulatorX:t6,manipulatorY:n6,manipulatorZ:i6,manipulatorTheta:r6,manipulatorGamma:s6,joystickSpeed:a6,joystickSpeedLow:o6,joystickSpeedMedium:l6,joystickSpeedHigh:c6,cabinCameraStatus:u6,presetStandard:f6,presetHighPower:h6,clearAll:d6,voltage:g6,current:m6,active:p6,inactive:v6,websocketConnected:y6,fastImaging:b6,rotationSpeed:x6,enterRotationSpeed:w6,dualEnergy:S6,singleCalibration:C6,enterSingleCalibration:_6,rotateCalibration:T6,enterRotateCalibration:k6,selectedFile:E6,enterManipulatorX:O6,enterManipulatorY:A6,enterManipulatorZ:M6,enterManipulatorTheta:D6,enterManipulatorGamma:j6,"180degree":"۱۸۰ درجه","360degree":"۳۶۰ درجه",imagingMode:R6,multiSegmentSize:P6,enterMultiSegmentSize:L6,imageAdjustments:N6,gain:B6,offset:F6,preprocess:z6,hdr:V6,energyLevel1:U6,energyLevel2:H6,enterEnergyLevel1:I6,enterEnergyLevel2:Y6,imageCount:X6,enterImageCount:$6,imageTransform:G6,none:W6,"90degree":"۹۰ درجه","270degree":"۲۷۰ درجه",basicOperations:q6,normalize:K6,fft:Z6,fftInverse:Q6,fourierFilter:J6,lowPass:eU,bandPass:tU,highPass:nU,applyFourierFilter:iU,exportImage:rU,export:"خروجی",tiff:sU,jpg:aU,dicom:oU,imageFilters:lU,medianFilter:cU,meanFilter:uU,varianceFilter:fU,pseudoColorFilter:hU,gaussianFilter:dU,enterGaussianSigma:gU,sharpening:mU,kernelSize:pU,sharpeningStrength:vU,enterSharpeningStrength:yU,edgeDetection:bU,threshold:xU,enterThreshold:wU,edgeMethod:SU,sobel:CU,canny:_U,prewitt:TU,ok:kU,failedToSendData:EU,grayscale:OU,pan:AU,undo:MU},jU={en:{translation:lz},fa:{translation:DU}};nn.use(N2).use(Ik).init({resources:jU,fallbackLng:"en",supportedLngs:["en","fa"],interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]},debug:!1,saveMissing:!1,missingKeyHandler:!1}).catch(e=>{console.error("i18next initialization error:",e)});const RU=D.createContext(),PU=({children:e})=>{const[t,r]=D.useState(null);return D.useEffect(()=>{const a=()=>{window.qt&&window.qt.webChannelTransport&&window.QWebChannel?new window.QWebChannel(window.qt.webChannelTransport,p=>{var b;(b=p==null?void 0:p.objects)!=null&&b.backend?r(p.objects.backend):console.error("WebChannel backend object not found.")}):setTimeout(a,100)};a()},[]),E.jsx(RU.Provider,{value:{backend:t},children:e})};aT.createRoot(document.getElementById("root")).render(E.jsx(Le.StrictMode,{children:E.jsx(Ck,{children:E.jsx(JN,{children:E.jsx(PU,{children:E.jsx(qk,{children:E.jsx(MO,{children:E.jsx(NN,{children:E.jsx(a3,{})})})})})})})}));
